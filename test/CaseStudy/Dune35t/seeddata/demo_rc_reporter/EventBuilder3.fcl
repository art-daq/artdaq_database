
services: {
  scheduler: {
    fileMode: NOMERGE
  }
  user: {
    NetMonTransportServiceInterface: {
      service_provider: NetMonTransportService
      first_data_receiver_rank: 4
      mpi_buffer_count: 8
      max_fragment_size_words: 20971520
      data_receiver_count: 1 # 2
      #broadcast_sends: true
    }
  }

  #SimpleMemoryCheck: { }
}

daq: {
  max_fragment_size_words: 20971520
  event_builder: {
    mpi_buffer_count: 48
    first_fragment_receiver_rank: 0
    fragment_receiver_count: 2
    expected_fragments_per_event: 2
    use_art: true
    print_event_store_stats: true
    verbose: false
  }

  metrics: {

    rcreporter: {
      metricPluginType: "RCReporter"
      level: 1
      fileName: "/data/lbnedaq/daqlogs/eventbuilder/eventbuilder_%UID%_metrics.log"
      uniquify: true
  }

    eventbuilder: {
      metricPluginType: "RCReporter"
      level: 1
      fileName: "/data/lbnedaq/daqlogs/eventbuilder/eventbuilder3_%UID%_metrics.log"
      uniquify: true
    }
  }

} 

outputs: {
  rootMPIOutput: {
    module_type: RootMPIOutput
  }
  #normalOutput: {
  #  module_type: RootOutput
  #  fileName: "/tmp/lbne_eb02_r%06r_sr%02s_%to.root"
  #  compressionLevel: 0
  #}
}

physics: {
  analyzers: {

  }

  producers: {
  }

  #a1: [ app, wf ]

  my_output_modules: [ rootMPIOutput ]
  #my_output_modules: [ normalOutput ]
}
source: {
  module_type: RawInput
waiting_time: 10000000
  resume_after_timeout: true
  fragment_type_map: [[1, "missed"], [2, "TPC"], [3, "PHOTON"], [4, "TRIGGER"], [5, "TOY1"], [6, "TOY2"]]
}
process_name: DAQ