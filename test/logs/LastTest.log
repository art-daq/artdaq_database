Start testing: May 12 13:33 CDT
----------------------------------------------------------
1/16 Testing: LoadStore_store_filesystem_001_t
1/16 Test: LoadStore_store_filesystem_001_t
Command: "/home/lukhanin/scratch/current/artdaq-demo-base/products/cetbuildtools/v4_18_02/bin/cet_exec_test" "--wd" "/home/lukhanin/scratch/current/artdaq-demo-base/build_artdaq-utilities-database/test/ConfigurationDB/LoadStore/test001/LoadStore_store_filesystem_001_t.d" "--required-files" "" "--datafiles" "/home/lukhanin/scratch/current/artdaq-demo-base/build_artdaq-utilities-database/test/ConfigurationDB/LoadStore/test001/test001.src.710.json;/home/lukhanin/scratch/current/artdaq-demo-base/build_artdaq-utilities-database/test/ConfigurationDB/LoadStore/test001/test001.cmp.710.json" "--skip-return-code" "247" "LoadStore_t" "-o" "store" "-d" "filesystem" "-c" "testLoadStore" "-f" "json" "-v" "versionA47065" "-s" "test001.src.710.json" "-r" "test001.cmp.710.json"
Directory: /home/lukhanin/scratch/current/artdaq-demo-base/build_artdaq-utilities-database/test/ConfigurationDB/LoadStore/test001/LoadStore_store_filesystem_001_t.d
"LoadStore_store_filesystem_001_t" start time: May 12 13:33 CDT
Output:
----------------------------------------------------------
removed ‘test001.cmp.108.json’
removed ‘test001.src.108.json’
05-12 13:33:07.947942  1  0 artdaq::database::filesystem trace_enable
05-12 13:33:07.948168  1  0 artdaq::database::filesystem::index trace_enable
05-12 13:33:07.948245  1  0 artdaq::database::mongo trace_enable
05-12 13:33:07.948370  1  0 artdaq::database::configuration::LoadStoreOperation trace_enable
05-12 13:33:07.948437  1  0 artdaq::database::configuration::options::OperationBase trace_enable
05-12 13:33:07.948501  1  0 artdaq::database::configuration::options::OperationLoadStore trace_enable
05-12 13:33:07.948539  1  0 artdaq::database::configuration::LoadStoreOperationDetail trace_enable
05-12 13:33:07.951100  1 12 Options: Updating provider from filesystem to filesystem.
05-12 13:33:07.951130  1 10 Options: Updating operation from load to store.
05-12 13:33:07.951153  1 14 Options: dataFormat args format=<json>.
05-12 13:33:07.951185  1 11 Options: Updating collection_name from notprovided to testLoadStore.
05-12 13:33:07.951210  1 10 Options: Updating version from notprovided to versionA47065.
05-12 13:33:07.960392  1 12 Options: Updating provider from filesystem to filesystem.
05-12 13:33:07.960420  1 10 Options: Updating operation from load to store.
05-12 13:33:07.960437  1 14 Options: dataFormat args format=<json>.
05-12 13:33:07.960464  1 11 Options: Updating collection_name from notprovided to testLoadStore.
05-12 13:33:07.960624  1 15 Options: searchFilter args search_filter=<{
"version" : "versionA47065"
}>.
05-12 13:33:07.960959  1 15 Options: searchFilter args search_filter=<notprovided>.
05-12 13:33:07.960978  1 10 Options: Updating version from notprovided to versionA47065.
05-12 13:33:07.961274  1 15 store_configuration: begin
05-12 13:33:07.961309  1 15 store_configuration: json_buffer=<{"data":{
"daq" : {
"event_builder" : {

"expected_fragments_per_event" : 2,

"first_fragment_receiver_rank" : 0,

"fragment_receiver_count" : 2,

"mpi_buffer_count" : 16,

"print_event_store_stats" : true,

"use_art" : true,

"verbose" : false
}
}
}
}>
05-12 13:33:07.974300  1 15 store_configuration: insert_payload=<{"document":{
    "document" : {
        "data" : {
            "daq" : {
                "event_builder" : {
                    "expected_fragments_per_event" : 2, 
                    "first_fragment_receiver_rank" : 0, 
                    "fragment_receiver_count" : 2, 
                    "mpi_buffer_count" : 16, 
                    "print_event_store_stats" : true, 
                    "use_art" : true, 
                    "verbose" : false
                }
            }
        }, 
        "metadata" : {
            "comments" : {
                "empty" : "empty"
            }
        }, 
        "search" : [
            {
                "name" : "find any", 
                "query" : "not defined"
            }
        ]
    }, 
    "source" : {
        "encoding" : "base64", 
        "format" : "json", 
        "rawdata" : "as"
    }, 
    "version" : "versionA47065", 
    "configurations" : [
        {
            "name" : "notprovided", 
            "assigned" : "Thu May 12 13:33:07 2016"
        }
    ], 
    "aliases" : {
        "active" : [

        ], 
        "history" : [

        ]
    }, 
    "changelog" : "empty", 
    "bookkeeping" : {
        "isdeleted" : false, 
        "isreadonly" : true, 
        "created" : "Tue Dec 29 18:19:25 2015", 
        "updates" : [
            {
                "addToGlobalConfig" : "Thu May 12 13:33:07 2016"
            }, 
            {
                "setVersion" : "Thu May 12 13:33:07 2016"
            }, 
            {
                "setConfigurableEntity" : "Thu May 12 13:33:07 2016"
            }
        ]
    }, 
    "configurable_entity" : {
        "name" : "notprovided"
    }
}, "collection":"testLoadStore"}>
05-12 13:33:07.974623  1  4 StorageProvider::FileSystemDB::store() begin
05-12 13:33:07.974654  1  4 StorageProvider::FileSystemDB::store() args data=<{"document":{
    "document" : {
        "data" : {
            "daq" : {
                "event_builder" : {
                    "expected_fragments_per_event" : 2, 
                    "first_fragment_receiver_rank" : 0, 
                    "fragment_receiver_count" : 2, 
                    "mpi_buffer_count" : 16, 
                    "print_event_store_stats" : true, 
                    "use_art" : true, 
                    "verbose" : false
                }
            }
        }, 
        "metadata" : {
            "comments" : {
                "empty" : "empty"
            }
        }, 
        "search" : [
            {
                "name" : "find any", 
                "query" : "not defined"
            }
        ]
    }, 
    "source" : {
        "encoding" : "base64", 
        "format" : "json", 
        "rawdata" : "as"
    }, 
    "version" : "versionA47065", 
    "configurations" : [
        {
            "name" : "notprovided", 
            "assigned" : "Thu May 12 13:33:07 2016"
        }
    ], 
    "aliases" : {
        "active" : [

        ], 
        "history" : [

        ]
    }, 
    "changelog" : "empty", 
    "bookkeeping" : {
        "isdeleted" : false, 
        "isreadonly" : true, 
        "created" : "Tue Dec 29 18:19:25 2015", 
        "updates" : [
            {
                "addToGlobalConfig" : "Thu May 12 13:33:07 2016"
            }, 
            {
                "setVersion" : "Thu May 12 13:33:07 2016"
            }, 
            {
                "setConfigurableEntity" : "Thu May 12 13:33:07 2016"
            }
        ]
    }, 
    "configurable_entity" : {
        "name" : "notprovided"
    }
}, "collection":"testLoadStore"}>
05-12 13:33:07.978485  1 12 StorageProvider::FileSystemDB generate_oid=760547e4ab514d93a427723d
05-12 13:33:07.982095  1  4 StorageProvider::FileSystemDB::store() using generated oid=<760547e4ab514d93a427723d>.
05-12 13:33:07.982161  1  4 StorageProvider::FileSystemDB::store() collection_path=<file:///home/lukhanin/databases/filesystemdb/testLoadStore/>.
05-12 13:33:07.982196  1 11 StorageProvider::FileSystemDB mkdir dir=</home/lukhanin/databases/filesystemdb/testLoadStore/>
05-12 13:33:07.982248  1 11 StorageProvider::FileSystemDB Directory exists, checking permissions; path=</home/lukhanin/databases/filesystemdb/testLoadStore/>
05-12 13:33:07.982457  1  4 StorageProvider::FileSystemDB::store() filename=</home/lukhanin/databases/filesystemdb/testLoadStore/760547e4ab514d93a427723d.json>.
05-12 13:33:07.993758  1  3 StorageProvider::FileSystemDB::index::_open() begin
05-12 13:33:07.993774  1  3 StorageProvider::FileSystemDB::index::_open() args index_path=</home/lukhanin/databases/filesystemdb/testLoadStore/index.json>.
05-12 13:33:07.993988  1  3 StorageProvider::FileSystemDB::index::_open() json=<{
"version" : {
"versionA01749" : [
"94adcd1f5f6748cda59d13f6"
],
"versionB01749" : [
"0e0fcfb7044d4e91bbdf55e4"
],
"versionC01749" : [
"c5db7ef3aeae498db2a59caf"
],
"versionA38249" : [
"290ce4a4e0e74acfba4cf107"
],
"versionB38249" : [
"b9a1eb0a4c5d4ed1a6f3191d"
],
"versionC38249" : [
"462d4002a531489a94659025"
],
"versionA65272" : [
"d869fc26dff64c6fbe132357"
],
"versionB65272" : [
"33ae84a3b7054a61b8097407"
],
"versionC65272" : [
"339f0b2d469742b487dad30a"
],
"versionA51307" : [
"8f0f2deb56fc497e9df95cdc",
"b7cbfe9fa6824b6986f11961"
],
"versionB51307" : [
"37de50d6d24f425f82438214",
"69e4ec12f4004fd78279d7a4"
],
"versionC51307" : [
"1ac8123cca4d41e18ae5469a",
"5d7e5964c8db4094951f6c1a"
],
"versionD51307" : [
"a01e6f4de48b422c93b12d30",
"cbf93bfbb758457987a4ca7b"
]
},
"configurations.name" : {
"notprovided" : [
"0e0fcfb7044d4e91bbdf55e4",
"1ac8123cca4d41e18ae5469a",
"290ce4a4e0e74acfba4cf107",
"339f0b2d469742b487dad30a",
"33ae84a3b7054a61b8097407",
"37de50d6d24f425f82438214",
"462d4002a531489a94659025",
"5d7e5964c8db4094951f6c1a",
"69e4ec12f4004fd78279d7a4",
"8f0f2deb56fc497e9df95cdc",
"94adcd1f5f6748cda59d13f6",
"a01e6f4de48b422c93b12d30",
"b7cbfe9fa6824b6986f11961",
"b9a1eb0a4c5d4ed1a6f3191d",
"c5db7ef3aeae498db2a59caf",
"cbf93bfbb758457987a4ca7b",
"d869fc26dff64c6fbe132357"
]
},
"configurable_entity.name" : {
"notprovided" : [
"290ce4a4e0e74acfba4cf107",
"33ae84a3b7054a61b8097407",
"37de50d6d24f425f82438214",
"69e4ec12f4004fd78279d7a4",
"8f0f2deb56fc497e9df95cdc",
"b7cbfe9fa6824b6986f11961",
"b9a1eb0a4c5d4ed1a6f3191d",
"d869fc26dff64c6fbe132357"
],
"ENTITY-testLoadStore" : [
"1ac8123cca4d41e18ae5469a",
"339f0b2d469742b487dad30a",
"462d4002a531489a94659025",
"5d7e5964c8db4094951f6c1a",
"a01e6f4de48b422c93b12d30",
"cbf93bfbb758457987a4ca7b"
]
}
}>
05-12 13:33:07.996803  1  5 StorageProvider::FileSystemDB::index::addDocument() begin
05-12 13:33:07.996836  1  5 StorageProvider::FileSystemDB::index::addDocument() args document=<{
        "document" : {
            "data" : {
                "daq" : {
                    "event_builder" : {
                        "expected_fragments_per_event" : 2, 
                        "first_fragment_receiver_rank" : 0, 
                        "fragment_receiver_count" : 2, 
                        "mpi_buffer_count" : 16, 
                        "print_event_store_stats" : true, 
                        "use_art" : true, 
                        "verbose" : false
                    }
                }
            }, 
            "metadata" : {
                "comments" : {
                    "empty" : "empty"
                }
            }, 
            "search" : [
                {
                    "name" : "find any", 
                    "query" : "not defined"
                }
            ]
        }, 
        "source" : {
            "encoding" : "base64", 
            "format" : "json", 
            "rawdata" : "as"
        }, 
        "version" : "versionA47065", 
        "configurations" : [
            {
                "name" : "notprovided", 
                "assigned" : "Thu May 12 13:33:07 2016"
            }
        ], 
        "aliases" : {
            "active" : [

            ], 
            "history" : [

            ]
        }, 
        "changelog" : "empty", 
        "bookkeeping" : {
            "isdeleted" : false, 
            "isreadonly" : true, 
            "created" : "Tue Dec 29 18:19:25 2015", 
            "updates" : [
                {
                    "addToGlobalConfig" : "Thu May 12 13:33:07 2016"
                }, 
                {
                    "setVersion" : "Thu May 12 13:33:07 2016"
                }, 
                {
                    "setConfigurableEntity" : "Thu May 12 13:33:07 2016"
                }
            ]
        }, 
        "configurable_entity" : {
            "name" : "notprovided"
        }, 
        "_id" : {
            "_oid" : "760547e4ab514d93a427723d"
        }
    }>.
05-12 13:33:07.996853  1  5 StorageProvider::FileSystemDB::index::addDocument() args ouid=<760547e4ab514d93a427723d>.
05-12 13:33:07.999208  1  5 StorageProvider::FileSystemDB::index::addDocument() found 9 keys.
05-12 13:33:07.999233  1  7 StorageProvider::FileSystemDB::index::_addVersion() begin
05-12 13:33:07.999241  1  7 StorageProvider::FileSystemDB::index::_addVersion() args ouid=<760547e4ab514d93a427723d>.
05-12 13:33:07.999252  1  7 StorageProvider::FileSystemDB::index::_addVersion() args version=<versionA47065>.
05-12 13:33:07.999486  1  7 StorageProvider::FileSystemDB::index::_addConfiguration() begin
05-12 13:33:07.999497  1  7 StorageProvider::FileSystemDB::index::_addConfiguration() args ouid=<760547e4ab514d93a427723d>.
05-12 13:33:07.999504  1  7 StorageProvider::FileSystemDB::index::_addConfiguration() args configuration=<notprovided>.
05-12 13:33:07.999607  1  7 StorageProvider::FileSystemDB::index::_addConfigurableEntity() begin
05-12 13:33:07.999619  1  7 StorageProvider::FileSystemDB::index::_addConfigurableEntity() args ouid=<760547e4ab514d93a427723d>.
05-12 13:33:07.999632  1  7 StorageProvider::FileSystemDB::index::_addConfigurableEntity() args entity=<notprovided>.
05-12 13:33:07.999718  1  4 StorageProvider::FileSystemDB::index::_close() begin
05-12 13:33:08.002587  1  4 StorageProvider::FileSystemDB::index::_close() json=<{
"version" : {
"versionA01749" : [
"94adcd1f5f6748cda59d13f6"
],
"versionB01749" : [
"0e0fcfb7044d4e91bbdf55e4"
],
"versionC01749" : [
"c5db7ef3aeae498db2a59caf"
],
"versionA38249" : [
"290ce4a4e0e74acfba4cf107"
],
"versionB38249" : [
"b9a1eb0a4c5d4ed1a6f3191d"
],
"versionC38249" : [
"462d4002a531489a94659025"
],
"versionA65272" : [
"d869fc26dff64c6fbe132357"
],
"versionB65272" : [
"33ae84a3b7054a61b8097407"
],
"versionC65272" : [
"339f0b2d469742b487dad30a"
],
"versionA51307" : [
"8f0f2deb56fc497e9df95cdc",
"b7cbfe9fa6824b6986f11961"
],
"versionB51307" : [
"37de50d6d24f425f82438214",
"69e4ec12f4004fd78279d7a4"
],
"versionC51307" : [
"1ac8123cca4d41e18ae5469a",
"5d7e5964c8db4094951f6c1a"
],
"versionD51307" : [
"a01e6f4de48b422c93b12d30",
"cbf93bfbb758457987a4ca7b"
],
"versionA47065" : [
"760547e4ab514d93a427723d"
]
},
"configurations.name" : {
"notprovided" : [
"0e0fcfb7044d4e91bbdf55e4",
"1ac8123cca4d41e18ae5469a",
"290ce4a4e0e74acfba4cf107",
"339f0b2d469742b487dad30a",
"33ae84a3b7054a61b8097407",
"37de50d6d24f425f82438214",
"462d4002a531489a94659025",
"5d7e5964c8db4094951f6c1a",
"69e4ec12f4004fd78279d7a4",
"760547e4ab514d93a427723d",
"8f0f2deb56fc497e9df95cdc",
"94adcd1f5f6748cda59d13f6",
"a01e6f4de48b422c93b12d30",
"b7cbfe9fa6824b6986f11961",
"b9a1eb0a4c5d4ed1a6f3191d",
"c5db7ef3aeae498db2a59caf",
"cbf93bfbb758457987a4ca7b",
"d869fc26dff64c6fbe132357"
]
},
"configurable_entity.name" : {
"notprovided" : [
"290ce4a4e0e74acfba4cf107",
"33ae84a3b7054a61b8097407",
"37de50d6d24f425f82438214",
"69e4ec12f4004fd78279d7a4",
"760547e4ab514d93a427723d",
"8f0f2deb56fc497e9df95cdc",
"b7cbfe9fa6824b6986f11961",
"b9a1eb0a4c5d4ed1a6f3191d",
"d869fc26dff64c6fbe132357"
],
"ENTITY-testLoadStore" : [
"1ac8123cca4d41e18ae5469a",
"339f0b2d469742b487dad30a",
"462d4002a531489a94659025",
"5d7e5964c8db4094951f6c1a",
"a01e6f4de48b422c93b12d30",
"cbf93bfbb758457987a4ca7b"
]
}
}>
05-12 13:33:08.002786  1  4 StorageProvider::FileSystemDB::index::_close() Closed SearchIndex.
05-12 13:33:08.002907  1 15 store_configuration: end
Parsed options:
{
"filter" : {
"version" : "versionA47065"
},
"dbprovider" : "filesystem",
"operation" : "store",
"collection" : "testLoadStore",
"dataformat" : "json"
}
Running test:<store>
returned:
{
"daq" : {
"event_builder" : {

"expected_fragments_per_event" : 2,

"first_fragment_receiver_rank" : 0,

"fragment_receiver_count" : 2,

"mpi_buffer_count" : 16,

"print_event_store_stats" : true,

"use_art" : true,

"verbose" : false
}
}
}

<end of output>
Test time =   0.11 sec
----------------------------------------------------------
Test Passed.
"LoadStore_store_filesystem_001_t" end time: May 12 13:33 CDT
"LoadStore_store_filesystem_001_t" time elapsed: 00:00:00
----------------------------------------------------------

2/16 Testing: LoadStore_store_mongo_001_t
2/16 Test: LoadStore_store_mongo_001_t
Command: "/home/lukhanin/scratch/current/artdaq-demo-base/products/cetbuildtools/v4_18_02/bin/cet_exec_test" "--wd" "/home/lukhanin/scratch/current/artdaq-demo-base/build_artdaq-utilities-database/test/ConfigurationDB/LoadStore/test001/LoadStore_store_mongo_001_t.d" "--required-files" "" "--datafiles" "/home/lukhanin/scratch/current/artdaq-demo-base/build_artdaq-utilities-database/test/ConfigurationDB/LoadStore/test001/test001.src.838.json;/home/lukhanin/scratch/current/artdaq-demo-base/build_artdaq-utilities-database/test/ConfigurationDB/LoadStore/test001/test001.cmp.838.json" "--skip-return-code" "247" "LoadStore_t" "-o" "store" "-d" "mongo" "-c" "testLoadStore" "-f" "json" "-v" "versionA47065" "-s" "test001.src.838.json" "-r" "test001.cmp.838.json"
Directory: /home/lukhanin/scratch/current/artdaq-demo-base/build_artdaq-utilities-database/test/ConfigurationDB/LoadStore/test001/LoadStore_store_mongo_001_t.d
"LoadStore_store_mongo_001_t" start time: May 12 13:33 CDT
Output:
----------------------------------------------------------
removed ‘test001.cmp.284.json’
removed ‘test001.src.284.json’
05-12 13:33:08.058834  1  0 artdaq::database::filesystem trace_enable
05-12 13:33:08.059047  1  0 artdaq::database::filesystem::index trace_enable
05-12 13:33:08.059131  1  0 artdaq::database::mongo trace_enable
05-12 13:33:08.059225  1  0 artdaq::database::configuration::LoadStoreOperation trace_enable
05-12 13:33:08.059299  1  0 artdaq::database::configuration::options::OperationBase trace_enable
05-12 13:33:08.059346  1  0 artdaq::database::configuration::options::OperationLoadStore trace_enable
05-12 13:33:08.059392  1  0 artdaq::database::configuration::LoadStoreOperationDetail trace_enable
05-12 13:33:08.062524  1 12 Options: Updating provider from filesystem to mongo.
05-12 13:33:08.062560  1 10 Options: Updating operation from load to store.
05-12 13:33:08.062581  1 14 Options: dataFormat args format=<json>.
05-12 13:33:08.062614  1 11 Options: Updating collection_name from notprovided to testLoadStore.
05-12 13:33:08.062639  1 10 Options: Updating version from notprovided to versionA47065.
05-12 13:33:08.072922  1 12 Options: Updating provider from filesystem to mongo.
05-12 13:33:08.072967  1 10 Options: Updating operation from load to store.
05-12 13:33:08.072980  1 14 Options: dataFormat args format=<json>.
05-12 13:33:08.072998  1 11 Options: Updating collection_name from notprovided to testLoadStore.
05-12 13:33:08.073172  1 15 Options: searchFilter args search_filter=<{
"version" : "versionA47065"
}>.
05-12 13:33:08.073473  1 15 Options: searchFilter args search_filter=<notprovided>.
05-12 13:33:08.073503  1 10 Options: Updating version from notprovided to versionA47065.
05-12 13:33:08.073895  1 15 store_configuration: begin
05-12 13:33:08.073930  1 15 store_configuration: json_buffer=<{"data":{
"daq" : {
"event_builder" : {

"expected_fragments_per_event" : 2,

"first_fragment_receiver_rank" : 0,

"fragment_receiver_count" : 2,

"mpi_buffer_count" : 16,

"print_event_store_stats" : true,

"use_art" : true,

"verbose" : false
}
}
}
}>
05-12 13:33:08.085169  1 15 store_configuration: insert_payload=<{"document":{
    "document" : {
        "data" : {
            "daq" : {
                "event_builder" : {
                    "expected_fragments_per_event" : 2, 
                    "first_fragment_receiver_rank" : 0, 
                    "fragment_receiver_count" : 2, 
                    "mpi_buffer_count" : 16, 
                    "print_event_store_stats" : true, 
                    "use_art" : true, 
                    "verbose" : false
                }
            }
        }, 
        "metadata" : {
            "comments" : {
                "empty" : "empty"
            }
        }, 
        "search" : [
            {
                "name" : "find any", 
                "query" : "not defined"
            }
        ]
    }, 
    "source" : {
        "encoding" : "base64", 
        "format" : "json", 
        "rawdata" : "as"
    }, 
    "version" : "versionA47065", 
    "configurations" : [
        {
            "name" : "notprovided", 
            "assigned" : "Thu May 12 13:33:08 2016"
        }
    ], 
    "aliases" : {
        "active" : [

        ], 
        "history" : [

        ]
    }, 
    "changelog" : "empty", 
    "bookkeeping" : {
        "isdeleted" : false, 
        "isreadonly" : true, 
        "created" : "Tue Dec 29 18:19:25 2015", 
        "updates" : [
            {
                "addToGlobalConfig" : "Thu May 12 13:33:08 2016"
            }, 
            {
                "setVersion" : "Thu May 12 13:33:08 2016"
            }, 
            {
                "setConfigurableEntity" : "Thu May 12 13:33:08 2016"
            }
        ]
    }, 
    "configurable_entity" : {
        "name" : "notprovided"
    }
}, "collection":"testLoadStore"}>
05-12 13:33:08.086338  1  4 StorageProvider::MongoDB::store() begin
05-12 13:33:08.086637  1  4 Search filter is missing, proceeding with insert.
05-12 13:33:08.091201  1  5 inserted_id={
    "$oid" : "5734cc641a72ba71eb420f31"
}
05-12 13:33:08.091462  1 15 store_configuration: end
Parsed options:
{
"filter" : {
"version" : "versionA47065"
},
"dbprovider" : "mongo",
"operation" : "store",
"collection" : "testLoadStore",
"dataformat" : "json"
}
Running test:<store>
returned:
{
"daq" : {
"event_builder" : {

"expected_fragments_per_event" : 2,

"first_fragment_receiver_rank" : 0,

"fragment_receiver_count" : 2,

"mpi_buffer_count" : 16,

"print_event_store_stats" : true,

"use_art" : true,

"verbose" : false
}
}
}

<end of output>
Test time =   0.09 sec
----------------------------------------------------------
Test Passed.
"LoadStore_store_mongo_001_t" end time: May 12 13:33 CDT
"LoadStore_store_mongo_001_t" time elapsed: 00:00:00
----------------------------------------------------------

3/16 Testing: LoadStore_load_filesystem_003_t
3/16 Test: LoadStore_load_filesystem_003_t
Command: "/home/lukhanin/scratch/current/artdaq-demo-base/products/cetbuildtools/v4_18_02/bin/cet_exec_test" "--wd" "/home/lukhanin/scratch/current/artdaq-demo-base/build_artdaq-utilities-database/test/ConfigurationDB/LoadStore/test003/LoadStore_load_filesystem_003_t.d" "--required-files" "" "--datafiles" "/home/lukhanin/scratch/current/artdaq-demo-base/build_artdaq-utilities-database/test/ConfigurationDB/LoadStore/test003/test001.cmp.852.json" "--skip-return-code" "247" "LoadStore_t" "-o" "load" "-d" "filesystem" "-c" "testLoadStore" "-f" "json" "-v" "versionA47065" "-r" "test001.cmp.852.json"
Directory: /home/lukhanin/scratch/current/artdaq-demo-base/build_artdaq-utilities-database/test/ConfigurationDB/LoadStore/test003/LoadStore_load_filesystem_003_t.d
"LoadStore_load_filesystem_003_t" start time: May 12 13:33 CDT
Output:
----------------------------------------------------------
removed ‘test001.cmp.911.json’
05-12 13:33:08.149943  1  0 artdaq::database::filesystem trace_enable
05-12 13:33:08.150159  1  0 artdaq::database::filesystem::index trace_enable
05-12 13:33:08.150241  1  0 artdaq::database::mongo trace_enable
05-12 13:33:08.150352  1  0 artdaq::database::configuration::LoadStoreOperation trace_enable
05-12 13:33:08.150426  1  0 artdaq::database::configuration::options::OperationBase trace_enable
05-12 13:33:08.150487  1  0 artdaq::database::configuration::options::OperationLoadStore trace_enable
05-12 13:33:08.150530  1  0 artdaq::database::configuration::LoadStoreOperationDetail trace_enable
05-12 13:33:08.153448  1 12 Options: Updating provider from filesystem to filesystem.
05-12 13:33:08.153483  1 10 Options: Updating operation from load to load.
05-12 13:33:08.153510  1 14 Options: dataFormat args format=<json>.
05-12 13:33:08.153534  1 11 Options: Updating collection_name from notprovided to testLoadStore.
05-12 13:33:08.153561  1 10 Options: Updating version from notprovided to versionA47065.
05-12 13:33:08.164800  1 12 Options: Updating provider from filesystem to filesystem.
05-12 13:33:08.164839  1 10 Options: Updating operation from load to load.
05-12 13:33:08.164880  1 14 Options: dataFormat args format=<json>.
05-12 13:33:08.164910  1 11 Options: Updating collection_name from notprovided to testLoadStore.
05-12 13:33:08.165198  1 15 Options: searchFilter args search_filter=<{
"version" : "versionA47065"
}>.
05-12 13:33:08.165597  1 15 Options: searchFilter args search_filter=<notprovided>.
05-12 13:33:08.165619  1 10 Options: Updating version from notprovided to versionA47065.
05-12 13:33:08.165975  1 16 load_configuration: begin
05-12 13:33:08.166300  1 16 load_configuration: search_payload=<{"filter":{
"version" : "versionA47065"
}, "collection":"testLoadStore"}>
05-12 13:33:08.166626  1  3 StorageProvider::FileSystemDB::load() begin
05-12 13:33:08.166654  1  3 StorageProvider::FileSystemDB::load() args search=<{"filter":{
"version" : "versionA47065"
}, "collection":"testLoadStore"}>
05-12 13:33:08.176095  1  3 StorageProvider::FileSystemDB::load() collection_path=<file:///home/lukhanin/databases/filesystemdb/testLoadStore/>.
05-12 13:33:08.176139  1 11 StorageProvider::FileSystemDB mkdir dir=</home/lukhanin/databases/filesystemdb/testLoadStore/>
05-12 13:33:08.176197  1 11 StorageProvider::FileSystemDB Directory exists, checking permissions; path=</home/lukhanin/databases/filesystemdb/testLoadStore/>
05-12 13:33:08.176439  1  3 StorageProvider::FileSystemDB::index::_open() begin
05-12 13:33:08.176456  1  3 StorageProvider::FileSystemDB::index::_open() args index_path=</home/lukhanin/databases/filesystemdb/testLoadStore/index.json>.
05-12 13:33:08.176723  1  3 StorageProvider::FileSystemDB::index::_open() json=<{
"version" : {
"versionA01749" : [
"94adcd1f5f6748cda59d13f6"
],
"versionB01749" : [
"0e0fcfb7044d4e91bbdf55e4"
],
"versionC01749" : [
"c5db7ef3aeae498db2a59caf"
],
"versionA38249" : [
"290ce4a4e0e74acfba4cf107"
],
"versionB38249" : [
"b9a1eb0a4c5d4ed1a6f3191d"
],
"versionC38249" : [
"462d4002a531489a94659025"
],
"versionA65272" : [
"d869fc26dff64c6fbe132357"
],
"versionB65272" : [
"33ae84a3b7054a61b8097407"
],
"versionC65272" : [
"339f0b2d469742b487dad30a"
],
"versionA51307" : [
"8f0f2deb56fc497e9df95cdc",
"b7cbfe9fa6824b6986f11961"
],
"versionB51307" : [
"37de50d6d24f425f82438214",
"69e4ec12f4004fd78279d7a4"
],
"versionC51307" : [
"1ac8123cca4d41e18ae5469a",
"5d7e5964c8db4094951f6c1a"
],
"versionD51307" : [
"a01e6f4de48b422c93b12d30",
"cbf93bfbb758457987a4ca7b"
],
"versionA47065" : [
"760547e4ab514d93a427723d"
]
},
"configurations.name" : {
"notprovided" : [
"0e0fcfb7044d4e91bbdf55e4",
"1ac8123cca4d41e18ae5469a",
"290ce4a4e0e74acfba4cf107",
"339f0b2d469742b487dad30a",
"33ae84a3b7054a61b8097407",
"37de50d6d24f425f82438214",
"462d4002a531489a94659025",
"5d7e5964c8db4094951f6c1a",
"69e4ec12f4004fd78279d7a4",
"760547e4ab514d93a427723d",
"8f0f2deb56fc497e9df95cdc",
"94adcd1f5f6748cda59d13f6",
"a01e6f4de48b422c93b12d30",
"b7cbfe9fa6824b6986f11961",
"b9a1eb0a4c5d4ed1a6f3191d",
"c5db7ef3aeae498db2a59caf",
"cbf93bfbb758457987a4ca7b",
"d869fc26dff64c6fbe132357"
]
},
"configurable_entity.name" : {
"notprovided" : [
"290ce4a4e0e74acfba4cf107",
"33ae84a3b7054a61b8097407",
"37de50d6d24f425f82438214",
"69e4ec12f4004fd78279d7a4",
"760547e4ab514d93a427723d",
"8f0f2deb56fc497e9df95cdc",
"b7cbfe9fa6824b6986f11961",
"b9a1eb0a4c5d4ed1a6f3191d",
"d869fc26dff64c6fbe132357"
],
"ENTITY-testLoadStore" : [
"1ac8123cca4d41e18ae5469a",
"339f0b2d469742b487dad30a",
"462d4002a531489a94659025",
"5d7e5964c8db4094951f6c1a",
"a01e6f4de48b422c93b12d30",
"cbf93bfbb758457987a4ca7b"
]
}
}>
05-12 13:33:08.180445  1  2 StorageProvider::FileSystemDB::index::findDocumentIDs() begin
05-12 13:33:08.180465  1  2 StorageProvider::FileSystemDB::index::findDocumentIDs() args search=<{
        "version" : "versionA47065"
    }>.
05-12 13:33:08.180654  1  5 StorageProvider::FileSystemDB::index::findDocumentIDs() found 1 search criteria.
05-12 13:33:08.180888  1 14 StorageProvider::FileSystemDB::index::_matchVersion() begin
05-12 13:33:08.180900  1 14 StorageProvider::FileSystemDB::index::_matchVersion() args version=<versionA47065>.
05-12 13:33:08.180964  1 15 StorageProvider::FileSystemDB::index::_matchConfiguration() Found 1 documents where version=versionA47065
05-12 13:33:08.181040  1  3 StorageProvider::FileSystemDB::load() search returned 1 documents.
05-12 13:33:08.181203  1  3 StorageProvider::FileSystemDB::load() reading document </home/lukhanin/databases/filesystemdb/testLoadStore/760547e4ab514d93a427723d.json>.
05-12 13:33:08.181489  1  4 StorageProvider::FileSystemDB::index::_close() begin
05-12 13:33:08.184840  1  4 StorageProvider::FileSystemDB::index::_close() json=<{
"version" : {
"versionA01749" : [
"94adcd1f5f6748cda59d13f6"
],
"versionB01749" : [
"0e0fcfb7044d4e91bbdf55e4"
],
"versionC01749" : [
"c5db7ef3aeae498db2a59caf"
],
"versionA38249" : [
"290ce4a4e0e74acfba4cf107"
],
"versionB38249" : [
"b9a1eb0a4c5d4ed1a6f3191d"
],
"versionC38249" : [
"462d4002a531489a94659025"
],
"versionA65272" : [
"d869fc26dff64c6fbe132357"
],
"versionB65272" : [
"33ae84a3b7054a61b8097407"
],
"versionC65272" : [
"339f0b2d469742b487dad30a"
],
"versionA51307" : [
"8f0f2deb56fc497e9df95cdc",
"b7cbfe9fa6824b6986f11961"
],
"versionB51307" : [
"37de50d6d24f425f82438214",
"69e4ec12f4004fd78279d7a4"
],
"versionC51307" : [
"1ac8123cca4d41e18ae5469a",
"5d7e5964c8db4094951f6c1a"
],
"versionD51307" : [
"a01e6f4de48b422c93b12d30",
"cbf93bfbb758457987a4ca7b"
],
"versionA47065" : [
"760547e4ab514d93a427723d"
]
},
"configurations.name" : {
"notprovided" : [
"0e0fcfb7044d4e91bbdf55e4",
"1ac8123cca4d41e18ae5469a",
"290ce4a4e0e74acfba4cf107",
"339f0b2d469742b487dad30a",
"33ae84a3b7054a61b8097407",
"37de50d6d24f425f82438214",
"462d4002a531489a94659025",
"5d7e5964c8db4094951f6c1a",
"69e4ec12f4004fd78279d7a4",
"760547e4ab514d93a427723d",
"8f0f2deb56fc497e9df95cdc",
"94adcd1f5f6748cda59d13f6",
"a01e6f4de48b422c93b12d30",
"b7cbfe9fa6824b6986f11961",
"b9a1eb0a4c5d4ed1a6f3191d",
"c5db7ef3aeae498db2a59caf",
"cbf93bfbb758457987a4ca7b",
"d869fc26dff64c6fbe132357"
]
},
"configurable_entity.name" : {
"notprovided" : [
"290ce4a4e0e74acfba4cf107",
"33ae84a3b7054a61b8097407",
"37de50d6d24f425f82438214",
"69e4ec12f4004fd78279d7a4",
"760547e4ab514d93a427723d",
"8f0f2deb56fc497e9df95cdc",
"b7cbfe9fa6824b6986f11961",
"b9a1eb0a4c5d4ed1a6f3191d",
"d869fc26dff64c6fbe132357"
],
"ENTITY-testLoadStore" : [
"1ac8123cca4d41e18ae5469a",
"339f0b2d469742b487dad30a",
"462d4002a531489a94659025",
"5d7e5964c8db4094951f6c1a",
"a01e6f4de48b422c93b12d30",
"cbf93bfbb758457987a4ca7b"
]
}
}>
05-12 13:33:08.185111  1  4 StorageProvider::FileSystemDB::index::_close() Closed SearchIndex.
05-12 13:33:08.188664  1 15 load_configuration: end
Parsed options:
{
"filter" : {
"version" : "versionA47065"
},
"dbprovider" : "filesystem",
"operation" : "load",
"collection" : "testLoadStore",
"dataformat" : "json"
}
Running test:<load>
returned:
{
"daq" : {
"event_builder" : {
"expected_fragments_per_event" : 2,
"first_fragment_receiver_rank" : 0,
"fragment_receiver_count" : 2,
"mpi_buffer_count" : 16,
"print_event_store_stats" : true,
"use_art" : true,
"verbose" : false
}
}
}
<end of output>
Test time =   0.10 sec
----------------------------------------------------------
Test Passed.
"LoadStore_load_filesystem_003_t" end time: May 12 13:33 CDT
"LoadStore_load_filesystem_003_t" time elapsed: 00:00:00
----------------------------------------------------------

4/16 Testing: LoadStore_load_mongo_003_t
4/16 Test: LoadStore_load_mongo_003_t
Command: "/home/lukhanin/scratch/current/artdaq-demo-base/products/cetbuildtools/v4_18_02/bin/cet_exec_test" "--wd" "/home/lukhanin/scratch/current/artdaq-demo-base/build_artdaq-utilities-database/test/ConfigurationDB/LoadStore/test003/LoadStore_load_mongo_003_t.d" "--required-files" "" "--datafiles" "/home/lukhanin/scratch/current/artdaq-demo-base/build_artdaq-utilities-database/test/ConfigurationDB/LoadStore/test003/test001.cmp.076.json" "--skip-return-code" "247" "LoadStore_t" "-o" "load" "-d" "mongo" "-c" "testLoadStore" "-f" "json" "-v" "versionA47065" "-r" "test001.cmp.076.json"
Directory: /home/lukhanin/scratch/current/artdaq-demo-base/build_artdaq-utilities-database/test/ConfigurationDB/LoadStore/test003/LoadStore_load_mongo_003_t.d
"LoadStore_load_mongo_003_t" start time: May 12 13:33 CDT
Output:
----------------------------------------------------------
removed ‘test001.cmp.907.json’
05-12 13:33:08.242128  1  0 artdaq::database::filesystem trace_enable
05-12 13:33:08.242326  1  0 artdaq::database::filesystem::index trace_enable
05-12 13:33:08.242407  1  0 artdaq::database::mongo trace_enable
05-12 13:33:08.242495  1  0 artdaq::database::configuration::LoadStoreOperation trace_enable
05-12 13:33:08.242560  1  0 artdaq::database::configuration::options::OperationBase trace_enable
05-12 13:33:08.242602  1  0 artdaq::database::configuration::options::OperationLoadStore trace_enable
05-12 13:33:08.242646  1  0 artdaq::database::configuration::LoadStoreOperationDetail trace_enable
05-12 13:33:08.245644  1 12 Options: Updating provider from filesystem to mongo.
05-12 13:33:08.245744  1 10 Options: Updating operation from load to load.
05-12 13:33:08.245778  1 14 Options: dataFormat args format=<json>.
05-12 13:33:08.245830  1 11 Options: Updating collection_name from notprovided to testLoadStore.
05-12 13:33:08.245861  1 10 Options: Updating version from notprovided to versionA47065.
05-12 13:33:08.254527  1 12 Options: Updating provider from filesystem to mongo.
05-12 13:33:08.254571  1 10 Options: Updating operation from load to load.
05-12 13:33:08.254593  1 14 Options: dataFormat args format=<json>.
05-12 13:33:08.254611  1 11 Options: Updating collection_name from notprovided to testLoadStore.
05-12 13:33:08.254825  1 15 Options: searchFilter args search_filter=<{
"version" : "versionA47065"
}>.
05-12 13:33:08.255100  1 15 Options: searchFilter args search_filter=<notprovided>.
05-12 13:33:08.255121  1 10 Options: Updating version from notprovided to versionA47065.
05-12 13:33:08.255464  1 16 load_configuration: begin
05-12 13:33:08.255704  1 16 load_configuration: search_payload=<{"filter":{
"version" : "versionA47065"
}, "collection":"testLoadStore"}>
05-12 13:33:08.256949  1  3 StorageProvider::MongoDB::load() begin
05-12 13:33:08.256980  1  3 StorageProvider::MongoDB::load() args search=<{"filter":{
"version" : "versionA47065"
}, "collection":"testLoadStore"}>
05-12 13:33:08.257737  1  3 StorageProvider::MongoDB::load() user provided filter=<{
    "version" : "versionA47065"
}>
05-12 13:33:08.257814  1  2 search filter=<{
    "version" : "versionA47065"
}>
05-12 13:33:08.260183  1  3 found_count=1
05-12 13:33:08.265924  1 15 load_configuration: end
Parsed options:
{
"filter" : {
"version" : "versionA47065"
},
"dbprovider" : "mongo",
"operation" : "load",
"collection" : "testLoadStore",
"dataformat" : "json"
}
Running test:<load>
returned:
{
"daq" : {
"event_builder" : {
"expected_fragments_per_event" : 2,
"first_fragment_receiver_rank" : 0,
"fragment_receiver_count" : 2,
"mpi_buffer_count" : 16,
"print_event_store_stats" : true,
"use_art" : true,
"verbose" : false
}
}
}
<end of output>
Test time =   0.08 sec
----------------------------------------------------------
Test Passed.
"LoadStore_load_mongo_003_t" end time: May 12 13:33 CDT
"LoadStore_load_mongo_003_t" time elapsed: 00:00:00
----------------------------------------------------------

5/16 Testing: LoadStore_store_filesystem_002_t
5/16 Test: LoadStore_store_filesystem_002_t
Command: "/home/lukhanin/scratch/current/artdaq-demo-base/products/cetbuildtools/v4_18_02/bin/cet_exec_test" "--wd" "/home/lukhanin/scratch/current/artdaq-demo-base/build_artdaq-utilities-database/test/ConfigurationDB/LoadStore/test002/LoadStore_store_filesystem_002_t.d" "--required-files" "" "--datafiles" "/home/lukhanin/scratch/current/artdaq-demo-base/build_artdaq-utilities-database/test/ConfigurationDB/LoadStore/test002/test001.src.725.fcl;/home/lukhanin/scratch/current/artdaq-demo-base/build_artdaq-utilities-database/test/ConfigurationDB/LoadStore/test002/test001.cmp.725.fcl" "--skip-return-code" "247" "LoadStore_t" "-o" "store" "-d" "filesystem" "-c" "testLoadStore" "-f" "fhicl" "-v" "versionB47065" "-s" "test001.src.725.fcl" "-r" "test001.cmp.725.fcl"
Directory: /home/lukhanin/scratch/current/artdaq-demo-base/build_artdaq-utilities-database/test/ConfigurationDB/LoadStore/test002/LoadStore_store_filesystem_002_t.d
"LoadStore_store_filesystem_002_t" start time: May 12 13:33 CDT
Output:
----------------------------------------------------------
removed ‘test001.cmp.480.fcl’
removed ‘test001.src.480.fcl’
05-12 13:33:08.321993  1  0 artdaq::database::filesystem trace_enable
05-12 13:33:08.322198  1  0 artdaq::database::filesystem::index trace_enable
05-12 13:33:08.322272  1  0 artdaq::database::mongo trace_enable
05-12 13:33:08.322357  1  0 artdaq::database::configuration::LoadStoreOperation trace_enable
05-12 13:33:08.322419  1  0 artdaq::database::configuration::options::OperationBase trace_enable
05-12 13:33:08.322461  1  0 artdaq::database::configuration::options::OperationLoadStore trace_enable
05-12 13:33:08.322500  1  0 artdaq::database::configuration::LoadStoreOperationDetail trace_enable
05-12 13:33:08.325061  1 12 Options: Updating provider from filesystem to filesystem.
05-12 13:33:08.325091  1 10 Options: Updating operation from load to store.
05-12 13:33:08.325112  1 14 Options: dataFormat args format=<fhicl>.
05-12 13:33:08.325133  1 11 Options: Updating collection_name from notprovided to testLoadStore.
05-12 13:33:08.325152  1 10 Options: Updating version from notprovided to versionB47065.
05-12 13:33:08.334938  1 12 Options: Updating provider from filesystem to filesystem.
05-12 13:33:08.334968  1 10 Options: Updating operation from load to store.
05-12 13:33:08.334982  1 14 Options: dataFormat args format=<fhicl>.
05-12 13:33:08.334993  1 11 Options: Updating collection_name from notprovided to testLoadStore.
05-12 13:33:08.335147  1 15 Options: searchFilter args search_filter=<{
"version" : "versionB47065"
}>.
05-12 13:33:08.335487  1 15 Options: searchFilter args search_filter=<notprovided>.
05-12 13:33:08.335507  1 10 Options: Updating version from notprovided to versionB47065.
05-12 13:33:08.335798  1 15 store_configuration: begin
05-12 13:33:08.481403  1 17 store_configuration: Converted json data to fcl; json=<{
"document" : {
"data" : {
"prolog" : {

},
"main" : {
"services" : {
"scheduler" : {
"fileMode" : "NOMERGE"
},
"NetMonTransportServiceInterface" : {
"service_provider" : "NetMonTransportService",
"max_fragment_size_words" : 2097152
}
},
"daq" : {
"max_fragment_size_words" : 2097152,
"aggregator" : {
"mpi_buffer_count" : 8,
"first_event_builder_rank" : 2,
"event_builder_count" : 2,
"expected_events_per_bunch" : 1,
"print_event_store_stats" : true,
"event_queue_depth" : 20,
"event_queue_wait_time" : 5,
"onmon_event_prescale" : 1,
"xmlrpc_client_list" : ";http://topol.fnal.gov:5205/RPC2,3;http://topol.fnal.gov:5206/RPC2,3;http://topol.fnal.gov:5235/RPC2,4;http://topol.fnal.gov:5236/RPC2,4;http://topol.fnal.gov:5265/RPC2,5;http://topol.fnal.gov:5266/RPC2,5",
"file_size_MB" : 8000,
"file_duration" : 0,
"file_event_count" : 0
},
"metrics" : {
"aggFile" : {
"metricPluginType" : "file",
"level" : 3,
"fileName" : "/tmp/aggregator/agg_%UID%_metrics.log",
"uniquify" : true
}
}
},
"source" : {
"module_type" : "NetMonInput"
},
"outputs" : {
"normalOutputMod2" : {
"module_type" : "RootOutput",
"fileName" : "/tmp/artdaqdemo_r%06r_sr%02s_%to_mod2.root",
"SelectEvents" : {
"SelectEvents" : [
"pmod2"
]
},
"compressionLevel" : 0
},
"normalOutputMod3" : {
"module_type" : "RootOutput",
"fileName" : "/tmp/artdaqdemo_r%06r_sr%02s_%to_mod3.root",
"SelectEvents" : {
"SelectEvents" : [
"pmod3"
]
},
"compressionLevel" : 0
}
},
"physics" : {
"analyzers" : {

},
"producers" : {
"BuildInfo" : {
"module_type" : "ArtdaqDemoBuildInfo",
"instance_name" : "ArtdaqDemo"
}
},
"filters" : {
"prescaleMod2" : {
"module_type" : "NthEvent",
"nth" : 2
},
"prescaleMod3" : {
"module_type" : "NthEvent",
"nth" : 3
}
},
"p1" : [

],
"p2" : [
"BuildInfo"
],
"pmod2" : [
"prescaleMod2"
],
"pmod3" : [
"prescaleMod3"
],
"my_output_modules" : [
"normalOutputMod2",
"normalOutputMod3"
]
},
"process_name" : "DAQAG"
}
},
"metadata" : {
"prolog" : {

},
"main" : {
"services" : {
"type" : "table",
"comment" : " ",
"children" : {
"scheduler" : {
"type" : "table",
"comment" : " ",
"children" : {
"fileMode" : {
"type" : "string",
"comment" : " ",
"annotation" : " "
}
}
},
"NetMonTransportServiceInterface" : {
"type" : "table",
"comment" : " ",
"children" : {
"service_provider" : {
"type" : "string",
"comment" : " ",
"annotation" : " "
},
"max_fragment_size_words" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
}
}
}
}
},
"daq" : {
"type" : "table",
"comment" : " ",
"children" : {
"max_fragment_size_words" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"aggregator" : {
"type" : "table",
"comment" : " ",
"children" : {
"mpi_buffer_count" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"first_event_builder_rank" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"event_builder_count" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"expected_events_per_bunch" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"print_event_store_stats" : {
"type" : "bool",
"comment" : " ",
"annotation" : " "
},
"event_queue_depth" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"event_queue_wait_time" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"onmon_event_prescale" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"xmlrpc_client_list" : {
"type" : "string",
"comment" : " ",
"annotation" : " "
},
"file_size_MB" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"file_duration" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"file_event_count" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
}
}
},
"metrics" : {
"type" : "table",
"comment" : " ",
"children" : {
"aggFile" : {
"type" : "table",
"comment" : " ",
"children" : {
"metricPluginType" : {
"type" : "string",
"comment" : " ",
"annotation" : " "
},
"level" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"fileName" : {
"type" : "string",
"comment" : " ",
"annotation" : " "
},
"uniquify" : {
"type" : "
05-12 13:33:08.481461  1 17 store_configuration: Converted json data to fcl; fcl=< 
services: {
 
scheduler: {
 
fileMode: NOMERGE  

} 
NetMonTransportServiceInterface: {
 
service_provider: NetMonTransportService  
 
max_fragment_size_words: 2097152  

}
} 
daq: {
 
max_fragment_size_words: 2097152  
 
aggregator: {
 
mpi_buffer_count: 8  
 
first_event_builder_rank: 2  
 
event_builder_count: 2  
 
expected_events_per_bunch: 1  
 
print_event_store_stats: true  
 
event_queue_depth: 20  
 
event_queue_wait_time: 5  
 
onmon_event_prescale: 1  
 
xmlrpc_client_list: ";http://topol.fnal.gov:5205/RPC2,3;http://topol.fnal.gov:5206/RPC2,3;http://topol.fnal.gov:5235/RPC2,4;http://topol.fnal.gov:5236/RPC2,4;http://topol.fnal.gov:5265/RPC2,5;http://topol.fnal.gov:5266/RPC2,5"  
 
file_size_MB: 8000  
 
file_duration: 0  
 
file_event_count: 0  

} 
metrics: {
 
aggFile: {
 
metricPluginType: file  
 
level: 3  
 
fileName: "/tmp/aggregator/agg_%UID%_metrics.log"  
 
uniquify: true  

}
}
} 
source: {
 
module_type: NetMonInput  

} 
outputs: {
 
normalOutputMod2: {
 
module_type: RootOutput  
 
fileName: "/tmp/artdaqdemo_r%06r_sr%02s_%to_mod2.root"  
 
SelectEvents: {
 
SelectEvents: [pmod2]  

} 
compressionLevel: 0  

} 
normalOutputMod3: {
 
module_type: RootOutput  
 
fileName: "/tmp/artdaqdemo_r%06r_sr%02s_%to_mod3.root"  
 
SelectEvents: {
 
SelectEvents: [pmod3]  

} 
compressionLevel: 0  

}
} 
physics: {
 
analyzers: {

} 
producers: {
 
BuildInfo: {
 
module_type: ArtdaqDemoBuildInfo  
 
instance_name: ArtdaqDemo  

}
} 
filters: {
 
prescaleMod2: {
 
module_type: NthEvent  
 
nth: 2  

} 
prescaleMod3: {
 
module_type: NthEvent  
 
nth: 3  

}
} 
p1: []  
 
p2: [BuildInfo]  
 
pmod2: [prescaleMod2]  
 
pmod3: [prescaleMod3]  
#my_output_modules: [ normalOutput ]
my_output_modules: [normalOutputMod2, normalOutputMod3]  

} 
process_name: DAQAG  
>
05-12 13:33:08.481489  1 15 store_configuration: json_buffer=<{
"document" : {
"data" : {
"prolog" : {

},
"main" : {
"services" : {
"scheduler" : {
"fileMode" : "NOMERGE"
},
"NetMonTransportServiceInterface" : {
"service_provider" : "NetMonTransportService",
"max_fragment_size_words" : 2097152
}
},
"daq" : {
"max_fragment_size_words" : 2097152,
"aggregator" : {
"mpi_buffer_count" : 8,
"first_event_builder_rank" : 2,
"event_builder_count" : 2,
"expected_events_per_bunch" : 1,
"print_event_store_stats" : true,
"event_queue_depth" : 20,
"event_queue_wait_time" : 5,
"onmon_event_prescale" : 1,
"xmlrpc_client_list" : ";http://topol.fnal.gov:5205/RPC2,3;http://topol.fnal.gov:5206/RPC2,3;http://topol.fnal.gov:5235/RPC2,4;http://topol.fnal.gov:5236/RPC2,4;http://topol.fnal.gov:5265/RPC2,5;http://topol.fnal.gov:5266/RPC2,5",
"file_size_MB" : 8000,
"file_duration" : 0,
"file_event_count" : 0
},
"metrics" : {
"aggFile" : {
"metricPluginType" : "file",
"level" : 3,
"fileName" : "/tmp/aggregator/agg_%UID%_metrics.log",
"uniquify" : true
}
}
},
"source" : {
"module_type" : "NetMonInput"
},
"outputs" : {
"normalOutputMod2" : {
"module_type" : "RootOutput",
"fileName" : "/tmp/artdaqdemo_r%06r_sr%02s_%to_mod2.root",
"SelectEvents" : {
"SelectEvents" : [
"pmod2"
]
},
"compressionLevel" : 0
},
"normalOutputMod3" : {
"module_type" : "RootOutput",
"fileName" : "/tmp/artdaqdemo_r%06r_sr%02s_%to_mod3.root",
"SelectEvents" : {
"SelectEvents" : [
"pmod3"
]
},
"compressionLevel" : 0
}
},
"physics" : {
"analyzers" : {

},
"producers" : {
"BuildInfo" : {
"module_type" : "ArtdaqDemoBuildInfo",
"instance_name" : "ArtdaqDemo"
}
},
"filters" : {
"prescaleMod2" : {
"module_type" : "NthEvent",
"nth" : 2
},
"prescaleMod3" : {
"module_type" : "NthEvent",
"nth" : 3
}
},
"p1" : [

],
"p2" : [
"BuildInfo"
],
"pmod2" : [
"prescaleMod2"
],
"pmod3" : [
"prescaleMod3"
],
"my_output_modules" : [
"normalOutputMod2",
"normalOutputMod3"
]
},
"process_name" : "DAQAG"
}
},
"metadata" : {
"prolog" : {

},
"main" : {
"services" : {
"type" : "table",
"comment" : " ",
"children" : {
"scheduler" : {
"type" : "table",
"comment" : " ",
"children" : {
"fileMode" : {
"type" : "string",
"comment" : " ",
"annotation" : " "
}
}
},
"NetMonTransportServiceInterface" : {
"type" : "table",
"comment" : " ",
"children" : {
"service_provider" : {
"type" : "string",
"comment" : " ",
"annotation" : " "
},
"max_fragment_size_words" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
}
}
}
}
},
"daq" : {
"type" : "table",
"comment" : " ",
"children" : {
"max_fragment_size_words" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"aggregator" : {
"type" : "table",
"comment" : " ",
"children" : {
"mpi_buffer_count" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"first_event_builder_rank" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"event_builder_count" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"expected_events_per_bunch" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"print_event_store_stats" : {
"type" : "bool",
"comment" : " ",
"annotation" : " "
},
"event_queue_depth" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"event_queue_wait_time" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"onmon_event_prescale" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"xmlrpc_client_list" : {
"type" : "string",
"comment" : " ",
"annotation" : " "
},
"file_size_MB" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"file_duration" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"file_event_count" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
}
}
},
"metrics" : {
"type" : "table",
"comment" : " ",
"children" : {
"aggFile" : {
"type" : "table",
"comment" : " ",
"children" : {
"metricPluginType" : {
"type" : "string",
"comment" : " ",
"annotation" : " "
},
"level" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"fileName" : {
"type" : "string",
"comment" : " ",
"annotation" : " "
},
"uniquify" : {
"type" : "bool",
"comment" : " 
05-12 13:33:08.497620  1 15 store_configuration: insert_payload=<{"document":{
    "document" : {
        "data" : {
            "prolog" : {

            }, 
            "main" : {
                "services" : {
                    "scheduler" : {
                        "fileMode" : "NOMERGE"
                    }, 
                    "NetMonTransportServiceInterface" : {
                        "service_provider" : "NetMonTransportService", 
                        "max_fragment_size_words" : 2097152
                    }
                }, 
                "daq" : {
                    "max_fragment_size_words" : 2097152, 
                    "aggregator" : {
                        "mpi_buffer_count" : 8, 
                        "first_event_builder_rank" : 2, 
                        "event_builder_count" : 2, 
                        "expected_events_per_bunch" : 1, 
                        "print_event_store_stats" : true, 
                        "event_queue_depth" : 20, 
                        "event_queue_wait_time" : 5, 
                        "onmon_event_prescale" : 1, 
                        "xmlrpc_client_list" : ";http://topol.fnal.gov:5205/RPC2,3;http://topol.fnal.gov:5206/RPC2,3;http://topol.fnal.gov:5235/RPC2,4;http://topol.fnal.gov:5236/RPC2,4;http://topol.fnal.gov:5265/RPC2,5;http://topol.fnal.gov:5266/RPC2,5", 
                        "file_size_MB" : 8000, 
                        "file_duration" : 0, 
                        "file_event_count" : 0
                    }, 
                    "metrics" : {
                        "aggFile" : {
                            "metricPluginType" : "file", 
                            "level" : 3, 
                            "fileName" : "/tmp/aggregator/agg_%UID%_metrics.log", 
                            "uniquify" : true
                        }
                    }
                }, 
                "source" : {
                    "module_type" : "NetMonInput"
                }, 
                "outputs" : {
                    "normalOutputMod2" : {
                        "module_type" : "RootOutput", 
                        "fileName" : "/tmp/artdaqdemo_r%06r_sr%02s_%to_mod2.root", 
                        "SelectEvents" : {
                            "SelectEvents" : [
                                "pmod2"
                            ]
                        }, 
                        "compressionLevel" : 0
                    }, 
                    "normalOutputMod3" : {
                        "module_type" : "RootOutput", 
                        "fileName" : "/tmp/artdaqdemo_r%06r_sr%02s_%to_mod3.root", 
                        "SelectEvents" : {
                            "SelectEvents" : [
                                "pmod3"
                            ]
                        }, 
                        "compressionLevel" : 0
                    }
                }, 
                "physics" : {
                    "analyzers" : {

                    }, 
                    "producers" : {
                        "BuildInfo" : {
                            "module_type" : "ArtdaqDemoBuildInfo", 
                            "instance_name" : "ArtdaqDemo"
                        }
                    }, 
                    "filters" : {
                        "prescaleMod2" : {
                            "module_type" : "NthEvent", 
                            "nth" : 2
                        }, 
                        "prescaleMod3" : {
                            "module_type" : "NthEvent", 
                            "nth" : 3
                        }
                    }, 
                    "p1" : [

                    ], 
                    "p2" : [
                        "BuildInfo"
                    ], 
                    "pmod2" : [
                        "prescaleMod2"
                    ], 
                    "pmod3" : [
                        "prescaleMod3"
                    ], 
                    "my_output_modules" : [
                        "normalOutputMod2", 
                
05-12 13:33:08.497960  1  4 StorageProvider::FileSystemDB::store() begin
05-12 13:33:08.498046  1  4 StorageProvider::FileSystemDB::store() args data=<{"document":{
    "document" : {
        "data" : {
            "prolog" : {

            }, 
            "main" : {
                "services" : {
                    "scheduler" : {
                        "fileMode" : "NOMERGE"
                    }, 
                    "NetMonTransportServiceInterface" : {
                        "service_provider" : "NetMonTransportService", 
                        "max_fragment_size_words" : 2097152
                    }
                }, 
                "daq" : {
                    "max_fragment_size_words" : 2097152, 
                    "aggregator" : {
                        "mpi_buffer_count" : 8, 
                        "first_event_builder_rank" : 2, 
                        "event_builder_count" : 2, 
                        "expected_events_per_bunch" : 1, 
                        "print_event_store_stats" : true, 
                        "event_queue_depth" : 20, 
                        "event_queue_wait_time" : 5, 
                        "onmon_event_prescale" : 1, 
                        "xmlrpc_client_list" : ";http://topol.fnal.gov:5205/RPC2,3;http://topol.fnal.gov:5206/RPC2,3;http://topol.fnal.gov:5235/RPC2,4;http://topol.fnal.gov:5236/RPC2,4;http://topol.fnal.gov:5265/RPC2,5;http://topol.fnal.gov:5266/RPC2,5", 
                        "file_size_MB" : 8000, 
                        "file_duration" : 0, 
                        "file_event_count" : 0
                    }, 
                    "metrics" : {
                        "aggFile" : {
                            "metricPluginType" : "file", 
                            "level" : 3, 
                            "fileName" : "/tmp/aggregator/agg_%UID%_metrics.log", 
                            "uniquify" : true
                        }
                    }
                }, 
                "source" : {
                    "module_type" : "NetMonInput"
                }, 
                "outputs" : {
                    "normalOutputMod2" : {
                        "module_type" : "RootOutput", 
                        "fileName" : "/tmp/artdaqdemo_r%06r_sr%02s_%to_mod2.root", 
                        "SelectEvents" : {
                            "SelectEvents" : [
                                "pmod2"
                            ]
                        }, 
                        "compressionLevel" : 0
                    }, 
                    "normalOutputMod3" : {
                        "module_type" : "RootOutput", 
                        "fileName" : "/tmp/artdaqdemo_r%06r_sr%02s_%to_mod3.root", 
                        "SelectEvents" : {
                            "SelectEvents" : [
                                "pmod3"
                            ]
                        }, 
                        "compressionLevel" : 0
                    }
                }, 
                "physics" : {
                    "analyzers" : {

                    }, 
                    "producers" : {
                        "BuildInfo" : {
                            "module_type" : "ArtdaqDemoBuildInfo", 
                            "instance_name" : "ArtdaqDemo"
                        }
                    }, 
                    "filters" : {
                        "prescaleMod2" : {
                            "module_type" : "NthEvent", 
                            "nth" : 2
                        }, 
                        "prescaleMod3" : {
                            "module_type" : "NthEvent", 
                            "nth" : 3
                        }
                    }, 
                    "p1" : [

                    ], 
                    "p2" : [
                        "BuildInfo"
                    ], 
                    "pmod2" : [
                        "prescaleMod2"
                    ], 
                    "pmod3" : [
                        "prescaleMod3"
                    ], 
                    "my_output_modules" : [
                        "normalOutputMod2", 
   
05-12 13:33:08.501773  1 12 StorageProvider::FileSystemDB generate_oid=028bfcd6db994914a8bcd3c0
05-12 13:33:08.504986  1  4 StorageProvider::FileSystemDB::store() using generated oid=<028bfcd6db994914a8bcd3c0>.
05-12 13:33:08.505034  1  4 StorageProvider::FileSystemDB::store() collection_path=<file:///home/lukhanin/databases/filesystemdb/testLoadStore/>.
05-12 13:33:08.505067  1 11 StorageProvider::FileSystemDB mkdir dir=</home/lukhanin/databases/filesystemdb/testLoadStore/>
05-12 13:33:08.505109  1 11 StorageProvider::FileSystemDB Directory exists, checking permissions; path=</home/lukhanin/databases/filesystemdb/testLoadStore/>
05-12 13:33:08.505281  1  4 StorageProvider::FileSystemDB::store() filename=</home/lukhanin/databases/filesystemdb/testLoadStore/028bfcd6db994914a8bcd3c0.json>.
05-12 13:33:08.576819  1  3 StorageProvider::FileSystemDB::index::_open() begin
05-12 13:33:08.576845  1  3 StorageProvider::FileSystemDB::index::_open() args index_path=</home/lukhanin/databases/filesystemdb/testLoadStore/index.json>.
05-12 13:33:08.577035  1  3 StorageProvider::FileSystemDB::index::_open() json=<{
"version" : {
"versionA01749" : [
"94adcd1f5f6748cda59d13f6"
],
"versionB01749" : [
"0e0fcfb7044d4e91bbdf55e4"
],
"versionC01749" : [
"c5db7ef3aeae498db2a59caf"
],
"versionA38249" : [
"290ce4a4e0e74acfba4cf107"
],
"versionB38249" : [
"b9a1eb0a4c5d4ed1a6f3191d"
],
"versionC38249" : [
"462d4002a531489a94659025"
],
"versionA65272" : [
"d869fc26dff64c6fbe132357"
],
"versionB65272" : [
"33ae84a3b7054a61b8097407"
],
"versionC65272" : [
"339f0b2d469742b487dad30a"
],
"versionA51307" : [
"8f0f2deb56fc497e9df95cdc",
"b7cbfe9fa6824b6986f11961"
],
"versionB51307" : [
"37de50d6d24f425f82438214",
"69e4ec12f4004fd78279d7a4"
],
"versionC51307" : [
"1ac8123cca4d41e18ae5469a",
"5d7e5964c8db4094951f6c1a"
],
"versionD51307" : [
"a01e6f4de48b422c93b12d30",
"cbf93bfbb758457987a4ca7b"
],
"versionA47065" : [
"760547e4ab514d93a427723d"
]
},
"configurations.name" : {
"notprovided" : [
"0e0fcfb7044d4e91bbdf55e4",
"1ac8123cca4d41e18ae5469a",
"290ce4a4e0e74acfba4cf107",
"339f0b2d469742b487dad30a",
"33ae84a3b7054a61b8097407",
"37de50d6d24f425f82438214",
"462d4002a531489a94659025",
"5d7e5964c8db4094951f6c1a",
"69e4ec12f4004fd78279d7a4",
"760547e4ab514d93a427723d",
"8f0f2deb56fc497e9df95cdc",
"94adcd1f5f6748cda59d13f6",
"a01e6f4de48b422c93b12d30",
"b7cbfe9fa6824b6986f11961",
"b9a1eb0a4c5d4ed1a6f3191d",
"c5db7ef3aeae498db2a59caf",
"cbf93bfbb758457987a4ca7b",
"d869fc26dff64c6fbe132357"
]
},
"configurable_entity.name" : {
"notprovided" : [
"290ce4a4e0e74acfba4cf107",
"33ae84a3b7054a61b8097407",
"37de50d6d24f425f82438214",
"69e4ec12f4004fd78279d7a4",
"760547e4ab514d93a427723d",
"8f0f2deb56fc497e9df95cdc",
"b7cbfe9fa6824b6986f11961",
"b9a1eb0a4c5d4ed1a6f3191d",
"d869fc26dff64c6fbe132357"
],
"ENTITY-testLoadStore" : [
"1ac8123cca4d41e18ae5469a",
"339f0b2d469742b487dad30a",
"462d4002a531489a94659025",
"5d7e5964c8db4094951f6c1a",
"a01e6f4de48b422c93b12d30",
"cbf93bfbb758457987a4ca7b"
]
}
}>
05-12 13:33:08.579005  1  5 StorageProvider::FileSystemDB::index::addDocument() begin
05-12 13:33:08.579098  1  5 StorageProvider::FileSystemDB::index::addDocument() args document=<{
        "document" : {
            "data" : {
                "prolog" : {

                }, 
                "main" : {
                    "services" : {
                        "scheduler" : {
                            "fileMode" : "NOMERGE"
                        }, 
                        "NetMonTransportServiceInterface" : {
                            "service_provider" : "NetMonTransportService", 
                            "max_fragment_size_words" : 2097152
                        }
                    }, 
                    "daq" : {
                        "max_fragment_size_words" : 2097152, 
                        "aggregator" : {
                            "mpi_buffer_count" : 8, 
                            "first_event_builder_rank" : 2, 
                            "event_builder_count" : 2, 
                            "expected_events_per_bunch" : 1, 
                            "print_event_store_stats" : true, 
                            "event_queue_depth" : 20, 
                            "event_queue_wait_time" : 5, 
                            "onmon_event_prescale" : 1, 
                            "xmlrpc_client_list" : ";http://topol.fnal.gov:5205/RPC2,3;http://topol.fnal.gov:5206/RPC2,3;http://topol.fnal.gov:5235/RPC2,4;http://topol.fnal.gov:5236/RPC2,4;http://topol.fnal.gov:5265/RPC2,5;http://topol.fnal.gov:5266/RPC2,5", 
                            "file_size_MB" : 8000, 
                            "file_duration" : 0, 
                            "file_event_count" : 0
                        }, 
                        "metrics" : {
                            "aggFile" : {
                                "metricPluginType" : "file", 
                                "level" : 3, 
                                "fileName" : "/tmp/aggregator/agg_%UID%_metrics.log", 
                                "uniquify" : true
                            }
                        }
                    }, 
                    "source" : {
                        "module_type" : "NetMonInput"
                    }, 
                    "outputs" : {
                        "normalOutputMod2" : {
                            "module_type" : "RootOutput", 
                            "fileName" : "/tmp/artdaqdemo_r%06r_sr%02s_%to_mod2.root", 
                            "SelectEvents" : {
                                "SelectEvents" : [
                                    "pmod2"
                                ]
                            }, 
                            "compressionLevel" : 0
                        }, 
                        "normalOutputMod3" : {
                            "module_type" : "RootOutput", 
                            "fileName" : "/tmp/artdaqdemo_r%06r_sr%02s_%to_mod3.root", 
                            "SelectEvents" : {
                                "SelectEvents" : [
                                    "pmod3"
                                ]
                            }, 
                            "compressionLevel" : 0
                        }
                    }, 
                    "physics" : {
                        "analyzers" : {

                        }, 
                        "producers" : {
                            "BuildInfo" : {
                                "module_type" : "ArtdaqDemoBuildInfo", 
                                "instance_name" : "ArtdaqDemo"
                            }
                        }, 
                        "filters" : {
                            "prescaleMod2" : {
                                "module_type" : "NthEvent", 
                                "nth" : 2
                            }, 
                            "prescaleMod3" : {
                                "module_type" : "NthEvent", 
                                "nth" : 3
                            }
                        }, 
                        "p1" : [

                        ], 
                        "p
05-12 13:33:08.579188  1  5 StorageProvider::FileSystemDB::index::addDocument() args ouid=<028bfcd6db994914a8bcd3c0>.
05-12 13:33:08.592873  1  5 StorageProvider::FileSystemDB::index::addDocument() found 9 keys.
05-12 13:33:08.592896  1  7 StorageProvider::FileSystemDB::index::_addVersion() begin
05-12 13:33:08.592903  1  7 StorageProvider::FileSystemDB::index::_addVersion() args ouid=<028bfcd6db994914a8bcd3c0>.
05-12 13:33:08.592911  1  7 StorageProvider::FileSystemDB::index::_addVersion() args version=<versionB47065>.
05-12 13:33:08.593078  1  7 StorageProvider::FileSystemDB::index::_addConfiguration() begin
05-12 13:33:08.593087  1  7 StorageProvider::FileSystemDB::index::_addConfiguration() args ouid=<028bfcd6db994914a8bcd3c0>.
05-12 13:33:08.593093  1  7 StorageProvider::FileSystemDB::index::_addConfiguration() args configuration=<notprovided>.
05-12 13:33:08.593183  1  7 StorageProvider::FileSystemDB::index::_addConfigurableEntity() begin
05-12 13:33:08.593193  1  7 StorageProvider::FileSystemDB::index::_addConfigurableEntity() args ouid=<028bfcd6db994914a8bcd3c0>.
05-12 13:33:08.593201  1  7 StorageProvider::FileSystemDB::index::_addConfigurableEntity() args entity=<notprovided>.
05-12 13:33:08.593442  1  4 StorageProvider::FileSystemDB::index::_close() begin
05-12 13:33:08.595539  1  4 StorageProvider::FileSystemDB::index::_close() json=<{
"version" : {
"versionA01749" : [
"94adcd1f5f6748cda59d13f6"
],
"versionB01749" : [
"0e0fcfb7044d4e91bbdf55e4"
],
"versionC01749" : [
"c5db7ef3aeae498db2a59caf"
],
"versionA38249" : [
"290ce4a4e0e74acfba4cf107"
],
"versionB38249" : [
"b9a1eb0a4c5d4ed1a6f3191d"
],
"versionC38249" : [
"462d4002a531489a94659025"
],
"versionA65272" : [
"d869fc26dff64c6fbe132357"
],
"versionB65272" : [
"33ae84a3b7054a61b8097407"
],
"versionC65272" : [
"339f0b2d469742b487dad30a"
],
"versionA51307" : [
"8f0f2deb56fc497e9df95cdc",
"b7cbfe9fa6824b6986f11961"
],
"versionB51307" : [
"37de50d6d24f425f82438214",
"69e4ec12f4004fd78279d7a4"
],
"versionC51307" : [
"1ac8123cca4d41e18ae5469a",
"5d7e5964c8db4094951f6c1a"
],
"versionD51307" : [
"a01e6f4de48b422c93b12d30",
"cbf93bfbb758457987a4ca7b"
],
"versionA47065" : [
"760547e4ab514d93a427723d"
],
"versionB47065" : [
"028bfcd6db994914a8bcd3c0"
]
},
"configurations.name" : {
"notprovided" : [
"028bfcd6db994914a8bcd3c0",
"0e0fcfb7044d4e91bbdf55e4",
"1ac8123cca4d41e18ae5469a",
"290ce4a4e0e74acfba4cf107",
"339f0b2d469742b487dad30a",
"33ae84a3b7054a61b8097407",
"37de50d6d24f425f82438214",
"462d4002a531489a94659025",
"5d7e5964c8db4094951f6c1a",
"69e4ec12f4004fd78279d7a4",
"760547e4ab514d93a427723d",
"8f0f2deb56fc497e9df95cdc",
"94adcd1f5f6748cda59d13f6",
"a01e6f4de48b422c93b12d30",
"b7cbfe9fa6824b6986f11961",
"b9a1eb0a4c5d4ed1a6f3191d",
"c5db7ef3aeae498db2a59caf",
"cbf93bfbb758457987a4ca7b",
"d869fc26dff64c6fbe132357"
]
},
"configurable_entity.name" : {
"notprovided" : [
"028bfcd6db994914a8bcd3c0",
"290ce4a4e0e74acfba4cf107",
"33ae84a3b7054a61b8097407",
"37de50d6d24f425f82438214",
"69e4ec12f4004fd78279d7a4",
"760547e4ab514d93a427723d",
"8f0f2deb56fc497e9df95cdc",
"b7cbfe9fa6824b6986f11961",
"b9a1eb0a4c5d4ed1a6f3191d",
"d869fc26dff64c6fbe132357"
],
"ENTITY-testLoadStore" : [
"1ac8123cca4d41e18ae5469a",
"339f0b2d469742b487dad30a",
"462d4002a531489a94659025",
"5d7e5964c8db4094951f6c1a",
"a01e6f4de48b422c93b12d30",
"cbf93bfbb758457987a4ca7b"
]
}
}>
05-12 13:33:08.595732  1  4 StorageProvider::FileSystemDB::index::_close() Closed SearchIndex.
05-12 13:33:08.595871  1 15 store_configuration: end
Parsed options:
{
"filter" : {
"version" : "versionB47065"
},
"dbprovider" : "filesystem",
"operation" : "store",
"collection" : "testLoadStore",
"dataformat" : "fhicl"
}
Running test:<store>
returned:
 
services: {
 
scheduler: {
 
fileMode: NOMERGE  

} 
NetMonTransportServiceInterface: {
 
service_provider: NetMonTransportService  
 
max_fragment_size_words: 2097152  

}
} 
daq: {
 
max_fragment_size_words: 2097152  
 
aggregator: {
 
mpi_buffer_count: 8  
 
first_event_builder_rank: 2  
 
event_builder_count: 2  
 
expected_events_per_bunch: 1  
 
print_event_store_stats: true  
 
event_queue_depth: 20  
 
event_queue_wait_time: 5  
 
onmon_event_prescale: 1  
 
xmlrpc_client_list: ";http://topol.fnal.gov:5205/RPC2,3;http://topol.fnal.gov:5206/RPC2,3;http://topol.fnal.gov:5235/RPC2,4;http://topol.fnal.gov:5236/RPC2,4;http://topol.fnal.gov:5265/RPC2,5;http://topol.fnal.gov:5266/RPC2,5"  
 
file_size_MB: 8000  
 
file_duration: 0  
 
file_event_count: 0  

} 
metrics: {
 
aggFile: {
 
metricPluginType: file  
 
level: 3  
 
fileName: "/tmp/aggregator/agg_%UID%_metrics.log"  
 
uniquify: true  

}
}
} 
source: {
 
module_type: NetMonInput  

} 
outputs: {
 
normalOutputMod2: {
 
module_type: RootOutput  
 
fileName: "/tmp/artdaqdemo_r%06r_sr%02s_%to_mod2.root"  
 
SelectEvents: {
 
SelectEvents: [pmod2]  

} 
compressionLevel: 0  

} 
normalOutputMod3: {
 
module_type: RootOutput  
 
fileName: "/tmp/artdaqdemo_r%06r_sr%02s_%to_mod3.root"  
 
SelectEvents: {
 
SelectEvents: [pmod3]  

} 
compressionLevel: 0  

}
} 
physics: {
 
analyzers: {

} 
producers: {
 
BuildInfo: {
 
module_type: ArtdaqDemoBuildInfo  
 
instance_name: ArtdaqDemo  

}
} 
filters: {
 
prescaleMod2: {
 
module_type: NthEvent  
 
nth: 2  

} 
prescaleMod3: {
 
module_type: NthEvent  
 
nth: 3  

}
} 
p1: []  
 
p2: [BuildInfo]  
 
pmod2: [prescaleMod2]  
 
pmod3: [prescaleMod3]  
#my_output_modules: [ normalOutput ]
my_output_modules: [normalOutputMod2, normalOutputMod3]  

} 
process_name: DAQAG  

<end of output>
Test time =   0.33 sec
----------------------------------------------------------
Test Passed.
"LoadStore_store_filesystem_002_t" end time: May 12 13:33 CDT
"LoadStore_store_filesystem_002_t" time elapsed: 00:00:00
----------------------------------------------------------

6/16 Testing: LoadStore_store_mongo_002_t
6/16 Test: LoadStore_store_mongo_002_t
Command: "/home/lukhanin/scratch/current/artdaq-demo-base/products/cetbuildtools/v4_18_02/bin/cet_exec_test" "--wd" "/home/lukhanin/scratch/current/artdaq-demo-base/build_artdaq-utilities-database/test/ConfigurationDB/LoadStore/test002/LoadStore_store_mongo_002_t.d" "--required-files" "" "--datafiles" "/home/lukhanin/scratch/current/artdaq-demo-base/build_artdaq-utilities-database/test/ConfigurationDB/LoadStore/test002/test001.src.528.fcl;/home/lukhanin/scratch/current/artdaq-demo-base/build_artdaq-utilities-database/test/ConfigurationDB/LoadStore/test002/test001.cmp.528.fcl" "--skip-return-code" "247" "LoadStore_t" "-o" "store" "-d" "mongo" "-c" "testLoadStore" "-f" "fhicl" "-v" "versionB47065" "-s" "test001.src.528.fcl" "-r" "test001.cmp.528.fcl"
Directory: /home/lukhanin/scratch/current/artdaq-demo-base/build_artdaq-utilities-database/test/ConfigurationDB/LoadStore/test002/LoadStore_store_mongo_002_t.d
"LoadStore_store_mongo_002_t" start time: May 12 13:33 CDT
Output:
----------------------------------------------------------
removed ‘test001.cmp.497.fcl’
removed ‘test001.src.497.fcl’
05-12 13:33:08.672507  1  0 artdaq::database::filesystem trace_enable
05-12 13:33:08.672732  1  0 artdaq::database::filesystem::index trace_enable
05-12 13:33:08.672829  1  0 artdaq::database::mongo trace_enable
05-12 13:33:08.672956  1  0 artdaq::database::configuration::LoadStoreOperation trace_enable
05-12 13:33:08.673034  1  0 artdaq::database::configuration::options::OperationBase trace_enable
05-12 13:33:08.673098  1  0 artdaq::database::configuration::options::OperationLoadStore trace_enable
05-12 13:33:08.673142  1  0 artdaq::database::configuration::LoadStoreOperationDetail trace_enable
05-12 13:33:08.675909  1 12 Options: Updating provider from filesystem to mongo.
05-12 13:33:08.675951  1 10 Options: Updating operation from load to store.
05-12 13:33:08.675970  1 14 Options: dataFormat args format=<fhicl>.
05-12 13:33:08.676006  1 11 Options: Updating collection_name from notprovided to testLoadStore.
05-12 13:33:08.676025  1 10 Options: Updating version from notprovided to versionB47065.
05-12 13:33:08.686744  1 12 Options: Updating provider from filesystem to mongo.
05-12 13:33:08.686775  1 10 Options: Updating operation from load to store.
05-12 13:33:08.686792  1 14 Options: dataFormat args format=<fhicl>.
05-12 13:33:08.686816  1 11 Options: Updating collection_name from notprovided to testLoadStore.
05-12 13:33:08.687003  1 15 Options: searchFilter args search_filter=<{
"version" : "versionB47065"
}>.
05-12 13:33:08.687418  1 15 Options: searchFilter args search_filter=<notprovided>.
05-12 13:33:08.687445  1 10 Options: Updating version from notprovided to versionB47065.
05-12 13:33:08.687793  1 15 store_configuration: begin
05-12 13:33:08.853445  1 17 store_configuration: Converted json data to fcl; json=<{
"document" : {
"data" : {
"prolog" : {

},
"main" : {
"services" : {
"scheduler" : {
"fileMode" : "NOMERGE"
},
"NetMonTransportServiceInterface" : {
"service_provider" : "NetMonTransportService",
"max_fragment_size_words" : 2097152
}
},
"daq" : {
"max_fragment_size_words" : 2097152,
"aggregator" : {
"mpi_buffer_count" : 8,
"first_event_builder_rank" : 2,
"event_builder_count" : 2,
"expected_events_per_bunch" : 1,
"print_event_store_stats" : true,
"event_queue_depth" : 20,
"event_queue_wait_time" : 5,
"onmon_event_prescale" : 1,
"xmlrpc_client_list" : ";http://topol.fnal.gov:5205/RPC2,3;http://topol.fnal.gov:5206/RPC2,3;http://topol.fnal.gov:5235/RPC2,4;http://topol.fnal.gov:5236/RPC2,4;http://topol.fnal.gov:5265/RPC2,5;http://topol.fnal.gov:5266/RPC2,5",
"file_size_MB" : 8000,
"file_duration" : 0,
"file_event_count" : 0
},
"metrics" : {
"aggFile" : {
"metricPluginType" : "file",
"level" : 3,
"fileName" : "/tmp/aggregator/agg_%UID%_metrics.log",
"uniquify" : true
}
}
},
"source" : {
"module_type" : "NetMonInput"
},
"outputs" : {
"normalOutputMod2" : {
"module_type" : "RootOutput",
"fileName" : "/tmp/artdaqdemo_r%06r_sr%02s_%to_mod2.root",
"SelectEvents" : {
"SelectEvents" : [
"pmod2"
]
},
"compressionLevel" : 0
},
"normalOutputMod3" : {
"module_type" : "RootOutput",
"fileName" : "/tmp/artdaqdemo_r%06r_sr%02s_%to_mod3.root",
"SelectEvents" : {
"SelectEvents" : [
"pmod3"
]
},
"compressionLevel" : 0
}
},
"physics" : {
"analyzers" : {

},
"producers" : {
"BuildInfo" : {
"module_type" : "ArtdaqDemoBuildInfo",
"instance_name" : "ArtdaqDemo"
}
},
"filters" : {
"prescaleMod2" : {
"module_type" : "NthEvent",
"nth" : 2
},
"prescaleMod3" : {
"module_type" : "NthEvent",
"nth" : 3
}
},
"p1" : [

],
"p2" : [
"BuildInfo"
],
"pmod2" : [
"prescaleMod2"
],
"pmod3" : [
"prescaleMod3"
],
"my_output_modules" : [
"normalOutputMod2",
"normalOutputMod3"
]
},
"process_name" : "DAQAG"
}
},
"metadata" : {
"prolog" : {

},
"main" : {
"services" : {
"type" : "table",
"comment" : " ",
"children" : {
"scheduler" : {
"type" : "table",
"comment" : " ",
"children" : {
"fileMode" : {
"type" : "string",
"comment" : " ",
"annotation" : " "
}
}
},
"NetMonTransportServiceInterface" : {
"type" : "table",
"comment" : " ",
"children" : {
"service_provider" : {
"type" : "string",
"comment" : " ",
"annotation" : " "
},
"max_fragment_size_words" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
}
}
}
}
},
"daq" : {
"type" : "table",
"comment" : " ",
"children" : {
"max_fragment_size_words" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"aggregator" : {
"type" : "table",
"comment" : " ",
"children" : {
"mpi_buffer_count" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"first_event_builder_rank" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"event_builder_count" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"expected_events_per_bunch" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"print_event_store_stats" : {
"type" : "bool",
"comment" : " ",
"annotation" : " "
},
"event_queue_depth" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"event_queue_wait_time" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"onmon_event_prescale" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"xmlrpc_client_list" : {
"type" : "string",
"comment" : " ",
"annotation" : " "
},
"file_size_MB" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"file_duration" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"file_event_count" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
}
}
},
"metrics" : {
"type" : "table",
"comment" : " ",
"children" : {
"aggFile" : {
"type" : "table",
"comment" : " ",
"children" : {
"metricPluginType" : {
"type" : "string",
"comment" : " ",
"annotation" : " "
},
"level" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"fileName" : {
"type" : "string",
"comment" : " ",
"annotation" : " "
},
"uniquify" : {
"type" : "
05-12 13:33:08.853500  1 17 store_configuration: Converted json data to fcl; fcl=< 
services: {
 
scheduler: {
 
fileMode: NOMERGE  

} 
NetMonTransportServiceInterface: {
 
service_provider: NetMonTransportService  
 
max_fragment_size_words: 2097152  

}
} 
daq: {
 
max_fragment_size_words: 2097152  
 
aggregator: {
 
mpi_buffer_count: 8  
 
first_event_builder_rank: 2  
 
event_builder_count: 2  
 
expected_events_per_bunch: 1  
 
print_event_store_stats: true  
 
event_queue_depth: 20  
 
event_queue_wait_time: 5  
 
onmon_event_prescale: 1  
 
xmlrpc_client_list: ";http://topol.fnal.gov:5205/RPC2,3;http://topol.fnal.gov:5206/RPC2,3;http://topol.fnal.gov:5235/RPC2,4;http://topol.fnal.gov:5236/RPC2,4;http://topol.fnal.gov:5265/RPC2,5;http://topol.fnal.gov:5266/RPC2,5"  
 
file_size_MB: 8000  
 
file_duration: 0  
 
file_event_count: 0  

} 
metrics: {
 
aggFile: {
 
metricPluginType: file  
 
level: 3  
 
fileName: "/tmp/aggregator/agg_%UID%_metrics.log"  
 
uniquify: true  

}
}
} 
source: {
 
module_type: NetMonInput  

} 
outputs: {
 
normalOutputMod2: {
 
module_type: RootOutput  
 
fileName: "/tmp/artdaqdemo_r%06r_sr%02s_%to_mod2.root"  
 
SelectEvents: {
 
SelectEvents: [pmod2]  

} 
compressionLevel: 0  

} 
normalOutputMod3: {
 
module_type: RootOutput  
 
fileName: "/tmp/artdaqdemo_r%06r_sr%02s_%to_mod3.root"  
 
SelectEvents: {
 
SelectEvents: [pmod3]  

} 
compressionLevel: 0  

}
} 
physics: {
 
analyzers: {

} 
producers: {
 
BuildInfo: {
 
module_type: ArtdaqDemoBuildInfo  
 
instance_name: ArtdaqDemo  

}
} 
filters: {
 
prescaleMod2: {
 
module_type: NthEvent  
 
nth: 2  

} 
prescaleMod3: {
 
module_type: NthEvent  
 
nth: 3  

}
} 
p1: []  
 
p2: [BuildInfo]  
 
pmod2: [prescaleMod2]  
 
pmod3: [prescaleMod3]  
#my_output_modules: [ normalOutput ]
my_output_modules: [normalOutputMod2, normalOutputMod3]  

} 
process_name: DAQAG  
>
05-12 13:33:08.853531  1 15 store_configuration: json_buffer=<{
"document" : {
"data" : {
"prolog" : {

},
"main" : {
"services" : {
"scheduler" : {
"fileMode" : "NOMERGE"
},
"NetMonTransportServiceInterface" : {
"service_provider" : "NetMonTransportService",
"max_fragment_size_words" : 2097152
}
},
"daq" : {
"max_fragment_size_words" : 2097152,
"aggregator" : {
"mpi_buffer_count" : 8,
"first_event_builder_rank" : 2,
"event_builder_count" : 2,
"expected_events_per_bunch" : 1,
"print_event_store_stats" : true,
"event_queue_depth" : 20,
"event_queue_wait_time" : 5,
"onmon_event_prescale" : 1,
"xmlrpc_client_list" : ";http://topol.fnal.gov:5205/RPC2,3;http://topol.fnal.gov:5206/RPC2,3;http://topol.fnal.gov:5235/RPC2,4;http://topol.fnal.gov:5236/RPC2,4;http://topol.fnal.gov:5265/RPC2,5;http://topol.fnal.gov:5266/RPC2,5",
"file_size_MB" : 8000,
"file_duration" : 0,
"file_event_count" : 0
},
"metrics" : {
"aggFile" : {
"metricPluginType" : "file",
"level" : 3,
"fileName" : "/tmp/aggregator/agg_%UID%_metrics.log",
"uniquify" : true
}
}
},
"source" : {
"module_type" : "NetMonInput"
},
"outputs" : {
"normalOutputMod2" : {
"module_type" : "RootOutput",
"fileName" : "/tmp/artdaqdemo_r%06r_sr%02s_%to_mod2.root",
"SelectEvents" : {
"SelectEvents" : [
"pmod2"
]
},
"compressionLevel" : 0
},
"normalOutputMod3" : {
"module_type" : "RootOutput",
"fileName" : "/tmp/artdaqdemo_r%06r_sr%02s_%to_mod3.root",
"SelectEvents" : {
"SelectEvents" : [
"pmod3"
]
},
"compressionLevel" : 0
}
},
"physics" : {
"analyzers" : {

},
"producers" : {
"BuildInfo" : {
"module_type" : "ArtdaqDemoBuildInfo",
"instance_name" : "ArtdaqDemo"
}
},
"filters" : {
"prescaleMod2" : {
"module_type" : "NthEvent",
"nth" : 2
},
"prescaleMod3" : {
"module_type" : "NthEvent",
"nth" : 3
}
},
"p1" : [

],
"p2" : [
"BuildInfo"
],
"pmod2" : [
"prescaleMod2"
],
"pmod3" : [
"prescaleMod3"
],
"my_output_modules" : [
"normalOutputMod2",
"normalOutputMod3"
]
},
"process_name" : "DAQAG"
}
},
"metadata" : {
"prolog" : {

},
"main" : {
"services" : {
"type" : "table",
"comment" : " ",
"children" : {
"scheduler" : {
"type" : "table",
"comment" : " ",
"children" : {
"fileMode" : {
"type" : "string",
"comment" : " ",
"annotation" : " "
}
}
},
"NetMonTransportServiceInterface" : {
"type" : "table",
"comment" : " ",
"children" : {
"service_provider" : {
"type" : "string",
"comment" : " ",
"annotation" : " "
},
"max_fragment_size_words" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
}
}
}
}
},
"daq" : {
"type" : "table",
"comment" : " ",
"children" : {
"max_fragment_size_words" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"aggregator" : {
"type" : "table",
"comment" : " ",
"children" : {
"mpi_buffer_count" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"first_event_builder_rank" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"event_builder_count" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"expected_events_per_bunch" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"print_event_store_stats" : {
"type" : "bool",
"comment" : " ",
"annotation" : " "
},
"event_queue_depth" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"event_queue_wait_time" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"onmon_event_prescale" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"xmlrpc_client_list" : {
"type" : "string",
"comment" : " ",
"annotation" : " "
},
"file_size_MB" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"file_duration" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"file_event_count" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
}
}
},
"metrics" : {
"type" : "table",
"comment" : " ",
"children" : {
"aggFile" : {
"type" : "table",
"comment" : " ",
"children" : {
"metricPluginType" : {
"type" : "string",
"comment" : " ",
"annotation" : " "
},
"level" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"fileName" : {
"type" : "string",
"comment" : " ",
"annotation" : " "
},
"uniquify" : {
"type" : "bool",
"comment" : " 
05-12 13:33:08.869434  1 15 store_configuration: insert_payload=<{"document":{
    "document" : {
        "data" : {
            "prolog" : {

            }, 
            "main" : {
                "services" : {
                    "scheduler" : {
                        "fileMode" : "NOMERGE"
                    }, 
                    "NetMonTransportServiceInterface" : {
                        "service_provider" : "NetMonTransportService", 
                        "max_fragment_size_words" : 2097152
                    }
                }, 
                "daq" : {
                    "max_fragment_size_words" : 2097152, 
                    "aggregator" : {
                        "mpi_buffer_count" : 8, 
                        "first_event_builder_rank" : 2, 
                        "event_builder_count" : 2, 
                        "expected_events_per_bunch" : 1, 
                        "print_event_store_stats" : true, 
                        "event_queue_depth" : 20, 
                        "event_queue_wait_time" : 5, 
                        "onmon_event_prescale" : 1, 
                        "xmlrpc_client_list" : ";http://topol.fnal.gov:5205/RPC2,3;http://topol.fnal.gov:5206/RPC2,3;http://topol.fnal.gov:5235/RPC2,4;http://topol.fnal.gov:5236/RPC2,4;http://topol.fnal.gov:5265/RPC2,5;http://topol.fnal.gov:5266/RPC2,5", 
                        "file_size_MB" : 8000, 
                        "file_duration" : 0, 
                        "file_event_count" : 0
                    }, 
                    "metrics" : {
                        "aggFile" : {
                            "metricPluginType" : "file", 
                            "level" : 3, 
                            "fileName" : "/tmp/aggregator/agg_%UID%_metrics.log", 
                            "uniquify" : true
                        }
                    }
                }, 
                "source" : {
                    "module_type" : "NetMonInput"
                }, 
                "outputs" : {
                    "normalOutputMod2" : {
                        "module_type" : "RootOutput", 
                        "fileName" : "/tmp/artdaqdemo_r%06r_sr%02s_%to_mod2.root", 
                        "SelectEvents" : {
                            "SelectEvents" : [
                                "pmod2"
                            ]
                        }, 
                        "compressionLevel" : 0
                    }, 
                    "normalOutputMod3" : {
                        "module_type" : "RootOutput", 
                        "fileName" : "/tmp/artdaqdemo_r%06r_sr%02s_%to_mod3.root", 
                        "SelectEvents" : {
                            "SelectEvents" : [
                                "pmod3"
                            ]
                        }, 
                        "compressionLevel" : 0
                    }
                }, 
                "physics" : {
                    "analyzers" : {

                    }, 
                    "producers" : {
                        "BuildInfo" : {
                            "module_type" : "ArtdaqDemoBuildInfo", 
                            "instance_name" : "ArtdaqDemo"
                        }
                    }, 
                    "filters" : {
                        "prescaleMod2" : {
                            "module_type" : "NthEvent", 
                            "nth" : 2
                        }, 
                        "prescaleMod3" : {
                            "module_type" : "NthEvent", 
                            "nth" : 3
                        }
                    }, 
                    "p1" : [

                    ], 
                    "p2" : [
                        "BuildInfo"
                    ], 
                    "pmod2" : [
                        "prescaleMod2"
                    ], 
                    "pmod3" : [
                        "prescaleMod3"
                    ], 
                    "my_output_modules" : [
                        "normalOutputMod2", 
                
05-12 13:33:08.870457  1  4 StorageProvider::MongoDB::store() begin
05-12 13:33:08.870899  1  4 Search filter is missing, proceeding with insert.
05-12 13:33:08.888055  1  5 inserted_id={
    "$oid" : "5734cc641a72ba7215643301"
}
05-12 13:33:08.888422  1 15 store_configuration: end
Parsed options:
{
"filter" : {
"version" : "versionB47065"
},
"dbprovider" : "mongo",
"operation" : "store",
"collection" : "testLoadStore",
"dataformat" : "fhicl"
}
Running test:<store>
returned:
 
services: {
 
scheduler: {
 
fileMode: NOMERGE  

} 
NetMonTransportServiceInterface: {
 
service_provider: NetMonTransportService  
 
max_fragment_size_words: 2097152  

}
} 
daq: {
 
max_fragment_size_words: 2097152  
 
aggregator: {
 
mpi_buffer_count: 8  
 
first_event_builder_rank: 2  
 
event_builder_count: 2  
 
expected_events_per_bunch: 1  
 
print_event_store_stats: true  
 
event_queue_depth: 20  
 
event_queue_wait_time: 5  
 
onmon_event_prescale: 1  
 
xmlrpc_client_list: ";http://topol.fnal.gov:5205/RPC2,3;http://topol.fnal.gov:5206/RPC2,3;http://topol.fnal.gov:5235/RPC2,4;http://topol.fnal.gov:5236/RPC2,4;http://topol.fnal.gov:5265/RPC2,5;http://topol.fnal.gov:5266/RPC2,5"  
 
file_size_MB: 8000  
 
file_duration: 0  
 
file_event_count: 0  

} 
metrics: {
 
aggFile: {
 
metricPluginType: file  
 
level: 3  
 
fileName: "/tmp/aggregator/agg_%UID%_metrics.log"  
 
uniquify: true  

}
}
} 
source: {
 
module_type: NetMonInput  

} 
outputs: {
 
normalOutputMod2: {
 
module_type: RootOutput  
 
fileName: "/tmp/artdaqdemo_r%06r_sr%02s_%to_mod2.root"  
 
SelectEvents: {
 
SelectEvents: [pmod2]  

} 
compressionLevel: 0  

} 
normalOutputMod3: {
 
module_type: RootOutput  
 
fileName: "/tmp/artdaqdemo_r%06r_sr%02s_%to_mod3.root"  
 
SelectEvents: {
 
SelectEvents: [pmod3]  

} 
compressionLevel: 0  

}
} 
physics: {
 
analyzers: {

} 
producers: {
 
BuildInfo: {
 
module_type: ArtdaqDemoBuildInfo  
 
instance_name: ArtdaqDemo  

}
} 
filters: {
 
prescaleMod2: {
 
module_type: NthEvent  
 
nth: 2  

} 
prescaleMod3: {
 
module_type: NthEvent  
 
nth: 3  

}
} 
p1: []  
 
p2: [BuildInfo]  
 
pmod2: [prescaleMod2]  
 
pmod3: [prescaleMod3]  
#my_output_modules: [ normalOutput ]
my_output_modules: [normalOutputMod2, normalOutputMod3]  

} 
process_name: DAQAG  

<end of output>
Test time =   0.29 sec
----------------------------------------------------------
Test Passed.
"LoadStore_store_mongo_002_t" end time: May 12 13:33 CDT
"LoadStore_store_mongo_002_t" time elapsed: 00:00:00
----------------------------------------------------------

7/16 Testing: LoadStore_load_filesystem_004_t
7/16 Test: LoadStore_load_filesystem_004_t
Command: "/home/lukhanin/scratch/current/artdaq-demo-base/products/cetbuildtools/v4_18_02/bin/cet_exec_test" "--wd" "/home/lukhanin/scratch/current/artdaq-demo-base/build_artdaq-utilities-database/test/ConfigurationDB/LoadStore/test004/LoadStore_load_filesystem_004_t.d" "--required-files" "" "--datafiles" "/home/lukhanin/scratch/current/artdaq-demo-base/build_artdaq-utilities-database/test/ConfigurationDB/LoadStore/test004/test001.cmp.919.fcl" "--skip-return-code" "247" "LoadStore_t" "-o" "load" "-d" "filesystem" "-c" "testLoadStore" "-f" "fhicl" "-v" "versionB47065" "-r" "test001.cmp.919.fcl"
Directory: /home/lukhanin/scratch/current/artdaq-demo-base/build_artdaq-utilities-database/test/ConfigurationDB/LoadStore/test004/LoadStore_load_filesystem_004_t.d
"LoadStore_load_filesystem_004_t" start time: May 12 13:33 CDT
Output:
----------------------------------------------------------
removed ‘test001.cmp.050.fcl’
05-12 13:33:08.933973  1  0 artdaq::database::filesystem trace_enable
05-12 13:33:08.934142  1  0 artdaq::database::filesystem::index trace_enable
05-12 13:33:08.934200  1  0 artdaq::database::mongo trace_enable
05-12 13:33:08.934266  1  0 artdaq::database::configuration::LoadStoreOperation trace_enable
05-12 13:33:08.934308  1  0 artdaq::database::configuration::options::OperationBase trace_enable
05-12 13:33:08.934336  1  0 artdaq::database::configuration::options::OperationLoadStore trace_enable
05-12 13:33:08.934362  1  0 artdaq::database::configuration::LoadStoreOperationDetail trace_enable
05-12 13:33:08.936536  1 12 Options: Updating provider from filesystem to filesystem.
05-12 13:33:08.936560  1 10 Options: Updating operation from load to load.
05-12 13:33:08.936575  1 14 Options: dataFormat args format=<fhicl>.
05-12 13:33:08.936595  1 11 Options: Updating collection_name from notprovided to testLoadStore.
05-12 13:33:08.936613  1 10 Options: Updating version from notprovided to versionB47065.
05-12 13:33:08.943753  1 12 Options: Updating provider from filesystem to filesystem.
05-12 13:33:08.943775  1 10 Options: Updating operation from load to load.
05-12 13:33:08.943797  1 14 Options: dataFormat args format=<fhicl>.
05-12 13:33:08.943810  1 11 Options: Updating collection_name from notprovided to testLoadStore.
05-12 13:33:08.943952  1 15 Options: searchFilter args search_filter=<{
"version" : "versionB47065"
}>.
05-12 13:33:08.944220  1 15 Options: searchFilter args search_filter=<notprovided>.
05-12 13:33:08.944245  1 10 Options: Updating version from notprovided to versionB47065.
05-12 13:33:08.944523  1 16 load_configuration: begin
05-12 13:33:08.944748  1 16 load_configuration: search_payload=<{"filter":{
"version" : "versionB47065"
}, "collection":"testLoadStore"}>
05-12 13:33:08.944969  1  3 StorageProvider::FileSystemDB::load() begin
05-12 13:33:08.944988  1  3 StorageProvider::FileSystemDB::load() args search=<{"filter":{
"version" : "versionB47065"
}, "collection":"testLoadStore"}>
05-12 13:33:08.951962  1  3 StorageProvider::FileSystemDB::load() collection_path=<file:///home/lukhanin/databases/filesystemdb/testLoadStore/>.
05-12 13:33:08.952073  1 11 StorageProvider::FileSystemDB mkdir dir=</home/lukhanin/databases/filesystemdb/testLoadStore/>
05-12 13:33:08.952145  1 11 StorageProvider::FileSystemDB Directory exists, checking permissions; path=</home/lukhanin/databases/filesystemdb/testLoadStore/>
05-12 13:33:08.952396  1  3 StorageProvider::FileSystemDB::index::_open() begin
05-12 13:33:08.952431  1  3 StorageProvider::FileSystemDB::index::_open() args index_path=</home/lukhanin/databases/filesystemdb/testLoadStore/index.json>.
05-12 13:33:08.952662  1  3 StorageProvider::FileSystemDB::index::_open() json=<{
"version" : {
"versionA01749" : [
"94adcd1f5f6748cda59d13f6"
],
"versionB01749" : [
"0e0fcfb7044d4e91bbdf55e4"
],
"versionC01749" : [
"c5db7ef3aeae498db2a59caf"
],
"versionA38249" : [
"290ce4a4e0e74acfba4cf107"
],
"versionB38249" : [
"b9a1eb0a4c5d4ed1a6f3191d"
],
"versionC38249" : [
"462d4002a531489a94659025"
],
"versionA65272" : [
"d869fc26dff64c6fbe132357"
],
"versionB65272" : [
"33ae84a3b7054a61b8097407"
],
"versionC65272" : [
"339f0b2d469742b487dad30a"
],
"versionA51307" : [
"8f0f2deb56fc497e9df95cdc",
"b7cbfe9fa6824b6986f11961"
],
"versionB51307" : [
"37de50d6d24f425f82438214",
"69e4ec12f4004fd78279d7a4"
],
"versionC51307" : [
"1ac8123cca4d41e18ae5469a",
"5d7e5964c8db4094951f6c1a"
],
"versionD51307" : [
"a01e6f4de48b422c93b12d30",
"cbf93bfbb758457987a4ca7b"
],
"versionA47065" : [
"760547e4ab514d93a427723d"
],
"versionB47065" : [
"028bfcd6db994914a8bcd3c0"
]
},
"configurations.name" : {
"notprovided" : [
"028bfcd6db994914a8bcd3c0",
"0e0fcfb7044d4e91bbdf55e4",
"1ac8123cca4d41e18ae5469a",
"290ce4a4e0e74acfba4cf107",
"339f0b2d469742b487dad30a",
"33ae84a3b7054a61b8097407",
"37de50d6d24f425f82438214",
"462d4002a531489a94659025",
"5d7e5964c8db4094951f6c1a",
"69e4ec12f4004fd78279d7a4",
"760547e4ab514d93a427723d",
"8f0f2deb56fc497e9df95cdc",
"94adcd1f5f6748cda59d13f6",
"a01e6f4de48b422c93b12d30",
"b7cbfe9fa6824b6986f11961",
"b9a1eb0a4c5d4ed1a6f3191d",
"c5db7ef3aeae498db2a59caf",
"cbf93bfbb758457987a4ca7b",
"d869fc26dff64c6fbe132357"
]
},
"configurable_entity.name" : {
"notprovided" : [
"028bfcd6db994914a8bcd3c0",
"290ce4a4e0e74acfba4cf107",
"33ae84a3b7054a61b8097407",
"37de50d6d24f425f82438214",
"69e4ec12f4004fd78279d7a4",
"760547e4ab514d93a427723d",
"8f0f2deb56fc497e9df95cdc",
"b7cbfe9fa6824b6986f11961",
"b9a1eb0a4c5d4ed1a6f3191d",
"d869fc26dff64c6fbe132357"
],
"ENTITY-testLoadStore" : [
"1ac8123cca4d41e18ae5469a",
"339f0b2d469742b487dad30a",
"462d4002a531489a94659025",
"5d7e5964c8db4094951f6c1a",
"a01e6f4de48b422c93b12d30",
"cbf93bfbb758457987a4ca7b"
]
}
}>
05-12 13:33:08.955178  1  2 StorageProvider::FileSystemDB::index::findDocumentIDs() begin
05-12 13:33:08.955200  1  2 StorageProvider::FileSystemDB::index::findDocumentIDs() args search=<{
        "version" : "versionB47065"
    }>.
05-12 13:33:08.955339  1  5 StorageProvider::FileSystemDB::index::findDocumentIDs() found 1 search criteria.
05-12 13:33:08.955612  1 14 StorageProvider::FileSystemDB::index::_matchVersion() begin
05-12 13:33:08.955624  1 14 StorageProvider::FileSystemDB::index::_matchVersion() args version=<versionB47065>.
05-12 13:33:08.955700  1 15 StorageProvider::FileSystemDB::index::_matchConfiguration() Found 1 documents where version=versionB47065
05-12 13:33:08.955780  1  3 StorageProvider::FileSystemDB::load() search returned 1 documents.
05-12 13:33:08.955942  1  3 StorageProvider::FileSystemDB::load() reading document </home/lukhanin/databases/filesystemdb/testLoadStore/028bfcd6db994914a8bcd3c0.json>.
05-12 13:33:08.957809  1  4 StorageProvider::FileSystemDB::index::_close() begin
05-12 13:33:08.960485  1  4 StorageProvider::FileSystemDB::index::_close() json=<{
"version" : {
"versionA01749" : [
"94adcd1f5f6748cda59d13f6"
],
"versionB01749" : [
"0e0fcfb7044d4e91bbdf55e4"
],
"versionC01749" : [
"c5db7ef3aeae498db2a59caf"
],
"versionA38249" : [
"290ce4a4e0e74acfba4cf107"
],
"versionB38249" : [
"b9a1eb0a4c5d4ed1a6f3191d"
],
"versionC38249" : [
"462d4002a531489a94659025"
],
"versionA65272" : [
"d869fc26dff64c6fbe132357"
],
"versionB65272" : [
"33ae84a3b7054a61b8097407"
],
"versionC65272" : [
"339f0b2d469742b487dad30a"
],
"versionA51307" : [
"8f0f2deb56fc497e9df95cdc",
"b7cbfe9fa6824b6986f11961"
],
"versionB51307" : [
"37de50d6d24f425f82438214",
"69e4ec12f4004fd78279d7a4"
],
"versionC51307" : [
"1ac8123cca4d41e18ae5469a",
"5d7e5964c8db4094951f6c1a"
],
"versionD51307" : [
"a01e6f4de48b422c93b12d30",
"cbf93bfbb758457987a4ca7b"
],
"versionA47065" : [
"760547e4ab514d93a427723d"
],
"versionB47065" : [
"028bfcd6db994914a8bcd3c0"
]
},
"configurations.name" : {
"notprovided" : [
"028bfcd6db994914a8bcd3c0",
"0e0fcfb7044d4e91bbdf55e4",
"1ac8123cca4d41e18ae5469a",
"290ce4a4e0e74acfba4cf107",
"339f0b2d469742b487dad30a",
"33ae84a3b7054a61b8097407",
"37de50d6d24f425f82438214",
"462d4002a531489a94659025",
"5d7e5964c8db4094951f6c1a",
"69e4ec12f4004fd78279d7a4",
"760547e4ab514d93a427723d",
"8f0f2deb56fc497e9df95cdc",
"94adcd1f5f6748cda59d13f6",
"a01e6f4de48b422c93b12d30",
"b7cbfe9fa6824b6986f11961",
"b9a1eb0a4c5d4ed1a6f3191d",
"c5db7ef3aeae498db2a59caf",
"cbf93bfbb758457987a4ca7b",
"d869fc26dff64c6fbe132357"
]
},
"configurable_entity.name" : {
"notprovided" : [
"028bfcd6db994914a8bcd3c0",
"290ce4a4e0e74acfba4cf107",
"33ae84a3b7054a61b8097407",
"37de50d6d24f425f82438214",
"69e4ec12f4004fd78279d7a4",
"760547e4ab514d93a427723d",
"8f0f2deb56fc497e9df95cdc",
"b7cbfe9fa6824b6986f11961",
"b9a1eb0a4c5d4ed1a6f3191d",
"d869fc26dff64c6fbe132357"
],
"ENTITY-testLoadStore" : [
"1ac8123cca4d41e18ae5469a",
"339f0b2d469742b487dad30a",
"462d4002a531489a94659025",
"5d7e5964c8db4094951f6c1a",
"a01e6f4de48b422c93b12d30",
"cbf93bfbb758457987a4ca7b"
]
}
}>
05-12 13:33:08.960746  1  4 StorageProvider::FileSystemDB::index::_close() Closed SearchIndex.
05-12 13:33:08.992375  1 15 load_configuration: end
Parsed options:
{
"filter" : {
"version" : "versionB47065"
},
"dbprovider" : "filesystem",
"operation" : "load",
"collection" : "testLoadStore",
"dataformat" : "fhicl"
}
Running test:<load>
returned:
 
services: {
 
scheduler: {
 
fileMode: NOMERGE  

} 
NetMonTransportServiceInterface: {
 
service_provider: NetMonTransportService  
 
max_fragment_size_words: 2097152  

}
} 
daq: {
 
max_fragment_size_words: 2097152  
 
aggregator: {
 
mpi_buffer_count: 8  
 
first_event_builder_rank: 2  
 
event_builder_count: 2  
 
expected_events_per_bunch: 1  
 
print_event_store_stats: true  
 
event_queue_depth: 20  
 
event_queue_wait_time: 5  
 
onmon_event_prescale: 1  
 
xmlrpc_client_list: ";http://topol.fnal.gov:5205/RPC2,3;http://topol.fnal.gov:5206/RPC2,3;http://topol.fnal.gov:5235/RPC2,4;http://topol.fnal.gov:5236/RPC2,4;http://topol.fnal.gov:5265/RPC2,5;http://topol.fnal.gov:5266/RPC2,5"  
 
file_size_MB: 8000  
 
file_duration: 0  
 
file_event_count: 0  

} 
metrics: {
 
aggFile: {
 
metricPluginType: file  
 
level: 3  
 
fileName: "/tmp/aggregator/agg_%UID%_metrics.log"  
 
uniquify: true  

}
}
} 
source: {
 
module_type: NetMonInput  

} 
outputs: {
 
normalOutputMod2: {
 
module_type: RootOutput  
 
fileName: "/tmp/artdaqdemo_r%06r_sr%02s_%to_mod2.root"  
 
SelectEvents: {
 
SelectEvents: [pmod2]  

} 
compressionLevel: 0  

} 
normalOutputMod3: {
 
module_type: RootOutput  
 
fileName: "/tmp/artdaqdemo_r%06r_sr%02s_%to_mod3.root"  
 
SelectEvents: {
 
SelectEvents: [pmod3]  

} 
compressionLevel: 0  

}
} 
physics: {
 
analyzers: {

} 
producers: {
 
BuildInfo: {
 
module_type: ArtdaqDemoBuildInfo  
 
instance_name: ArtdaqDemo  

}
} 
filters: {
 
prescaleMod2: {
 
module_type: NthEvent  
 
nth: 2  

} 
prescaleMod3: {
 
module_type: NthEvent  
 
nth: 3  

}
} 
p1: []  
 
p2: [BuildInfo]  
 
pmod2: [prescaleMod2]  
 
pmod3: [prescaleMod3]  
#my_output_modules: [ normalOutput ]
my_output_modules: [normalOutputMod2, normalOutputMod3]  

} 
process_name: DAQAG  

<end of output>
Test time =   0.10 sec
----------------------------------------------------------
Test Passed.
"LoadStore_load_filesystem_004_t" end time: May 12 13:33 CDT
"LoadStore_load_filesystem_004_t" time elapsed: 00:00:00
----------------------------------------------------------

8/16 Testing: LoadStore_load_mongo_004_t
8/16 Test: LoadStore_load_mongo_004_t
Command: "/home/lukhanin/scratch/current/artdaq-demo-base/products/cetbuildtools/v4_18_02/bin/cet_exec_test" "--wd" "/home/lukhanin/scratch/current/artdaq-demo-base/build_artdaq-utilities-database/test/ConfigurationDB/LoadStore/test004/LoadStore_load_mongo_004_t.d" "--required-files" "" "--datafiles" "/home/lukhanin/scratch/current/artdaq-demo-base/build_artdaq-utilities-database/test/ConfigurationDB/LoadStore/test004/test001.cmp.807.fcl" "--skip-return-code" "247" "LoadStore_t" "-o" "load" "-d" "mongo" "-c" "testLoadStore" "-f" "fhicl" "-v" "versionB47065" "-r" "test001.cmp.807.fcl"
Directory: /home/lukhanin/scratch/current/artdaq-demo-base/build_artdaq-utilities-database/test/ConfigurationDB/LoadStore/test004/LoadStore_load_mongo_004_t.d
"LoadStore_load_mongo_004_t" start time: May 12 13:33 CDT
Output:
----------------------------------------------------------
removed ‘test001.cmp.440.fcl’
05-12 13:33:09.055429  1  0 artdaq::database::filesystem trace_enable
05-12 13:33:09.055653  1  0 artdaq::database::filesystem::index trace_enable
05-12 13:33:09.055775  1  0 artdaq::database::mongo trace_enable
05-12 13:33:09.055896  1  0 artdaq::database::configuration::LoadStoreOperation trace_enable
05-12 13:33:09.055967  1  0 artdaq::database::configuration::options::OperationBase trace_enable
05-12 13:33:09.056023  1  0 artdaq::database::configuration::options::OperationLoadStore trace_enable
05-12 13:33:09.056077  1  0 artdaq::database::configuration::LoadStoreOperationDetail trace_enable
05-12 13:33:09.059216  1 12 Options: Updating provider from filesystem to mongo.
05-12 13:33:09.059259  1 10 Options: Updating operation from load to load.
05-12 13:33:09.059278  1 14 Options: dataFormat args format=<fhicl>.
05-12 13:33:09.059307  1 11 Options: Updating collection_name from notprovided to testLoadStore.
05-12 13:33:09.059339  1 10 Options: Updating version from notprovided to versionB47065.
05-12 13:33:09.071222  1 12 Options: Updating provider from filesystem to mongo.
05-12 13:33:09.071253  1 10 Options: Updating operation from load to load.
05-12 13:33:09.071270  1 14 Options: dataFormat args format=<fhicl>.
05-12 13:33:09.071287  1 11 Options: Updating collection_name from notprovided to testLoadStore.
05-12 13:33:09.071484  1 15 Options: searchFilter args search_filter=<{
"version" : "versionB47065"
}>.
05-12 13:33:09.071865  1 15 Options: searchFilter args search_filter=<notprovided>.
05-12 13:33:09.071888  1 10 Options: Updating version from notprovided to versionB47065.
05-12 13:33:09.072217  1 16 load_configuration: begin
05-12 13:33:09.072526  1 16 load_configuration: search_payload=<{"filter":{
"version" : "versionB47065"
}, "collection":"testLoadStore"}>
05-12 13:33:09.073988  1  3 StorageProvider::MongoDB::load() begin
05-12 13:33:09.074017  1  3 StorageProvider::MongoDB::load() args search=<{"filter":{
"version" : "versionB47065"
}, "collection":"testLoadStore"}>
05-12 13:33:09.074874  1  3 StorageProvider::MongoDB::load() user provided filter=<{
    "version" : "versionB47065"
}>
05-12 13:33:09.074967  1  2 search filter=<{
    "version" : "versionB47065"
}>
05-12 13:33:09.077930  1  3 found_count=1
05-12 13:33:09.137542  1 15 load_configuration: end
Parsed options:
{
"filter" : {
"version" : "versionB47065"
},
"dbprovider" : "mongo",
"operation" : "load",
"collection" : "testLoadStore",
"dataformat" : "fhicl"
}
Running test:<load>
returned:
 
services: {
 
scheduler: {
 
fileMode: NOMERGE  

} 
NetMonTransportServiceInterface: {
 
service_provider: NetMonTransportService  
 
max_fragment_size_words: 2097152  

}
} 
daq: {
 
max_fragment_size_words: 2097152  
 
aggregator: {
 
mpi_buffer_count: 8  
 
first_event_builder_rank: 2  
 
event_builder_count: 2  
 
expected_events_per_bunch: 1  
 
print_event_store_stats: true  
 
event_queue_depth: 20  
 
event_queue_wait_time: 5  
 
onmon_event_prescale: 1  
 
xmlrpc_client_list: ";http://topol.fnal.gov:5205/RPC2,3;http://topol.fnal.gov:5206/RPC2,3;http://topol.fnal.gov:5235/RPC2,4;http://topol.fnal.gov:5236/RPC2,4;http://topol.fnal.gov:5265/RPC2,5;http://topol.fnal.gov:5266/RPC2,5"  
 
file_size_MB: 8000  
 
file_duration: 0  
 
file_event_count: 0  

} 
metrics: {
 
aggFile: {
 
metricPluginType: file  
 
level: 3  
 
fileName: "/tmp/aggregator/agg_%UID%_metrics.log"  
 
uniquify: true  

}
}
} 
source: {
 
module_type: NetMonInput  

} 
outputs: {
 
normalOutputMod2: {
 
module_type: RootOutput  
 
fileName: "/tmp/artdaqdemo_r%06r_sr%02s_%to_mod2.root"  
 
SelectEvents: {
 
SelectEvents: [pmod2]  

} 
compressionLevel: 0  

} 
normalOutputMod3: {
 
module_type: RootOutput  
 
fileName: "/tmp/artdaqdemo_r%06r_sr%02s_%to_mod3.root"  
 
SelectEvents: {
 
SelectEvents: [pmod3]  

} 
compressionLevel: 0  

}
} 
physics: {
 
analyzers: {

} 
producers: {
 
BuildInfo: {
 
module_type: ArtdaqDemoBuildInfo  
 
instance_name: ArtdaqDemo  

}
} 
filters: {
 
prescaleMod2: {
 
module_type: NthEvent  
 
nth: 2  

} 
prescaleMod3: {
 
module_type: NthEvent  
 
nth: 3  

}
} 
p1: []  
 
p2: [BuildInfo]  
 
pmod2: [prescaleMod2]  
 
pmod3: [prescaleMod3]  
#my_output_modules: [ normalOutput ]
my_output_modules: [normalOutputMod2, normalOutputMod3]  

} 
process_name: DAQAG  

<end of output>
Test time =   0.15 sec
----------------------------------------------------------
Test Passed.
"LoadStore_load_mongo_004_t" end time: May 12 13:33 CDT
"LoadStore_load_mongo_004_t" time elapsed: 00:00:00
----------------------------------------------------------

9/16 Testing: LoadStore_store_filesystem_011_t
9/16 Test: LoadStore_store_filesystem_011_t
Command: "/home/lukhanin/scratch/current/artdaq-demo-base/products/cetbuildtools/v4_18_02/bin/cet_exec_test" "--wd" "/home/lukhanin/scratch/current/artdaq-demo-base/build_artdaq-utilities-database/test/ConfigurationDB/LoadStore/test011/LoadStore_store_filesystem_011_t.d" "--required-files" "" "--datafiles" "/home/lukhanin/scratch/current/artdaq-demo-base/build_artdaq-utilities-database/test/ConfigurationDB/LoadStore/test011/test011.src.062.json;/home/lukhanin/scratch/current/artdaq-demo-base/build_artdaq-utilities-database/test/ConfigurationDB/LoadStore/test011/test011.cmp.062.json;/home/lukhanin/scratch/current/artdaq-demo-base/build_artdaq-utilities-database/test/ConfigurationDB/LoadStore/test011/test011.flt.062.json" "--skip-return-code" "247" "LoadStore_t" "--searchquery=test011.flt.062.json" "-s" "test011.src.062.json" "-r" "test011.cmp.062.json"
Directory: /home/lukhanin/scratch/current/artdaq-demo-base/build_artdaq-utilities-database/test/ConfigurationDB/LoadStore/test011/LoadStore_store_filesystem_011_t.d
"LoadStore_store_filesystem_011_t" start time: May 12 13:33 CDT
Output:
----------------------------------------------------------
removed ‘test011.cmp.226.json’
removed ‘test011.flt.226.json’
removed ‘test011.src.226.json’
05-12 13:33:09.192301  1  0 artdaq::database::filesystem trace_enable
05-12 13:33:09.192485  1  0 artdaq::database::filesystem::index trace_enable
05-12 13:33:09.192548  1  0 artdaq::database::mongo trace_enable
05-12 13:33:09.192626  1  0 artdaq::database::configuration::LoadStoreOperation trace_enable
05-12 13:33:09.192672  1  0 artdaq::database::configuration::options::OperationBase trace_enable
05-12 13:33:09.192707  1  0 artdaq::database::configuration::options::OperationLoadStore trace_enable
05-12 13:33:09.192738  1  0 artdaq::database::configuration::LoadStoreOperationDetail trace_enable
05-12 13:33:09.195069  1 14 Options: json query= <{
    "filter":{"version":"versionC47065", "configurable_entity.name":"ENTITY-testLoadStore"},
    "collection":"testLoadStore",
    "dbprovider":"filesystem",
    "operation":"store",
    "dataformat":"json"
}
>
05-12 13:33:09.199083  1 12 Options: Updating provider from filesystem to filesystem.
05-12 13:33:09.199130  1 10 Options: Updating operation from load to store.
05-12 13:33:09.199150  1 14 Options: dataFormat args format=<json>.
05-12 13:33:09.199177  1 11 Options: Updating collection_name from notprovided to testLoadStore.
05-12 13:33:09.203123  1 15 Options: searchFilter args search_filter=<{
"version" : "versionC47065",
"configurable_entity.name" : "ENTITY-testLoadStore"
}>.
05-12 13:33:09.203552  1 15 Options: searchFilter args search_filter=<notprovided>.
05-12 13:33:09.203571  1 10 Options: Updating version from notprovided to versionC47065.
05-12 13:33:09.203583  1 11 Options: Updating entity from notprovided to ENTITY-testLoadStore.
05-12 13:33:09.205716  1 12 Options: Updating provider from filesystem to filesystem.
05-12 13:33:09.205730  1 10 Options: Updating operation from load to store.
05-12 13:33:09.205739  1 14 Options: dataFormat args format=<json>.
05-12 13:33:09.205752  1 11 Options: Updating collection_name from notprovided to testLoadStore.
05-12 13:33:09.205923  1 15 Options: searchFilter args search_filter=<{
"version" : "versionC47065",
"configurable_entity.name" : "ENTITY-testLoadStore"
}>.
05-12 13:33:09.206235  1 15 Options: searchFilter args search_filter=<notprovided>.
05-12 13:33:09.206249  1 10 Options: Updating version from notprovided to versionC47065.
05-12 13:33:09.206258  1 11 Options: Updating entity from notprovided to ENTITY-testLoadStore.
05-12 13:33:09.206306  1 15 store_configuration: begin
05-12 13:33:09.206327  1 15 store_configuration: json_buffer=<{"data":{
"daq" : {
"event_builder" : {

"expected_fragments_per_event" : 2,

"first_fragment_receiver_rank" : 0,

"fragment_receiver_count" : 2,

"mpi_buffer_count" : 16,

"print_event_store_stats" : true,

"use_art" : true,

"verbose" : false
}
}
}
}>
05-12 13:33:09.217179  1 15 store_configuration: insert_payload=<{"document":{
    "document" : {
        "data" : {
            "daq" : {
                "event_builder" : {
                    "expected_fragments_per_event" : 2, 
                    "first_fragment_receiver_rank" : 0, 
                    "fragment_receiver_count" : 2, 
                    "mpi_buffer_count" : 16, 
                    "print_event_store_stats" : true, 
                    "use_art" : true, 
                    "verbose" : false
                }
            }
        }, 
        "metadata" : {
            "comments" : {
                "empty" : "empty"
            }
        }, 
        "search" : [
            {
                "name" : "find any", 
                "query" : "not defined"
            }
        ]
    }, 
    "source" : {
        "encoding" : "base64", 
        "format" : "json", 
        "rawdata" : "as"
    }, 
    "version" : "versionC47065", 
    "configurations" : [
        {
            "name" : "notprovided", 
            "assigned" : "Thu May 12 13:33:09 2016"
        }
    ], 
    "aliases" : {
        "active" : [

        ], 
        "history" : [

        ]
    }, 
    "changelog" : "empty", 
    "bookkeeping" : {
        "isdeleted" : false, 
        "isreadonly" : true, 
        "created" : "Tue Dec 29 18:19:25 2015", 
        "updates" : [
            {
                "addToGlobalConfig" : "Thu May 12 13:33:09 2016"
            }, 
            {
                "setVersion" : "Thu May 12 13:33:09 2016"
            }, 
            {
                "setConfigurableEntity" : "Thu May 12 13:33:09 2016"
            }
        ]
    }, 
    "configurable_entity" : {
        "name" : "ENTITY-testLoadStore"
    }
}, "collection":"testLoadStore"}>
05-12 13:33:09.217466  1  4 StorageProvider::FileSystemDB::store() begin
05-12 13:33:09.217494  1  4 StorageProvider::FileSystemDB::store() args data=<{"document":{
    "document" : {
        "data" : {
            "daq" : {
                "event_builder" : {
                    "expected_fragments_per_event" : 2, 
                    "first_fragment_receiver_rank" : 0, 
                    "fragment_receiver_count" : 2, 
                    "mpi_buffer_count" : 16, 
                    "print_event_store_stats" : true, 
                    "use_art" : true, 
                    "verbose" : false
                }
            }
        }, 
        "metadata" : {
            "comments" : {
                "empty" : "empty"
            }
        }, 
        "search" : [
            {
                "name" : "find any", 
                "query" : "not defined"
            }
        ]
    }, 
    "source" : {
        "encoding" : "base64", 
        "format" : "json", 
        "rawdata" : "as"
    }, 
    "version" : "versionC47065", 
    "configurations" : [
        {
            "name" : "notprovided", 
            "assigned" : "Thu May 12 13:33:09 2016"
        }
    ], 
    "aliases" : {
        "active" : [

        ], 
        "history" : [

        ]
    }, 
    "changelog" : "empty", 
    "bookkeeping" : {
        "isdeleted" : false, 
        "isreadonly" : true, 
        "created" : "Tue Dec 29 18:19:25 2015", 
        "updates" : [
            {
                "addToGlobalConfig" : "Thu May 12 13:33:09 2016"
            }, 
            {
                "setVersion" : "Thu May 12 13:33:09 2016"
            }, 
            {
                "setConfigurableEntity" : "Thu May 12 13:33:09 2016"
            }
        ]
    }, 
    "configurable_entity" : {
        "name" : "ENTITY-testLoadStore"
    }
}, "collection":"testLoadStore"}>
05-12 13:33:09.220542  1 12 StorageProvider::FileSystemDB generate_oid=a9d35909c11f4e2088258de0
05-12 13:33:09.223494  1  4 StorageProvider::FileSystemDB::store() using generated oid=<a9d35909c11f4e2088258de0>.
05-12 13:33:09.223571  1  4 StorageProvider::FileSystemDB::store() collection_path=<file:///home/lukhanin/databases/filesystemdb/testLoadStore/>.
05-12 13:33:09.223606  1 11 StorageProvider::FileSystemDB mkdir dir=</home/lukhanin/databases/filesystemdb/testLoadStore/>
05-12 13:33:09.223669  1 11 StorageProvider::FileSystemDB Directory exists, checking permissions; path=</home/lukhanin/databases/filesystemdb/testLoadStore/>
05-12 13:33:09.223869  1  4 StorageProvider::FileSystemDB::store() filename=</home/lukhanin/databases/filesystemdb/testLoadStore/a9d35909c11f4e2088258de0.json>.
05-12 13:33:09.233255  1  3 StorageProvider::FileSystemDB::index::_open() begin
05-12 13:33:09.233270  1  3 StorageProvider::FileSystemDB::index::_open() args index_path=</home/lukhanin/databases/filesystemdb/testLoadStore/index.json>.
05-12 13:33:09.233472  1  3 StorageProvider::FileSystemDB::index::_open() json=<{
"version" : {
"versionA01749" : [
"94adcd1f5f6748cda59d13f6"
],
"versionB01749" : [
"0e0fcfb7044d4e91bbdf55e4"
],
"versionC01749" : [
"c5db7ef3aeae498db2a59caf"
],
"versionA38249" : [
"290ce4a4e0e74acfba4cf107"
],
"versionB38249" : [
"b9a1eb0a4c5d4ed1a6f3191d"
],
"versionC38249" : [
"462d4002a531489a94659025"
],
"versionA65272" : [
"d869fc26dff64c6fbe132357"
],
"versionB65272" : [
"33ae84a3b7054a61b8097407"
],
"versionC65272" : [
"339f0b2d469742b487dad30a"
],
"versionA51307" : [
"8f0f2deb56fc497e9df95cdc",
"b7cbfe9fa6824b6986f11961"
],
"versionB51307" : [
"37de50d6d24f425f82438214",
"69e4ec12f4004fd78279d7a4"
],
"versionC51307" : [
"1ac8123cca4d41e18ae5469a",
"5d7e5964c8db4094951f6c1a"
],
"versionD51307" : [
"a01e6f4de48b422c93b12d30",
"cbf93bfbb758457987a4ca7b"
],
"versionA47065" : [
"760547e4ab514d93a427723d"
],
"versionB47065" : [
"028bfcd6db994914a8bcd3c0"
]
},
"configurations.name" : {
"notprovided" : [
"028bfcd6db994914a8bcd3c0",
"0e0fcfb7044d4e91bbdf55e4",
"1ac8123cca4d41e18ae5469a",
"290ce4a4e0e74acfba4cf107",
"339f0b2d469742b487dad30a",
"33ae84a3b7054a61b8097407",
"37de50d6d24f425f82438214",
"462d4002a531489a94659025",
"5d7e5964c8db4094951f6c1a",
"69e4ec12f4004fd78279d7a4",
"760547e4ab514d93a427723d",
"8f0f2deb56fc497e9df95cdc",
"94adcd1f5f6748cda59d13f6",
"a01e6f4de48b422c93b12d30",
"b7cbfe9fa6824b6986f11961",
"b9a1eb0a4c5d4ed1a6f3191d",
"c5db7ef3aeae498db2a59caf",
"cbf93bfbb758457987a4ca7b",
"d869fc26dff64c6fbe132357"
]
},
"configurable_entity.name" : {
"notprovided" : [
"028bfcd6db994914a8bcd3c0",
"290ce4a4e0e74acfba4cf107",
"33ae84a3b7054a61b8097407",
"37de50d6d24f425f82438214",
"69e4ec12f4004fd78279d7a4",
"760547e4ab514d93a427723d",
"8f0f2deb56fc497e9df95cdc",
"b7cbfe9fa6824b6986f11961",
"b9a1eb0a4c5d4ed1a6f3191d",
"d869fc26dff64c6fbe132357"
],
"ENTITY-testLoadStore" : [
"1ac8123cca4d41e18ae5469a",
"339f0b2d469742b487dad30a",
"462d4002a531489a94659025",
"5d7e5964c8db4094951f6c1a",
"a01e6f4de48b422c93b12d30",
"cbf93bfbb758457987a4ca7b"
]
}
}>
05-12 13:33:09.235913  1  5 StorageProvider::FileSystemDB::index::addDocument() begin
05-12 13:33:09.235937  1  5 StorageProvider::FileSystemDB::index::addDocument() args document=<{
        "document" : {
            "data" : {
                "daq" : {
                    "event_builder" : {
                        "expected_fragments_per_event" : 2, 
                        "first_fragment_receiver_rank" : 0, 
                        "fragment_receiver_count" : 2, 
                        "mpi_buffer_count" : 16, 
                        "print_event_store_stats" : true, 
                        "use_art" : true, 
                        "verbose" : false
                    }
                }
            }, 
            "metadata" : {
                "comments" : {
                    "empty" : "empty"
                }
            }, 
            "search" : [
                {
                    "name" : "find any", 
                    "query" : "not defined"
                }
            ]
        }, 
        "source" : {
            "encoding" : "base64", 
            "format" : "json", 
            "rawdata" : "as"
        }, 
        "version" : "versionC47065", 
        "configurations" : [
            {
                "name" : "notprovided", 
                "assigned" : "Thu May 12 13:33:09 2016"
            }
        ], 
        "aliases" : {
            "active" : [

            ], 
            "history" : [

            ]
        }, 
        "changelog" : "empty", 
        "bookkeeping" : {
            "isdeleted" : false, 
            "isreadonly" : true, 
            "created" : "Tue Dec 29 18:19:25 2015", 
            "updates" : [
                {
                    "addToGlobalConfig" : "Thu May 12 13:33:09 2016"
                }, 
                {
                    "setVersion" : "Thu May 12 13:33:09 2016"
                }, 
                {
                    "setConfigurableEntity" : "Thu May 12 13:33:09 2016"
                }
            ]
        }, 
        "configurable_entity" : {
            "name" : "ENTITY-testLoadStore"
        }, 
        "_id" : {
            "_oid" : "a9d35909c11f4e2088258de0"
        }
    }>.
05-12 13:33:09.235950  1  5 StorageProvider::FileSystemDB::index::addDocument() args ouid=<a9d35909c11f4e2088258de0>.
05-12 13:33:09.237913  1  5 StorageProvider::FileSystemDB::index::addDocument() found 9 keys.
05-12 13:33:09.237935  1  7 StorageProvider::FileSystemDB::index::_addVersion() begin
05-12 13:33:09.237944  1  7 StorageProvider::FileSystemDB::index::_addVersion() args ouid=<a9d35909c11f4e2088258de0>.
05-12 13:33:09.237950  1  7 StorageProvider::FileSystemDB::index::_addVersion() args version=<versionC47065>.
05-12 13:33:09.238147  1  7 StorageProvider::FileSystemDB::index::_addConfiguration() begin
05-12 13:33:09.238159  1  7 StorageProvider::FileSystemDB::index::_addConfiguration() args ouid=<a9d35909c11f4e2088258de0>.
05-12 13:33:09.238165  1  7 StorageProvider::FileSystemDB::index::_addConfiguration() args configuration=<notprovided>.
05-12 13:33:09.238252  1  7 StorageProvider::FileSystemDB::index::_addConfigurableEntity() begin
05-12 13:33:09.238262  1  7 StorageProvider::FileSystemDB::index::_addConfigurableEntity() args ouid=<a9d35909c11f4e2088258de0>.
05-12 13:33:09.238268  1  7 StorageProvider::FileSystemDB::index::_addConfigurableEntity() args entity=<ENTITY-testLoadStore>.
05-12 13:33:09.238336  1  4 StorageProvider::FileSystemDB::index::_close() begin
05-12 13:33:09.240988  1  4 StorageProvider::FileSystemDB::index::_close() json=<{
"version" : {
"versionA01749" : [
"94adcd1f5f6748cda59d13f6"
],
"versionB01749" : [
"0e0fcfb7044d4e91bbdf55e4"
],
"versionC01749" : [
"c5db7ef3aeae498db2a59caf"
],
"versionA38249" : [
"290ce4a4e0e74acfba4cf107"
],
"versionB38249" : [
"b9a1eb0a4c5d4ed1a6f3191d"
],
"versionC38249" : [
"462d4002a531489a94659025"
],
"versionA65272" : [
"d869fc26dff64c6fbe132357"
],
"versionB65272" : [
"33ae84a3b7054a61b8097407"
],
"versionC65272" : [
"339f0b2d469742b487dad30a"
],
"versionA51307" : [
"8f0f2deb56fc497e9df95cdc",
"b7cbfe9fa6824b6986f11961"
],
"versionB51307" : [
"37de50d6d24f425f82438214",
"69e4ec12f4004fd78279d7a4"
],
"versionC51307" : [
"1ac8123cca4d41e18ae5469a",
"5d7e5964c8db4094951f6c1a"
],
"versionD51307" : [
"a01e6f4de48b422c93b12d30",
"cbf93bfbb758457987a4ca7b"
],
"versionA47065" : [
"760547e4ab514d93a427723d"
],
"versionB47065" : [
"028bfcd6db994914a8bcd3c0"
],
"versionC47065" : [
"a9d35909c11f4e2088258de0"
]
},
"configurations.name" : {
"notprovided" : [
"028bfcd6db994914a8bcd3c0",
"0e0fcfb7044d4e91bbdf55e4",
"1ac8123cca4d41e18ae5469a",
"290ce4a4e0e74acfba4cf107",
"339f0b2d469742b487dad30a",
"33ae84a3b7054a61b8097407",
"37de50d6d24f425f82438214",
"462d4002a531489a94659025",
"5d7e5964c8db4094951f6c1a",
"69e4ec12f4004fd78279d7a4",
"760547e4ab514d93a427723d",
"8f0f2deb56fc497e9df95cdc",
"94adcd1f5f6748cda59d13f6",
"a01e6f4de48b422c93b12d30",
"a9d35909c11f4e2088258de0",
"b7cbfe9fa6824b6986f11961",
"b9a1eb0a4c5d4ed1a6f3191d",
"c5db7ef3aeae498db2a59caf",
"cbf93bfbb758457987a4ca7b",
"d869fc26dff64c6fbe132357"
]
},
"configurable_entity.name" : {
"notprovided" : [
"028bfcd6db994914a8bcd3c0",
"290ce4a4e0e74acfba4cf107",
"33ae84a3b7054a61b8097407",
"37de50d6d24f425f82438214",
"69e4ec12f4004fd78279d7a4",
"760547e4ab514d93a427723d",
"8f0f2deb56fc497e9df95cdc",
"b7cbfe9fa6824b6986f11961",
"b9a1eb0a4c5d4ed1a6f3191d",
"d869fc26dff64c6fbe132357"
],
"ENTITY-testLoadStore" : [
"1ac8123cca4d41e18ae5469a",
"339f0b2d469742b487dad30a",
"462d4002a531489a94659025",
"5d7e5964c8db4094951f6c1a",
"a01e6f4de48b422c93b12d30",
"a9d35909c11f4e2088258de0",
"cbf93bfbb758457987a4ca7b"
]
}
}>
05-12 13:33:09.241168  1  4 StorageProvider::FileSystemDB::index::_close() Closed SearchIndex.
05-12 13:33:09.241295  1 15 store_configuration: end
Parsed options:
{
"filter" : {
"version" : "versionC47065",
"configurable_entity.name" : "ENTITY-testLoadStore"
},
"dbprovider" : "filesystem",
"operation" : "store",
"collection" : "testLoadStore",
"dataformat" : "json"
}
Running test:<store>
returned:
{
"daq" : {
"event_builder" : {

"expected_fragments_per_event" : 2,

"first_fragment_receiver_rank" : 0,

"fragment_receiver_count" : 2,

"mpi_buffer_count" : 16,

"print_event_store_stats" : true,

"use_art" : true,

"verbose" : false
}
}
}

<end of output>
Test time =   0.10 sec
----------------------------------------------------------
Test Passed.
"LoadStore_store_filesystem_011_t" end time: May 12 13:33 CDT
"LoadStore_store_filesystem_011_t" time elapsed: 00:00:00
----------------------------------------------------------

10/16 Testing: LoadStore_store_mongo_011_t
10/16 Test: LoadStore_store_mongo_011_t
Command: "/home/lukhanin/scratch/current/artdaq-demo-base/products/cetbuildtools/v4_18_02/bin/cet_exec_test" "--wd" "/home/lukhanin/scratch/current/artdaq-demo-base/build_artdaq-utilities-database/test/ConfigurationDB/LoadStore/test011/LoadStore_store_mongo_011_t.d" "--required-files" "" "--datafiles" "/home/lukhanin/scratch/current/artdaq-demo-base/build_artdaq-utilities-database/test/ConfigurationDB/LoadStore/test011/test011.src.778.json;/home/lukhanin/scratch/current/artdaq-demo-base/build_artdaq-utilities-database/test/ConfigurationDB/LoadStore/test011/test011.cmp.778.json;/home/lukhanin/scratch/current/artdaq-demo-base/build_artdaq-utilities-database/test/ConfigurationDB/LoadStore/test011/test011.flt.778.json" "--skip-return-code" "247" "LoadStore_t" "--searchquery=test011.flt.778.json" "-s" "test011.src.778.json" "-r" "test011.cmp.778.json"
Directory: /home/lukhanin/scratch/current/artdaq-demo-base/build_artdaq-utilities-database/test/ConfigurationDB/LoadStore/test011/LoadStore_store_mongo_011_t.d
"LoadStore_store_mongo_011_t" start time: May 12 13:33 CDT
Output:
----------------------------------------------------------
removed ‘test011.cmp.466.json’
removed ‘test011.flt.466.json’
removed ‘test011.src.466.json’
05-12 13:33:09.296118  1  0 artdaq::database::filesystem trace_enable
05-12 13:33:09.296290  1  0 artdaq::database::filesystem::index trace_enable
05-12 13:33:09.296359  1  0 artdaq::database::mongo trace_enable
05-12 13:33:09.296450  1  0 artdaq::database::configuration::LoadStoreOperation trace_enable
05-12 13:33:09.296494  1  0 artdaq::database::configuration::options::OperationBase trace_enable
05-12 13:33:09.296534  1  0 artdaq::database::configuration::options::OperationLoadStore trace_enable
05-12 13:33:09.296571  1  0 artdaq::database::configuration::LoadStoreOperationDetail trace_enable
05-12 13:33:09.298757  1 14 Options: json query= <{
    "filter":{"version":"versionC47065", "configurable_entity.name":"ENTITY-testLoadStore"},
    "collection":"testLoadStore",
    "dbprovider":"mongo",
    "operation":"store",
    "dataformat":"json"
}
>
05-12 13:33:09.302360  1 12 Options: Updating provider from filesystem to mongo.
05-12 13:33:09.302400  1 10 Options: Updating operation from load to store.
05-12 13:33:09.302431  1 14 Options: dataFormat args format=<json>.
05-12 13:33:09.302457  1 11 Options: Updating collection_name from notprovided to testLoadStore.
05-12 13:33:09.306221  1 15 Options: searchFilter args search_filter=<{
"version" : "versionC47065",
"configurable_entity.name" : "ENTITY-testLoadStore"
}>.
05-12 13:33:09.306599  1 15 Options: searchFilter args search_filter=<notprovided>.
05-12 13:33:09.306615  1 10 Options: Updating version from notprovided to versionC47065.
05-12 13:33:09.306626  1 11 Options: Updating entity from notprovided to ENTITY-testLoadStore.
05-12 13:33:09.308520  1 12 Options: Updating provider from filesystem to mongo.
05-12 13:33:09.308532  1 10 Options: Updating operation from load to store.
05-12 13:33:09.308540  1 14 Options: dataFormat args format=<json>.
05-12 13:33:09.308550  1 11 Options: Updating collection_name from notprovided to testLoadStore.
05-12 13:33:09.308678  1 15 Options: searchFilter args search_filter=<{
"version" : "versionC47065",
"configurable_entity.name" : "ENTITY-testLoadStore"
}>.
05-12 13:33:09.308946  1 15 Options: searchFilter args search_filter=<notprovided>.
05-12 13:33:09.308958  1 10 Options: Updating version from notprovided to versionC47065.
05-12 13:33:09.308966  1 11 Options: Updating entity from notprovided to ENTITY-testLoadStore.
05-12 13:33:09.309004  1 15 store_configuration: begin
05-12 13:33:09.309021  1 15 store_configuration: json_buffer=<{"data":{
"daq" : {
"event_builder" : {

"expected_fragments_per_event" : 2,

"first_fragment_receiver_rank" : 0,

"fragment_receiver_count" : 2,

"mpi_buffer_count" : 16,

"print_event_store_stats" : true,

"use_art" : true,

"verbose" : false
}
}
}
}>
05-12 13:33:09.318992  1 15 store_configuration: insert_payload=<{"document":{
    "document" : {
        "data" : {
            "daq" : {
                "event_builder" : {
                    "expected_fragments_per_event" : 2, 
                    "first_fragment_receiver_rank" : 0, 
                    "fragment_receiver_count" : 2, 
                    "mpi_buffer_count" : 16, 
                    "print_event_store_stats" : true, 
                    "use_art" : true, 
                    "verbose" : false
                }
            }
        }, 
        "metadata" : {
            "comments" : {
                "empty" : "empty"
            }
        }, 
        "search" : [
            {
                "name" : "find any", 
                "query" : "not defined"
            }
        ]
    }, 
    "source" : {
        "encoding" : "base64", 
        "format" : "json", 
        "rawdata" : "as"
    }, 
    "version" : "versionC47065", 
    "configurations" : [
        {
            "name" : "notprovided", 
            "assigned" : "Thu May 12 13:33:09 2016"
        }
    ], 
    "aliases" : {
        "active" : [

        ], 
        "history" : [

        ]
    }, 
    "changelog" : "empty", 
    "bookkeeping" : {
        "isdeleted" : false, 
        "isreadonly" : true, 
        "created" : "Tue Dec 29 18:19:25 2015", 
        "updates" : [
            {
                "addToGlobalConfig" : "Thu May 12 13:33:09 2016"
            }, 
            {
                "setVersion" : "Thu May 12 13:33:09 2016"
            }, 
            {
                "setConfigurableEntity" : "Thu May 12 13:33:09 2016"
            }
        ]
    }, 
    "configurable_entity" : {
        "name" : "ENTITY-testLoadStore"
    }
}, "collection":"testLoadStore"}>
05-12 13:33:09.320141  1  4 StorageProvider::MongoDB::store() begin
05-12 13:33:09.320417  1  4 Search filter is missing, proceeding with insert.
05-12 13:33:09.324667  1  5 inserted_id={
    "$oid" : "5734cc651a72ba724148ddb1"
}
05-12 13:33:09.324948  1 15 store_configuration: end
Parsed options:
{
"filter" : {
"version" : "versionC47065",
"configurable_entity.name" : "ENTITY-testLoadStore"
},
"dbprovider" : "mongo",
"operation" : "store",
"collection" : "testLoadStore",
"dataformat" : "json"
}
Running test:<store>
returned:
{
"daq" : {
"event_builder" : {

"expected_fragments_per_event" : 2,

"first_fragment_receiver_rank" : 0,

"fragment_receiver_count" : 2,

"mpi_buffer_count" : 16,

"print_event_store_stats" : true,

"use_art" : true,

"verbose" : false
}
}
}

<end of output>
Test time =   0.08 sec
----------------------------------------------------------
Test Passed.
"LoadStore_store_mongo_011_t" end time: May 12 13:33 CDT
"LoadStore_store_mongo_011_t" time elapsed: 00:00:00
----------------------------------------------------------

11/16 Testing: LoadStore_load_filesystem_013_t
11/16 Test: LoadStore_load_filesystem_013_t
Command: "/home/lukhanin/scratch/current/artdaq-demo-base/products/cetbuildtools/v4_18_02/bin/cet_exec_test" "--wd" "/home/lukhanin/scratch/current/artdaq-demo-base/build_artdaq-utilities-database/test/ConfigurationDB/LoadStore/test013/LoadStore_load_filesystem_013_t.d" "--required-files" "" "--datafiles" "/home/lukhanin/scratch/current/artdaq-demo-base/build_artdaq-utilities-database/test/ConfigurationDB/LoadStore/test013/test011.cmp.340.json;/home/lukhanin/scratch/current/artdaq-demo-base/build_artdaq-utilities-database/test/ConfigurationDB/LoadStore/test013/test011.flt.340.json" "--skip-return-code" "247" "LoadStore_t" "--searchquery=test011.flt.340.json" "-r" "test011.cmp.340.json"
Directory: /home/lukhanin/scratch/current/artdaq-demo-base/build_artdaq-utilities-database/test/ConfigurationDB/LoadStore/test013/LoadStore_load_filesystem_013_t.d
"LoadStore_load_filesystem_013_t" start time: May 12 13:33 CDT
Output:
----------------------------------------------------------
removed ‘test011.cmp.287.json’
removed ‘test011.flt.287.json’
05-12 13:33:09.375057  1  0 artdaq::database::filesystem trace_enable
05-12 13:33:09.375225  1  0 artdaq::database::filesystem::index trace_enable
05-12 13:33:09.375293  1  0 artdaq::database::mongo trace_enable
05-12 13:33:09.375376  1  0 artdaq::database::configuration::LoadStoreOperation trace_enable
05-12 13:33:09.375436  1  0 artdaq::database::configuration::options::OperationBase trace_enable
05-12 13:33:09.375487  1  0 artdaq::database::configuration::options::OperationLoadStore trace_enable
05-12 13:33:09.375516  1  0 artdaq::database::configuration::LoadStoreOperationDetail trace_enable
05-12 13:33:09.377480  1 14 Options: json query= <{
    "filter":{"version":"versionC47065", "configurable_entity.name":"ENTITY-testLoadStore"},
    "collection":"testLoadStore",
    "dbprovider":"filesystem",
    "operation":"load",
    "dataformat":"json"
}
>
05-12 13:33:09.381096  1 12 Options: Updating provider from filesystem to filesystem.
05-12 13:33:09.381128  1 10 Options: Updating operation from load to load.
05-12 13:33:09.381144  1 14 Options: dataFormat args format=<json>.
05-12 13:33:09.381164  1 11 Options: Updating collection_name from notprovided to testLoadStore.
05-12 13:33:09.383853  1 15 Options: searchFilter args search_filter=<{
"version" : "versionC47065",
"configurable_entity.name" : "ENTITY-testLoadStore"
}>.
05-12 13:33:09.384192  1 15 Options: searchFilter args search_filter=<notprovided>.
05-12 13:33:09.384216  1 10 Options: Updating version from notprovided to versionC47065.
05-12 13:33:09.384229  1 11 Options: Updating entity from notprovided to ENTITY-testLoadStore.
05-12 13:33:09.386483  1 12 Options: Updating provider from filesystem to filesystem.
05-12 13:33:09.386527  1 10 Options: Updating operation from load to load.
05-12 13:33:09.386536  1 14 Options: dataFormat args format=<json>.
05-12 13:33:09.386547  1 11 Options: Updating collection_name from notprovided to testLoadStore.
05-12 13:33:09.386707  1 15 Options: searchFilter args search_filter=<{
"version" : "versionC47065",
"configurable_entity.name" : "ENTITY-testLoadStore"
}>.
05-12 13:33:09.386974  1 15 Options: searchFilter args search_filter=<notprovided>.
05-12 13:33:09.386987  1 10 Options: Updating version from notprovided to versionC47065.
05-12 13:33:09.386996  1 11 Options: Updating entity from notprovided to ENTITY-testLoadStore.
05-12 13:33:09.387046  1 16 load_configuration: begin
05-12 13:33:09.387390  1 16 load_configuration: search_payload=<{"filter":{
"version" : "versionC47065",
"configurable_entity.name" : "ENTITY-testLoadStore"
}, "collection":"testLoadStore"}>
05-12 13:33:09.387668  1  3 StorageProvider::FileSystemDB::load() begin
05-12 13:33:09.387687  1  3 StorageProvider::FileSystemDB::load() args search=<{"filter":{
"version" : "versionC47065",
"configurable_entity.name" : "ENTITY-testLoadStore"
}, "collection":"testLoadStore"}>
05-12 13:33:09.394623  1  3 StorageProvider::FileSystemDB::load() collection_path=<file:///home/lukhanin/databases/filesystemdb/testLoadStore/>.
05-12 13:33:09.394653  1 11 StorageProvider::FileSystemDB mkdir dir=</home/lukhanin/databases/filesystemdb/testLoadStore/>
05-12 13:33:09.394698  1 11 StorageProvider::FileSystemDB Directory exists, checking permissions; path=</home/lukhanin/databases/filesystemdb/testLoadStore/>
05-12 13:33:09.394881  1  3 StorageProvider::FileSystemDB::index::_open() begin
05-12 13:33:09.394895  1  3 StorageProvider::FileSystemDB::index::_open() args index_path=</home/lukhanin/databases/filesystemdb/testLoadStore/index.json>.
05-12 13:33:09.395114  1  3 StorageProvider::FileSystemDB::index::_open() json=<{
"version" : {
"versionA01749" : [
"94adcd1f5f6748cda59d13f6"
],
"versionB01749" : [
"0e0fcfb7044d4e91bbdf55e4"
],
"versionC01749" : [
"c5db7ef3aeae498db2a59caf"
],
"versionA38249" : [
"290ce4a4e0e74acfba4cf107"
],
"versionB38249" : [
"b9a1eb0a4c5d4ed1a6f3191d"
],
"versionC38249" : [
"462d4002a531489a94659025"
],
"versionA65272" : [
"d869fc26dff64c6fbe132357"
],
"versionB65272" : [
"33ae84a3b7054a61b8097407"
],
"versionC65272" : [
"339f0b2d469742b487dad30a"
],
"versionA51307" : [
"8f0f2deb56fc497e9df95cdc",
"b7cbfe9fa6824b6986f11961"
],
"versionB51307" : [
"37de50d6d24f425f82438214",
"69e4ec12f4004fd78279d7a4"
],
"versionC51307" : [
"1ac8123cca4d41e18ae5469a",
"5d7e5964c8db4094951f6c1a"
],
"versionD51307" : [
"a01e6f4de48b422c93b12d30",
"cbf93bfbb758457987a4ca7b"
],
"versionA47065" : [
"760547e4ab514d93a427723d"
],
"versionB47065" : [
"028bfcd6db994914a8bcd3c0"
],
"versionC47065" : [
"a9d35909c11f4e2088258de0"
]
},
"configurations.name" : {
"notprovided" : [
"028bfcd6db994914a8bcd3c0",
"0e0fcfb7044d4e91bbdf55e4",
"1ac8123cca4d41e18ae5469a",
"290ce4a4e0e74acfba4cf107",
"339f0b2d469742b487dad30a",
"33ae84a3b7054a61b8097407",
"37de50d6d24f425f82438214",
"462d4002a531489a94659025",
"5d7e5964c8db4094951f6c1a",
"69e4ec12f4004fd78279d7a4",
"760547e4ab514d93a427723d",
"8f0f2deb56fc497e9df95cdc",
"94adcd1f5f6748cda59d13f6",
"a01e6f4de48b422c93b12d30",
"a9d35909c11f4e2088258de0",
"b7cbfe9fa6824b6986f11961",
"b9a1eb0a4c5d4ed1a6f3191d",
"c5db7ef3aeae498db2a59caf",
"cbf93bfbb758457987a4ca7b",
"d869fc26dff64c6fbe132357"
]
},
"configurable_entity.name" : {
"notprovided" : [
"028bfcd6db994914a8bcd3c0",
"290ce4a4e0e74acfba4cf107",
"33ae84a3b7054a61b8097407",
"37de50d6d24f425f82438214",
"69e4ec12f4004fd78279d7a4",
"760547e4ab514d93a427723d",
"8f0f2deb56fc497e9df95cdc",
"b7cbfe9fa6824b6986f11961",
"b9a1eb0a4c5d4ed1a6f3191d",
"d869fc26dff64c6fbe132357"
],
"ENTITY-testLoadStore" : [
"1ac8123cca4d41e18ae5469a",
"339f0b2d469742b487dad30a",
"462d4002a531489a94659025",
"5d7e5964c8db4094951f6c1a",
"a01e6f4de48b422c93b12d30",
"a9d35909c11f4e2088258de0",
"cbf93bfbb758457987a4ca7b"
]
}
}>
05-12 13:33:09.397550  1  2 StorageProvider::FileSystemDB::index::findDocumentIDs() begin
05-12 13:33:09.397561  1  2 StorageProvider::FileSystemDB::index::findDocumentIDs() args search=<{
        "version" : "versionC47065", 
        "configurable_entity.name" : "ENTITY-testLoadStore"
    }>.
05-12 13:33:09.397713  1  5 StorageProvider::FileSystemDB::index::findDocumentIDs() found 2 search criteria.
05-12 13:33:09.397886  1 14 StorageProvider::FileSystemDB::index::_matchVersion() begin
05-12 13:33:09.397895  1 14 StorageProvider::FileSystemDB::index::_matchVersion() args version=<versionC47065>.
05-12 13:33:09.397946  1 15 StorageProvider::FileSystemDB::index::_matchConfiguration() Found 1 documents where version=versionC47065
05-12 13:33:09.398001  1 15 StorageProvider::FileSystemDB::index::_matchConfigurableEntity() begin
05-12 13:33:09.398011  1 15 StorageProvider::FileSystemDB::index::_matchConfigurableEntity() args configurable_entity=<ENTITY-testLoadStore>.
05-12 13:33:09.398025  1 15 StorageProvider::FileSystemDB::index::_matchConfigurableEntity() Found 7 documents where entity=ENTITY-testLoadStore
05-12 13:33:09.398156  1  5 StorageProvider::FileSystemDB::index::findDocumentIDs() criteria_count=2, max_count=2, found 1 documents.
05-12 13:33:09.398185  1  5 StorageProvider::FileSystemDB::index::findDocumentIDs() returning 1 documents.
05-12 13:33:09.398202  1  3 StorageProvider::FileSystemDB::load() search returned 1 documents.
05-12 13:33:09.398325  1  3 StorageProvider::FileSystemDB::load() reading document </home/lukhanin/databases/filesystemdb/testLoadStore/a9d35909c11f4e2088258de0.json>.
05-12 13:33:09.398540  1  4 StorageProvider::FileSystemDB::index::_close() begin
05-12 13:33:09.401103  1  4 StorageProvider::FileSystemDB::index::_close() json=<{
"version" : {
"versionA01749" : [
"94adcd1f5f6748cda59d13f6"
],
"versionB01749" : [
"0e0fcfb7044d4e91bbdf55e4"
],
"versionC01749" : [
"c5db7ef3aeae498db2a59caf"
],
"versionA38249" : [
"290ce4a4e0e74acfba4cf107"
],
"versionB38249" : [
"b9a1eb0a4c5d4ed1a6f3191d"
],
"versionC38249" : [
"462d4002a531489a94659025"
],
"versionA65272" : [
"d869fc26dff64c6fbe132357"
],
"versionB65272" : [
"33ae84a3b7054a61b8097407"
],
"versionC65272" : [
"339f0b2d469742b487dad30a"
],
"versionA51307" : [
"8f0f2deb56fc497e9df95cdc",
"b7cbfe9fa6824b6986f11961"
],
"versionB51307" : [
"37de50d6d24f425f82438214",
"69e4ec12f4004fd78279d7a4"
],
"versionC51307" : [
"1ac8123cca4d41e18ae5469a",
"5d7e5964c8db4094951f6c1a"
],
"versionD51307" : [
"a01e6f4de48b422c93b12d30",
"cbf93bfbb758457987a4ca7b"
],
"versionA47065" : [
"760547e4ab514d93a427723d"
],
"versionB47065" : [
"028bfcd6db994914a8bcd3c0"
],
"versionC47065" : [
"a9d35909c11f4e2088258de0"
]
},
"configurations.name" : {
"notprovided" : [
"028bfcd6db994914a8bcd3c0",
"0e0fcfb7044d4e91bbdf55e4",
"1ac8123cca4d41e18ae5469a",
"290ce4a4e0e74acfba4cf107",
"339f0b2d469742b487dad30a",
"33ae84a3b7054a61b8097407",
"37de50d6d24f425f82438214",
"462d4002a531489a94659025",
"5d7e5964c8db4094951f6c1a",
"69e4ec12f4004fd78279d7a4",
"760547e4ab514d93a427723d",
"8f0f2deb56fc497e9df95cdc",
"94adcd1f5f6748cda59d13f6",
"a01e6f4de48b422c93b12d30",
"a9d35909c11f4e2088258de0",
"b7cbfe9fa6824b6986f11961",
"b9a1eb0a4c5d4ed1a6f3191d",
"c5db7ef3aeae498db2a59caf",
"cbf93bfbb758457987a4ca7b",
"d869fc26dff64c6fbe132357"
]
},
"configurable_entity.name" : {
"notprovided" : [
"028bfcd6db994914a8bcd3c0",
"290ce4a4e0e74acfba4cf107",
"33ae84a3b7054a61b8097407",
"37de50d6d24f425f82438214",
"69e4ec12f4004fd78279d7a4",
"760547e4ab514d93a427723d",
"8f0f2deb56fc497e9df95cdc",
"b7cbfe9fa6824b6986f11961",
"b9a1eb0a4c5d4ed1a6f3191d",
"d869fc26dff64c6fbe132357"
],
"ENTITY-testLoadStore" : [
"1ac8123cca4d41e18ae5469a",
"339f0b2d469742b487dad30a",
"462d4002a531489a94659025",
"5d7e5964c8db4094951f6c1a",
"a01e6f4de48b422c93b12d30",
"a9d35909c11f4e2088258de0",
"cbf93bfbb758457987a4ca7b"
]
}
}>
05-12 13:33:09.401323  1  4 StorageProvider::FileSystemDB::index::_close() Closed SearchIndex.
05-12 13:33:09.403911  1 15 load_configuration: end
Parsed options:
{
"filter" : {
"version" : "versionC47065",
"configurable_entity.name" : "ENTITY-testLoadStore"
},
"dbprovider" : "filesystem",
"operation" : "load",
"collection" : "testLoadStore",
"dataformat" : "json"
}
Running test:<load>
returned:
{
"daq" : {
"event_builder" : {
"expected_fragments_per_event" : 2,
"first_fragment_receiver_rank" : 0,
"fragment_receiver_count" : 2,
"mpi_buffer_count" : 16,
"print_event_store_stats" : true,
"use_art" : true,
"verbose" : false
}
}
}
<end of output>
Test time =   0.08 sec
----------------------------------------------------------
Test Passed.
"LoadStore_load_filesystem_013_t" end time: May 12 13:33 CDT
"LoadStore_load_filesystem_013_t" time elapsed: 00:00:00
----------------------------------------------------------

12/16 Testing: LoadStore_load_mongo_013_t
12/16 Test: LoadStore_load_mongo_013_t
Command: "/home/lukhanin/scratch/current/artdaq-demo-base/products/cetbuildtools/v4_18_02/bin/cet_exec_test" "--wd" "/home/lukhanin/scratch/current/artdaq-demo-base/build_artdaq-utilities-database/test/ConfigurationDB/LoadStore/test013/LoadStore_load_mongo_013_t.d" "--required-files" "" "--datafiles" "/home/lukhanin/scratch/current/artdaq-demo-base/build_artdaq-utilities-database/test/ConfigurationDB/LoadStore/test013/test011.cmp.323.json;/home/lukhanin/scratch/current/artdaq-demo-base/build_artdaq-utilities-database/test/ConfigurationDB/LoadStore/test013/test011.flt.323.json" "--skip-return-code" "247" "LoadStore_t" "--searchquery=test011.flt.323.json" "-r" "test011.cmp.323.json"
Directory: /home/lukhanin/scratch/current/artdaq-demo-base/build_artdaq-utilities-database/test/ConfigurationDB/LoadStore/test013/LoadStore_load_mongo_013_t.d
"LoadStore_load_mongo_013_t" start time: May 12 13:33 CDT
Output:
----------------------------------------------------------
removed ‘test011.cmp.016.json’
removed ‘test011.flt.016.json’
05-12 13:33:09.460669  1  0 artdaq::database::filesystem trace_enable
05-12 13:33:09.460918  1  0 artdaq::database::filesystem::index trace_enable
05-12 13:33:09.461025  1  0 artdaq::database::mongo trace_enable
05-12 13:33:09.461124  1  0 artdaq::database::configuration::LoadStoreOperation trace_enable
05-12 13:33:09.461183  1  0 artdaq::database::configuration::options::OperationBase trace_enable
05-12 13:33:09.461230  1  0 artdaq::database::configuration::options::OperationLoadStore trace_enable
05-12 13:33:09.461269  1  0 artdaq::database::configuration::LoadStoreOperationDetail trace_enable
05-12 13:33:09.463725  1 14 Options: json query= <{
    "filter":{"version":"versionC47065", "configurable_entity.name":"ENTITY-testLoadStore"},
    "collection":"testLoadStore",
    "dbprovider":"mongo",
    "operation":"load",
    "dataformat":"json"
}
>
05-12 13:33:09.469323  1 12 Options: Updating provider from filesystem to mongo.
05-12 13:33:09.469371  1 10 Options: Updating operation from load to load.
05-12 13:33:09.469398  1 14 Options: dataFormat args format=<json>.
05-12 13:33:09.469432  1 11 Options: Updating collection_name from notprovided to testLoadStore.
05-12 13:33:09.473059  1 15 Options: searchFilter args search_filter=<{
"version" : "versionC47065",
"configurable_entity.name" : "ENTITY-testLoadStore"
}>.
05-12 13:33:09.473507  1 15 Options: searchFilter args search_filter=<notprovided>.
05-12 13:33:09.473535  1 10 Options: Updating version from notprovided to versionC47065.
05-12 13:33:09.473556  1 11 Options: Updating entity from notprovided to ENTITY-testLoadStore.
05-12 13:33:09.476242  1 12 Options: Updating provider from filesystem to mongo.
05-12 13:33:09.476264  1 10 Options: Updating operation from load to load.
05-12 13:33:09.476275  1 14 Options: dataFormat args format=<json>.
05-12 13:33:09.476296  1 11 Options: Updating collection_name from notprovided to testLoadStore.
05-12 13:33:09.476502  1 15 Options: searchFilter args search_filter=<{
"version" : "versionC47065",
"configurable_entity.name" : "ENTITY-testLoadStore"
}>.
05-12 13:33:09.476900  1 15 Options: searchFilter args search_filter=<notprovided>.
05-12 13:33:09.476916  1 10 Options: Updating version from notprovided to versionC47065.
05-12 13:33:09.476928  1 11 Options: Updating entity from notprovided to ENTITY-testLoadStore.
05-12 13:33:09.476983  1 16 load_configuration: begin
05-12 13:33:09.477475  1 16 load_configuration: search_payload=<{"filter":{
"version" : "versionC47065",
"configurable_entity.name" : "ENTITY-testLoadStore"
}, "collection":"testLoadStore"}>
05-12 13:33:09.478692  1  3 StorageProvider::MongoDB::load() begin
05-12 13:33:09.478717  1  3 StorageProvider::MongoDB::load() args search=<{"filter":{
"version" : "versionC47065",
"configurable_entity.name" : "ENTITY-testLoadStore"
}, "collection":"testLoadStore"}>
05-12 13:33:09.479514  1  3 StorageProvider::MongoDB::load() user provided filter=<{
    "version" : "versionC47065", 
    "configurable_entity.name" : "ENTITY-testLoadStore"
}>
05-12 13:33:09.479592  1  2 search filter=<{
    "version" : "versionC47065", 
    "configurable_entity.name" : "ENTITY-testLoadStore"
}>
05-12 13:33:09.482561  1  3 found_count=1
05-12 13:33:09.489532  1 15 load_configuration: end
Parsed options:
{
"filter" : {
"version" : "versionC47065",
"configurable_entity.name" : "ENTITY-testLoadStore"
},
"dbprovider" : "mongo",
"operation" : "load",
"collection" : "testLoadStore",
"dataformat" : "json"
}
Running test:<load>
returned:
{
"daq" : {
"event_builder" : {
"expected_fragments_per_event" : 2,
"first_fragment_receiver_rank" : 0,
"fragment_receiver_count" : 2,
"mpi_buffer_count" : 16,
"print_event_store_stats" : true,
"use_art" : true,
"verbose" : false
}
}
}
<end of output>
Test time =   0.09 sec
----------------------------------------------------------
Test Passed.
"LoadStore_load_mongo_013_t" end time: May 12 13:33 CDT
"LoadStore_load_mongo_013_t" time elapsed: 00:00:00
----------------------------------------------------------

13/16 Testing: LoadStore_store_filesystem_012_t
13/16 Test: LoadStore_store_filesystem_012_t
Command: "/home/lukhanin/scratch/current/artdaq-demo-base/products/cetbuildtools/v4_18_02/bin/cet_exec_test" "--wd" "/home/lukhanin/scratch/current/artdaq-demo-base/build_artdaq-utilities-database/test/ConfigurationDB/LoadStore/test012/LoadStore_store_filesystem_012_t.d" "--required-files" "" "--datafiles" "/home/lukhanin/scratch/current/artdaq-demo-base/build_artdaq-utilities-database/test/ConfigurationDB/LoadStore/test012/test011.src.118.fcl;/home/lukhanin/scratch/current/artdaq-demo-base/build_artdaq-utilities-database/test/ConfigurationDB/LoadStore/test012/test011.cmp.118.fcl;/home/lukhanin/scratch/current/artdaq-demo-base/build_artdaq-utilities-database/test/ConfigurationDB/LoadStore/test012/test011.flt.118.json" "--skip-return-code" "247" "LoadStore_t" "--searchquery=test011.flt.118.json" "-s" "test011.src.118.fcl" "-r" "test011.cmp.118.fcl"
Directory: /home/lukhanin/scratch/current/artdaq-demo-base/build_artdaq-utilities-database/test/ConfigurationDB/LoadStore/test012/LoadStore_store_filesystem_012_t.d
"LoadStore_store_filesystem_012_t" start time: May 12 13:33 CDT
Output:
----------------------------------------------------------
removed ‘test011.cmp.507.fcl’
removed ‘test011.flt.507.json’
removed ‘test011.src.507.fcl’
05-12 13:33:09.542045  1  0 artdaq::database::filesystem trace_enable
05-12 13:33:09.542215  1  0 artdaq::database::filesystem::index trace_enable
05-12 13:33:09.542281  1  0 artdaq::database::mongo trace_enable
05-12 13:33:09.542357  1  0 artdaq::database::configuration::LoadStoreOperation trace_enable
05-12 13:33:09.542410  1  0 artdaq::database::configuration::options::OperationBase trace_enable
05-12 13:33:09.542450  1  0 artdaq::database::configuration::options::OperationLoadStore trace_enable
05-12 13:33:09.542480  1  0 artdaq::database::configuration::LoadStoreOperationDetail trace_enable
05-12 13:33:09.544627  1 14 Options: json query= <{
    "filter":{"version":"versionD47065", "configurable_entity.name":"ENTITY-testLoadStore"},
    "collection":"testLoadStore",
    "dbprovider":"filesystem",
    "operation":"store",
    "dataformat":"fhicl"
}
>
05-12 13:33:09.548295  1 12 Options: Updating provider from filesystem to filesystem.
05-12 13:33:09.548317  1 10 Options: Updating operation from load to store.
05-12 13:33:09.548330  1 14 Options: dataFormat args format=<fhicl>.
05-12 13:33:09.548348  1 11 Options: Updating collection_name from notprovided to testLoadStore.
05-12 13:33:09.552229  1 15 Options: searchFilter args search_filter=<{
"version" : "versionD47065",
"configurable_entity.name" : "ENTITY-testLoadStore"
}>.
05-12 13:33:09.552737  1 15 Options: searchFilter args search_filter=<notprovided>.
05-12 13:33:09.552759  1 10 Options: Updating version from notprovided to versionD47065.
05-12 13:33:09.552775  1 11 Options: Updating entity from notprovided to ENTITY-testLoadStore.
05-12 13:33:09.555209  1 12 Options: Updating provider from filesystem to filesystem.
05-12 13:33:09.555226  1 10 Options: Updating operation from load to store.
05-12 13:33:09.555238  1 14 Options: dataFormat args format=<fhicl>.
05-12 13:33:09.555253  1 11 Options: Updating collection_name from notprovided to testLoadStore.
05-12 13:33:09.555407  1 15 Options: searchFilter args search_filter=<{
"version" : "versionD47065",
"configurable_entity.name" : "ENTITY-testLoadStore"
}>.
05-12 13:33:09.555715  1 15 Options: searchFilter args search_filter=<notprovided>.
05-12 13:33:09.555728  1 10 Options: Updating version from notprovided to versionD47065.
05-12 13:33:09.555739  1 11 Options: Updating entity from notprovided to ENTITY-testLoadStore.
05-12 13:33:09.555778  1 15 store_configuration: begin
05-12 13:33:09.699337  1 17 store_configuration: Converted json data to fcl; json=<{
"document" : {
"data" : {
"prolog" : {

},
"main" : {
"services" : {
"scheduler" : {
"fileMode" : "NOMERGE"
},
"NetMonTransportServiceInterface" : {
"service_provider" : "NetMonTransportService",
"max_fragment_size_words" : 2097152
}
},
"daq" : {
"max_fragment_size_words" : 2097152,
"aggregator" : {
"mpi_buffer_count" : 8,
"first_event_builder_rank" : 2,
"event_builder_count" : 2,
"expected_events_per_bunch" : 1,
"print_event_store_stats" : true,
"event_queue_depth" : 20,
"event_queue_wait_time" : 5,
"onmon_event_prescale" : 1,
"xmlrpc_client_list" : ";http://topol.fnal.gov:5205/RPC2,3;http://topol.fnal.gov:5206/RPC2,3;http://topol.fnal.gov:5235/RPC2,4;http://topol.fnal.gov:5236/RPC2,4;http://topol.fnal.gov:5265/RPC2,5;http://topol.fnal.gov:5266/RPC2,5",
"file_size_MB" : 8000,
"file_duration" : 0,
"file_event_count" : 0
},
"metrics" : {
"aggFile" : {
"metricPluginType" : "file",
"level" : 3,
"fileName" : "/tmp/aggregator/agg_%UID%_metrics.log",
"uniquify" : true
}
}
},
"source" : {
"module_type" : "NetMonInput"
},
"outputs" : {
"normalOutputMod2" : {
"module_type" : "RootOutput",
"fileName" : "/tmp/artdaqdemo_r%06r_sr%02s_%to_mod2.root",
"SelectEvents" : {
"SelectEvents" : [
"pmod2"
]
},
"compressionLevel" : 0
},
"normalOutputMod3" : {
"module_type" : "RootOutput",
"fileName" : "/tmp/artdaqdemo_r%06r_sr%02s_%to_mod3.root",
"SelectEvents" : {
"SelectEvents" : [
"pmod3"
]
},
"compressionLevel" : 0
}
},
"physics" : {
"analyzers" : {

},
"producers" : {
"BuildInfo" : {
"module_type" : "ArtdaqDemoBuildInfo",
"instance_name" : "ArtdaqDemo"
}
},
"filters" : {
"prescaleMod2" : {
"module_type" : "NthEvent",
"nth" : 2
},
"prescaleMod3" : {
"module_type" : "NthEvent",
"nth" : 3
}
},
"p1" : [

],
"p2" : [
"BuildInfo"
],
"pmod2" : [
"prescaleMod2"
],
"pmod3" : [
"prescaleMod3"
],
"my_output_modules" : [
"normalOutputMod2",
"normalOutputMod3"
]
},
"process_name" : "DAQAG"
}
},
"metadata" : {
"prolog" : {

},
"main" : {
"services" : {
"type" : "table",
"comment" : " ",
"children" : {
"scheduler" : {
"type" : "table",
"comment" : " ",
"children" : {
"fileMode" : {
"type" : "string",
"comment" : " ",
"annotation" : " "
}
}
},
"NetMonTransportServiceInterface" : {
"type" : "table",
"comment" : " ",
"children" : {
"service_provider" : {
"type" : "string",
"comment" : " ",
"annotation" : " "
},
"max_fragment_size_words" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
}
}
}
}
},
"daq" : {
"type" : "table",
"comment" : " ",
"children" : {
"max_fragment_size_words" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"aggregator" : {
"type" : "table",
"comment" : " ",
"children" : {
"mpi_buffer_count" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"first_event_builder_rank" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"event_builder_count" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"expected_events_per_bunch" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"print_event_store_stats" : {
"type" : "bool",
"comment" : " ",
"annotation" : " "
},
"event_queue_depth" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"event_queue_wait_time" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"onmon_event_prescale" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"xmlrpc_client_list" : {
"type" : "string",
"comment" : " ",
"annotation" : " "
},
"file_size_MB" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"file_duration" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"file_event_count" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
}
}
},
"metrics" : {
"type" : "table",
"comment" : " ",
"children" : {
"aggFile" : {
"type" : "table",
"comment" : " ",
"children" : {
"metricPluginType" : {
"type" : "string",
"comment" : " ",
"annotation" : " "
},
"level" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"fileName" : {
"type" : "string",
"comment" : " ",
"annotation" : " "
},
"uniquify" : {
"type" : "
05-12 13:33:09.699399  1 17 store_configuration: Converted json data to fcl; fcl=< 
services: {
 
scheduler: {
 
fileMode: NOMERGE  

} 
NetMonTransportServiceInterface: {
 
service_provider: NetMonTransportService  
 
max_fragment_size_words: 2097152  

}
} 
daq: {
 
max_fragment_size_words: 2097152  
 
aggregator: {
 
mpi_buffer_count: 8  
 
first_event_builder_rank: 2  
 
event_builder_count: 2  
 
expected_events_per_bunch: 1  
 
print_event_store_stats: true  
 
event_queue_depth: 20  
 
event_queue_wait_time: 5  
 
onmon_event_prescale: 1  
 
xmlrpc_client_list: ";http://topol.fnal.gov:5205/RPC2,3;http://topol.fnal.gov:5206/RPC2,3;http://topol.fnal.gov:5235/RPC2,4;http://topol.fnal.gov:5236/RPC2,4;http://topol.fnal.gov:5265/RPC2,5;http://topol.fnal.gov:5266/RPC2,5"  
 
file_size_MB: 8000  
 
file_duration: 0  
 
file_event_count: 0  

} 
metrics: {
 
aggFile: {
 
metricPluginType: file  
 
level: 3  
 
fileName: "/tmp/aggregator/agg_%UID%_metrics.log"  
 
uniquify: true  

}
}
} 
source: {
 
module_type: NetMonInput  

} 
outputs: {
 
normalOutputMod2: {
 
module_type: RootOutput  
 
fileName: "/tmp/artdaqdemo_r%06r_sr%02s_%to_mod2.root"  
 
SelectEvents: {
 
SelectEvents: [pmod2]  

} 
compressionLevel: 0  

} 
normalOutputMod3: {
 
module_type: RootOutput  
 
fileName: "/tmp/artdaqdemo_r%06r_sr%02s_%to_mod3.root"  
 
SelectEvents: {
 
SelectEvents: [pmod3]  

} 
compressionLevel: 0  

}
} 
physics: {
 
analyzers: {

} 
producers: {
 
BuildInfo: {
 
module_type: ArtdaqDemoBuildInfo  
 
instance_name: ArtdaqDemo  

}
} 
filters: {
 
prescaleMod2: {
 
module_type: NthEvent  
 
nth: 2  

} 
prescaleMod3: {
 
module_type: NthEvent  
 
nth: 3  

}
} 
p1: []  
 
p2: [BuildInfo]  
 
pmod2: [prescaleMod2]  
 
pmod3: [prescaleMod3]  
#my_output_modules: [ normalOutput ]
my_output_modules: [normalOutputMod2, normalOutputMod3]  

} 
process_name: DAQAG  
>
05-12 13:33:09.699434  1 15 store_configuration: json_buffer=<{
"document" : {
"data" : {
"prolog" : {

},
"main" : {
"services" : {
"scheduler" : {
"fileMode" : "NOMERGE"
},
"NetMonTransportServiceInterface" : {
"service_provider" : "NetMonTransportService",
"max_fragment_size_words" : 2097152
}
},
"daq" : {
"max_fragment_size_words" : 2097152,
"aggregator" : {
"mpi_buffer_count" : 8,
"first_event_builder_rank" : 2,
"event_builder_count" : 2,
"expected_events_per_bunch" : 1,
"print_event_store_stats" : true,
"event_queue_depth" : 20,
"event_queue_wait_time" : 5,
"onmon_event_prescale" : 1,
"xmlrpc_client_list" : ";http://topol.fnal.gov:5205/RPC2,3;http://topol.fnal.gov:5206/RPC2,3;http://topol.fnal.gov:5235/RPC2,4;http://topol.fnal.gov:5236/RPC2,4;http://topol.fnal.gov:5265/RPC2,5;http://topol.fnal.gov:5266/RPC2,5",
"file_size_MB" : 8000,
"file_duration" : 0,
"file_event_count" : 0
},
"metrics" : {
"aggFile" : {
"metricPluginType" : "file",
"level" : 3,
"fileName" : "/tmp/aggregator/agg_%UID%_metrics.log",
"uniquify" : true
}
}
},
"source" : {
"module_type" : "NetMonInput"
},
"outputs" : {
"normalOutputMod2" : {
"module_type" : "RootOutput",
"fileName" : "/tmp/artdaqdemo_r%06r_sr%02s_%to_mod2.root",
"SelectEvents" : {
"SelectEvents" : [
"pmod2"
]
},
"compressionLevel" : 0
},
"normalOutputMod3" : {
"module_type" : "RootOutput",
"fileName" : "/tmp/artdaqdemo_r%06r_sr%02s_%to_mod3.root",
"SelectEvents" : {
"SelectEvents" : [
"pmod3"
]
},
"compressionLevel" : 0
}
},
"physics" : {
"analyzers" : {

},
"producers" : {
"BuildInfo" : {
"module_type" : "ArtdaqDemoBuildInfo",
"instance_name" : "ArtdaqDemo"
}
},
"filters" : {
"prescaleMod2" : {
"module_type" : "NthEvent",
"nth" : 2
},
"prescaleMod3" : {
"module_type" : "NthEvent",
"nth" : 3
}
},
"p1" : [

],
"p2" : [
"BuildInfo"
],
"pmod2" : [
"prescaleMod2"
],
"pmod3" : [
"prescaleMod3"
],
"my_output_modules" : [
"normalOutputMod2",
"normalOutputMod3"
]
},
"process_name" : "DAQAG"
}
},
"metadata" : {
"prolog" : {

},
"main" : {
"services" : {
"type" : "table",
"comment" : " ",
"children" : {
"scheduler" : {
"type" : "table",
"comment" : " ",
"children" : {
"fileMode" : {
"type" : "string",
"comment" : " ",
"annotation" : " "
}
}
},
"NetMonTransportServiceInterface" : {
"type" : "table",
"comment" : " ",
"children" : {
"service_provider" : {
"type" : "string",
"comment" : " ",
"annotation" : " "
},
"max_fragment_size_words" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
}
}
}
}
},
"daq" : {
"type" : "table",
"comment" : " ",
"children" : {
"max_fragment_size_words" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"aggregator" : {
"type" : "table",
"comment" : " ",
"children" : {
"mpi_buffer_count" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"first_event_builder_rank" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"event_builder_count" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"expected_events_per_bunch" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"print_event_store_stats" : {
"type" : "bool",
"comment" : " ",
"annotation" : " "
},
"event_queue_depth" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"event_queue_wait_time" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"onmon_event_prescale" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"xmlrpc_client_list" : {
"type" : "string",
"comment" : " ",
"annotation" : " "
},
"file_size_MB" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"file_duration" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"file_event_count" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
}
}
},
"metrics" : {
"type" : "table",
"comment" : " ",
"children" : {
"aggFile" : {
"type" : "table",
"comment" : " ",
"children" : {
"metricPluginType" : {
"type" : "string",
"comment" : " ",
"annotation" : " "
},
"level" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"fileName" : {
"type" : "string",
"comment" : " ",
"annotation" : " "
},
"uniquify" : {
"type" : "bool",
"comment" : " 
05-12 13:33:09.715554  1 15 store_configuration: insert_payload=<{"document":{
    "document" : {
        "data" : {
            "prolog" : {

            }, 
            "main" : {
                "services" : {
                    "scheduler" : {
                        "fileMode" : "NOMERGE"
                    }, 
                    "NetMonTransportServiceInterface" : {
                        "service_provider" : "NetMonTransportService", 
                        "max_fragment_size_words" : 2097152
                    }
                }, 
                "daq" : {
                    "max_fragment_size_words" : 2097152, 
                    "aggregator" : {
                        "mpi_buffer_count" : 8, 
                        "first_event_builder_rank" : 2, 
                        "event_builder_count" : 2, 
                        "expected_events_per_bunch" : 1, 
                        "print_event_store_stats" : true, 
                        "event_queue_depth" : 20, 
                        "event_queue_wait_time" : 5, 
                        "onmon_event_prescale" : 1, 
                        "xmlrpc_client_list" : ";http://topol.fnal.gov:5205/RPC2,3;http://topol.fnal.gov:5206/RPC2,3;http://topol.fnal.gov:5235/RPC2,4;http://topol.fnal.gov:5236/RPC2,4;http://topol.fnal.gov:5265/RPC2,5;http://topol.fnal.gov:5266/RPC2,5", 
                        "file_size_MB" : 8000, 
                        "file_duration" : 0, 
                        "file_event_count" : 0
                    }, 
                    "metrics" : {
                        "aggFile" : {
                            "metricPluginType" : "file", 
                            "level" : 3, 
                            "fileName" : "/tmp/aggregator/agg_%UID%_metrics.log", 
                            "uniquify" : true
                        }
                    }
                }, 
                "source" : {
                    "module_type" : "NetMonInput"
                }, 
                "outputs" : {
                    "normalOutputMod2" : {
                        "module_type" : "RootOutput", 
                        "fileName" : "/tmp/artdaqdemo_r%06r_sr%02s_%to_mod2.root", 
                        "SelectEvents" : {
                            "SelectEvents" : [
                                "pmod2"
                            ]
                        }, 
                        "compressionLevel" : 0
                    }, 
                    "normalOutputMod3" : {
                        "module_type" : "RootOutput", 
                        "fileName" : "/tmp/artdaqdemo_r%06r_sr%02s_%to_mod3.root", 
                        "SelectEvents" : {
                            "SelectEvents" : [
                                "pmod3"
                            ]
                        }, 
                        "compressionLevel" : 0
                    }
                }, 
                "physics" : {
                    "analyzers" : {

                    }, 
                    "producers" : {
                        "BuildInfo" : {
                            "module_type" : "ArtdaqDemoBuildInfo", 
                            "instance_name" : "ArtdaqDemo"
                        }
                    }, 
                    "filters" : {
                        "prescaleMod2" : {
                            "module_type" : "NthEvent", 
                            "nth" : 2
                        }, 
                        "prescaleMod3" : {
                            "module_type" : "NthEvent", 
                            "nth" : 3
                        }
                    }, 
                    "p1" : [

                    ], 
                    "p2" : [
                        "BuildInfo"
                    ], 
                    "pmod2" : [
                        "prescaleMod2"
                    ], 
                    "pmod3" : [
                        "prescaleMod3"
                    ], 
                    "my_output_modules" : [
                        "normalOutputMod2", 
                
05-12 13:33:09.715913  1  4 StorageProvider::FileSystemDB::store() begin
05-12 13:33:09.716016  1  4 StorageProvider::FileSystemDB::store() args data=<{"document":{
    "document" : {
        "data" : {
            "prolog" : {

            }, 
            "main" : {
                "services" : {
                    "scheduler" : {
                        "fileMode" : "NOMERGE"
                    }, 
                    "NetMonTransportServiceInterface" : {
                        "service_provider" : "NetMonTransportService", 
                        "max_fragment_size_words" : 2097152
                    }
                }, 
                "daq" : {
                    "max_fragment_size_words" : 2097152, 
                    "aggregator" : {
                        "mpi_buffer_count" : 8, 
                        "first_event_builder_rank" : 2, 
                        "event_builder_count" : 2, 
                        "expected_events_per_bunch" : 1, 
                        "print_event_store_stats" : true, 
                        "event_queue_depth" : 20, 
                        "event_queue_wait_time" : 5, 
                        "onmon_event_prescale" : 1, 
                        "xmlrpc_client_list" : ";http://topol.fnal.gov:5205/RPC2,3;http://topol.fnal.gov:5206/RPC2,3;http://topol.fnal.gov:5235/RPC2,4;http://topol.fnal.gov:5236/RPC2,4;http://topol.fnal.gov:5265/RPC2,5;http://topol.fnal.gov:5266/RPC2,5", 
                        "file_size_MB" : 8000, 
                        "file_duration" : 0, 
                        "file_event_count" : 0
                    }, 
                    "metrics" : {
                        "aggFile" : {
                            "metricPluginType" : "file", 
                            "level" : 3, 
                            "fileName" : "/tmp/aggregator/agg_%UID%_metrics.log", 
                            "uniquify" : true
                        }
                    }
                }, 
                "source" : {
                    "module_type" : "NetMonInput"
                }, 
                "outputs" : {
                    "normalOutputMod2" : {
                        "module_type" : "RootOutput", 
                        "fileName" : "/tmp/artdaqdemo_r%06r_sr%02s_%to_mod2.root", 
                        "SelectEvents" : {
                            "SelectEvents" : [
                                "pmod2"
                            ]
                        }, 
                        "compressionLevel" : 0
                    }, 
                    "normalOutputMod3" : {
                        "module_type" : "RootOutput", 
                        "fileName" : "/tmp/artdaqdemo_r%06r_sr%02s_%to_mod3.root", 
                        "SelectEvents" : {
                            "SelectEvents" : [
                                "pmod3"
                            ]
                        }, 
                        "compressionLevel" : 0
                    }
                }, 
                "physics" : {
                    "analyzers" : {

                    }, 
                    "producers" : {
                        "BuildInfo" : {
                            "module_type" : "ArtdaqDemoBuildInfo", 
                            "instance_name" : "ArtdaqDemo"
                        }
                    }, 
                    "filters" : {
                        "prescaleMod2" : {
                            "module_type" : "NthEvent", 
                            "nth" : 2
                        }, 
                        "prescaleMod3" : {
                            "module_type" : "NthEvent", 
                            "nth" : 3
                        }
                    }, 
                    "p1" : [

                    ], 
                    "p2" : [
                        "BuildInfo"
                    ], 
                    "pmod2" : [
                        "prescaleMod2"
                    ], 
                    "pmod3" : [
                        "prescaleMod3"
                    ], 
                    "my_output_modules" : [
                        "normalOutputMod2", 
   
05-12 13:33:09.719794  1 12 StorageProvider::FileSystemDB generate_oid=e6970a8af1ae46cb96f3b04e
05-12 13:33:09.723135  1  4 StorageProvider::FileSystemDB::store() using generated oid=<e6970a8af1ae46cb96f3b04e>.
05-12 13:33:09.723189  1  4 StorageProvider::FileSystemDB::store() collection_path=<file:///home/lukhanin/databases/filesystemdb/testLoadStore/>.
05-12 13:33:09.723237  1 11 StorageProvider::FileSystemDB mkdir dir=</home/lukhanin/databases/filesystemdb/testLoadStore/>
05-12 13:33:09.723290  1 11 StorageProvider::FileSystemDB Directory exists, checking permissions; path=</home/lukhanin/databases/filesystemdb/testLoadStore/>
05-12 13:33:09.723485  1  4 StorageProvider::FileSystemDB::store() filename=</home/lukhanin/databases/filesystemdb/testLoadStore/e6970a8af1ae46cb96f3b04e.json>.
05-12 13:33:09.795366  1  3 StorageProvider::FileSystemDB::index::_open() begin
05-12 13:33:09.795393  1  3 StorageProvider::FileSystemDB::index::_open() args index_path=</home/lukhanin/databases/filesystemdb/testLoadStore/index.json>.
05-12 13:33:09.795599  1  3 StorageProvider::FileSystemDB::index::_open() json=<{
"version" : {
"versionA01749" : [
"94adcd1f5f6748cda59d13f6"
],
"versionB01749" : [
"0e0fcfb7044d4e91bbdf55e4"
],
"versionC01749" : [
"c5db7ef3aeae498db2a59caf"
],
"versionA38249" : [
"290ce4a4e0e74acfba4cf107"
],
"versionB38249" : [
"b9a1eb0a4c5d4ed1a6f3191d"
],
"versionC38249" : [
"462d4002a531489a94659025"
],
"versionA65272" : [
"d869fc26dff64c6fbe132357"
],
"versionB65272" : [
"33ae84a3b7054a61b8097407"
],
"versionC65272" : [
"339f0b2d469742b487dad30a"
],
"versionA51307" : [
"8f0f2deb56fc497e9df95cdc",
"b7cbfe9fa6824b6986f11961"
],
"versionB51307" : [
"37de50d6d24f425f82438214",
"69e4ec12f4004fd78279d7a4"
],
"versionC51307" : [
"1ac8123cca4d41e18ae5469a",
"5d7e5964c8db4094951f6c1a"
],
"versionD51307" : [
"a01e6f4de48b422c93b12d30",
"cbf93bfbb758457987a4ca7b"
],
"versionA47065" : [
"760547e4ab514d93a427723d"
],
"versionB47065" : [
"028bfcd6db994914a8bcd3c0"
],
"versionC47065" : [
"a9d35909c11f4e2088258de0"
]
},
"configurations.name" : {
"notprovided" : [
"028bfcd6db994914a8bcd3c0",
"0e0fcfb7044d4e91bbdf55e4",
"1ac8123cca4d41e18ae5469a",
"290ce4a4e0e74acfba4cf107",
"339f0b2d469742b487dad30a",
"33ae84a3b7054a61b8097407",
"37de50d6d24f425f82438214",
"462d4002a531489a94659025",
"5d7e5964c8db4094951f6c1a",
"69e4ec12f4004fd78279d7a4",
"760547e4ab514d93a427723d",
"8f0f2deb56fc497e9df95cdc",
"94adcd1f5f6748cda59d13f6",
"a01e6f4de48b422c93b12d30",
"a9d35909c11f4e2088258de0",
"b7cbfe9fa6824b6986f11961",
"b9a1eb0a4c5d4ed1a6f3191d",
"c5db7ef3aeae498db2a59caf",
"cbf93bfbb758457987a4ca7b",
"d869fc26dff64c6fbe132357"
]
},
"configurable_entity.name" : {
"notprovided" : [
"028bfcd6db994914a8bcd3c0",
"290ce4a4e0e74acfba4cf107",
"33ae84a3b7054a61b8097407",
"37de50d6d24f425f82438214",
"69e4ec12f4004fd78279d7a4",
"760547e4ab514d93a427723d",
"8f0f2deb56fc497e9df95cdc",
"b7cbfe9fa6824b6986f11961",
"b9a1eb0a4c5d4ed1a6f3191d",
"d869fc26dff64c6fbe132357"
],
"ENTITY-testLoadStore" : [
"1ac8123cca4d41e18ae5469a",
"339f0b2d469742b487dad30a",
"462d4002a531489a94659025",
"5d7e5964c8db4094951f6c1a",
"a01e6f4de48b422c93b12d30",
"a9d35909c11f4e2088258de0",
"cbf93bfbb758457987a4ca7b"
]
}
}>
05-12 13:33:09.797922  1  5 StorageProvider::FileSystemDB::index::addDocument() begin
05-12 13:33:09.798013  1  5 StorageProvider::FileSystemDB::index::addDocument() args document=<{
        "document" : {
            "data" : {
                "prolog" : {

                }, 
                "main" : {
                    "services" : {
                        "scheduler" : {
                            "fileMode" : "NOMERGE"
                        }, 
                        "NetMonTransportServiceInterface" : {
                            "service_provider" : "NetMonTransportService", 
                            "max_fragment_size_words" : 2097152
                        }
                    }, 
                    "daq" : {
                        "max_fragment_size_words" : 2097152, 
                        "aggregator" : {
                            "mpi_buffer_count" : 8, 
                            "first_event_builder_rank" : 2, 
                            "event_builder_count" : 2, 
                            "expected_events_per_bunch" : 1, 
                            "print_event_store_stats" : true, 
                            "event_queue_depth" : 20, 
                            "event_queue_wait_time" : 5, 
                            "onmon_event_prescale" : 1, 
                            "xmlrpc_client_list" : ";http://topol.fnal.gov:5205/RPC2,3;http://topol.fnal.gov:5206/RPC2,3;http://topol.fnal.gov:5235/RPC2,4;http://topol.fnal.gov:5236/RPC2,4;http://topol.fnal.gov:5265/RPC2,5;http://topol.fnal.gov:5266/RPC2,5", 
                            "file_size_MB" : 8000, 
                            "file_duration" : 0, 
                            "file_event_count" : 0
                        }, 
                        "metrics" : {
                            "aggFile" : {
                                "metricPluginType" : "file", 
                                "level" : 3, 
                                "fileName" : "/tmp/aggregator/agg_%UID%_metrics.log", 
                                "uniquify" : true
                            }
                        }
                    }, 
                    "source" : {
                        "module_type" : "NetMonInput"
                    }, 
                    "outputs" : {
                        "normalOutputMod2" : {
                            "module_type" : "RootOutput", 
                            "fileName" : "/tmp/artdaqdemo_r%06r_sr%02s_%to_mod2.root", 
                            "SelectEvents" : {
                                "SelectEvents" : [
                                    "pmod2"
                                ]
                            }, 
                            "compressionLevel" : 0
                        }, 
                        "normalOutputMod3" : {
                            "module_type" : "RootOutput", 
                            "fileName" : "/tmp/artdaqdemo_r%06r_sr%02s_%to_mod3.root", 
                            "SelectEvents" : {
                                "SelectEvents" : [
                                    "pmod3"
                                ]
                            }, 
                            "compressionLevel" : 0
                        }
                    }, 
                    "physics" : {
                        "analyzers" : {

                        }, 
                        "producers" : {
                            "BuildInfo" : {
                                "module_type" : "ArtdaqDemoBuildInfo", 
                                "instance_name" : "ArtdaqDemo"
                            }
                        }, 
                        "filters" : {
                            "prescaleMod2" : {
                                "module_type" : "NthEvent", 
                                "nth" : 2
                            }, 
                            "prescaleMod3" : {
                                "module_type" : "NthEvent", 
                                "nth" : 3
                            }
                        }, 
                        "p1" : [

                        ], 
                        "p
05-12 13:33:09.798106  1  5 StorageProvider::FileSystemDB::index::addDocument() args ouid=<e6970a8af1ae46cb96f3b04e>.
05-12 13:33:09.811726  1  5 StorageProvider::FileSystemDB::index::addDocument() found 9 keys.
05-12 13:33:09.811751  1  7 StorageProvider::FileSystemDB::index::_addVersion() begin
05-12 13:33:09.811757  1  7 StorageProvider::FileSystemDB::index::_addVersion() args ouid=<e6970a8af1ae46cb96f3b04e>.
05-12 13:33:09.811766  1  7 StorageProvider::FileSystemDB::index::_addVersion() args version=<versionD47065>.
05-12 13:33:09.811934  1  7 StorageProvider::FileSystemDB::index::_addConfiguration() begin
05-12 13:33:09.811943  1  7 StorageProvider::FileSystemDB::index::_addConfiguration() args ouid=<e6970a8af1ae46cb96f3b04e>.
05-12 13:33:09.811949  1  7 StorageProvider::FileSystemDB::index::_addConfiguration() args configuration=<notprovided>.
05-12 13:33:09.812037  1  7 StorageProvider::FileSystemDB::index::_addConfigurableEntity() begin
05-12 13:33:09.812049  1  7 StorageProvider::FileSystemDB::index::_addConfigurableEntity() args ouid=<e6970a8af1ae46cb96f3b04e>.
05-12 13:33:09.812055  1  7 StorageProvider::FileSystemDB::index::_addConfigurableEntity() args entity=<ENTITY-testLoadStore>.
05-12 13:33:09.812297  1  4 StorageProvider::FileSystemDB::index::_close() begin
05-12 13:33:09.814623  1  4 StorageProvider::FileSystemDB::index::_close() json=<{
"version" : {
"versionA01749" : [
"94adcd1f5f6748cda59d13f6"
],
"versionB01749" : [
"0e0fcfb7044d4e91bbdf55e4"
],
"versionC01749" : [
"c5db7ef3aeae498db2a59caf"
],
"versionA38249" : [
"290ce4a4e0e74acfba4cf107"
],
"versionB38249" : [
"b9a1eb0a4c5d4ed1a6f3191d"
],
"versionC38249" : [
"462d4002a531489a94659025"
],
"versionA65272" : [
"d869fc26dff64c6fbe132357"
],
"versionB65272" : [
"33ae84a3b7054a61b8097407"
],
"versionC65272" : [
"339f0b2d469742b487dad30a"
],
"versionA51307" : [
"8f0f2deb56fc497e9df95cdc",
"b7cbfe9fa6824b6986f11961"
],
"versionB51307" : [
"37de50d6d24f425f82438214",
"69e4ec12f4004fd78279d7a4"
],
"versionC51307" : [
"1ac8123cca4d41e18ae5469a",
"5d7e5964c8db4094951f6c1a"
],
"versionD51307" : [
"a01e6f4de48b422c93b12d30",
"cbf93bfbb758457987a4ca7b"
],
"versionA47065" : [
"760547e4ab514d93a427723d"
],
"versionB47065" : [
"028bfcd6db994914a8bcd3c0"
],
"versionC47065" : [
"a9d35909c11f4e2088258de0"
],
"versionD47065" : [
"e6970a8af1ae46cb96f3b04e"
]
},
"configurations.name" : {
"notprovided" : [
"028bfcd6db994914a8bcd3c0",
"0e0fcfb7044d4e91bbdf55e4",
"1ac8123cca4d41e18ae5469a",
"290ce4a4e0e74acfba4cf107",
"339f0b2d469742b487dad30a",
"33ae84a3b7054a61b8097407",
"37de50d6d24f425f82438214",
"462d4002a531489a94659025",
"5d7e5964c8db4094951f6c1a",
"69e4ec12f4004fd78279d7a4",
"760547e4ab514d93a427723d",
"8f0f2deb56fc497e9df95cdc",
"94adcd1f5f6748cda59d13f6",
"a01e6f4de48b422c93b12d30",
"a9d35909c11f4e2088258de0",
"b7cbfe9fa6824b6986f11961",
"b9a1eb0a4c5d4ed1a6f3191d",
"c5db7ef3aeae498db2a59caf",
"cbf93bfbb758457987a4ca7b",
"d869fc26dff64c6fbe132357",
"e6970a8af1ae46cb96f3b04e"
]
},
"configurable_entity.name" : {
"notprovided" : [
"028bfcd6db994914a8bcd3c0",
"290ce4a4e0e74acfba4cf107",
"33ae84a3b7054a61b8097407",
"37de50d6d24f425f82438214",
"69e4ec12f4004fd78279d7a4",
"760547e4ab514d93a427723d",
"8f0f2deb56fc497e9df95cdc",
"b7cbfe9fa6824b6986f11961",
"b9a1eb0a4c5d4ed1a6f3191d",
"d869fc26dff64c6fbe132357"
],
"ENTITY-testLoadStore" : [
"1ac8123cca4d41e18ae5469a",
"339f0b2d469742b487dad30a",
"462d4002a531489a94659025",
"5d7e5964c8db4094951f6c1a",
"a01e6f4de48b422c93b12d30",
"a9d35909c11f4e2088258de0",
"cbf93bfbb758457987a4ca7b",
"e6970a8af1ae46cb96f3b04e"
]
}
}>
05-12 13:33:09.814807  1  4 StorageProvider::FileSystemDB::index::_close() Closed SearchIndex.
05-12 13:33:09.814950  1 15 store_configuration: end
Parsed options:
{
"filter" : {
"version" : "versionD47065",
"configurable_entity.name" : "ENTITY-testLoadStore"
},
"dbprovider" : "filesystem",
"operation" : "store",
"collection" : "testLoadStore",
"dataformat" : "fhicl"
}
Running test:<store>
returned:
 
services: {
 
scheduler: {
 
fileMode: NOMERGE  

} 
NetMonTransportServiceInterface: {
 
service_provider: NetMonTransportService  
 
max_fragment_size_words: 2097152  

}
} 
daq: {
 
max_fragment_size_words: 2097152  
 
aggregator: {
 
mpi_buffer_count: 8  
 
first_event_builder_rank: 2  
 
event_builder_count: 2  
 
expected_events_per_bunch: 1  
 
print_event_store_stats: true  
 
event_queue_depth: 20  
 
event_queue_wait_time: 5  
 
onmon_event_prescale: 1  
 
xmlrpc_client_list: ";http://topol.fnal.gov:5205/RPC2,3;http://topol.fnal.gov:5206/RPC2,3;http://topol.fnal.gov:5235/RPC2,4;http://topol.fnal.gov:5236/RPC2,4;http://topol.fnal.gov:5265/RPC2,5;http://topol.fnal.gov:5266/RPC2,5"  
 
file_size_MB: 8000  
 
file_duration: 0  
 
file_event_count: 0  

} 
metrics: {
 
aggFile: {
 
metricPluginType: file  
 
level: 3  
 
fileName: "/tmp/aggregator/agg_%UID%_metrics.log"  
 
uniquify: true  

}
}
} 
source: {
 
module_type: NetMonInput  

} 
outputs: {
 
normalOutputMod2: {
 
module_type: RootOutput  
 
fileName: "/tmp/artdaqdemo_r%06r_sr%02s_%to_mod2.root"  
 
SelectEvents: {
 
SelectEvents: [pmod2]  

} 
compressionLevel: 0  

} 
normalOutputMod3: {
 
module_type: RootOutput  
 
fileName: "/tmp/artdaqdemo_r%06r_sr%02s_%to_mod3.root"  
 
SelectEvents: {
 
SelectEvents: [pmod3]  

} 
compressionLevel: 0  

}
} 
physics: {
 
analyzers: {

} 
producers: {
 
BuildInfo: {
 
module_type: ArtdaqDemoBuildInfo  
 
instance_name: ArtdaqDemo  

}
} 
filters: {
 
prescaleMod2: {
 
module_type: NthEvent  
 
nth: 2  

} 
prescaleMod3: {
 
module_type: NthEvent  
 
nth: 3  

}
} 
p1: []  
 
p2: [BuildInfo]  
 
pmod2: [prescaleMod2]  
 
pmod3: [prescaleMod3]  
#my_output_modules: [ normalOutput ]
my_output_modules: [normalOutputMod2, normalOutputMod3]  

} 
process_name: DAQAG  

<end of output>
Test time =   0.33 sec
----------------------------------------------------------
Test Passed.
"LoadStore_store_filesystem_012_t" end time: May 12 13:33 CDT
"LoadStore_store_filesystem_012_t" time elapsed: 00:00:00
----------------------------------------------------------

14/16 Testing: LoadStore_store_mongo_012_t
14/16 Test: LoadStore_store_mongo_012_t
Command: "/home/lukhanin/scratch/current/artdaq-demo-base/products/cetbuildtools/v4_18_02/bin/cet_exec_test" "--wd" "/home/lukhanin/scratch/current/artdaq-demo-base/build_artdaq-utilities-database/test/ConfigurationDB/LoadStore/test012/LoadStore_store_mongo_012_t.d" "--required-files" "" "--datafiles" "/home/lukhanin/scratch/current/artdaq-demo-base/build_artdaq-utilities-database/test/ConfigurationDB/LoadStore/test012/test011.src.426.fcl;/home/lukhanin/scratch/current/artdaq-demo-base/build_artdaq-utilities-database/test/ConfigurationDB/LoadStore/test012/test011.cmp.426.fcl;/home/lukhanin/scratch/current/artdaq-demo-base/build_artdaq-utilities-database/test/ConfigurationDB/LoadStore/test012/test011.flt.426.json" "--skip-return-code" "247" "LoadStore_t" "--searchquery=test011.flt.426.json" "-s" "test011.src.426.fcl" "-r" "test011.cmp.426.fcl"
Directory: /home/lukhanin/scratch/current/artdaq-demo-base/build_artdaq-utilities-database/test/ConfigurationDB/LoadStore/test012/LoadStore_store_mongo_012_t.d
"LoadStore_store_mongo_012_t" start time: May 12 13:33 CDT
Output:
----------------------------------------------------------
removed ‘test011.cmp.698.fcl’
removed ‘test011.flt.698.json’
removed ‘test011.src.698.fcl’
05-12 13:33:09.875343  1  0 artdaq::database::filesystem trace_enable
05-12 13:33:09.875553  1  0 artdaq::database::filesystem::index trace_enable
05-12 13:33:09.875628  1  0 artdaq::database::mongo trace_enable
05-12 13:33:09.875719  1  0 artdaq::database::configuration::LoadStoreOperation trace_enable
05-12 13:33:09.875777  1  0 artdaq::database::configuration::options::OperationBase trace_enable
05-12 13:33:09.875816  1  0 artdaq::database::configuration::options::OperationLoadStore trace_enable
05-12 13:33:09.875855  1  0 artdaq::database::configuration::LoadStoreOperationDetail trace_enable
05-12 13:33:09.878481  1 14 Options: json query= <{
    "filter":{"version":"versionD47065", "configurable_entity.name":"ENTITY-testLoadStore"},
    "collection":"testLoadStore",
    "dbprovider":"mongo",
    "operation":"store",
    "dataformat":"fhicl"
}
>
05-12 13:33:09.883413  1 12 Options: Updating provider from filesystem to mongo.
05-12 13:33:09.883446  1 10 Options: Updating operation from load to store.
05-12 13:33:09.883463  1 14 Options: dataFormat args format=<fhicl>.
05-12 13:33:09.883486  1 11 Options: Updating collection_name from notprovided to testLoadStore.
05-12 13:33:09.887378  1 15 Options: searchFilter args search_filter=<{
"version" : "versionD47065",
"configurable_entity.name" : "ENTITY-testLoadStore"
}>.
05-12 13:33:09.887887  1 15 Options: searchFilter args search_filter=<notprovided>.
05-12 13:33:09.887915  1 10 Options: Updating version from notprovided to versionD47065.
05-12 13:33:09.887936  1 11 Options: Updating entity from notprovided to ENTITY-testLoadStore.
05-12 13:33:09.890745  1 12 Options: Updating provider from filesystem to mongo.
05-12 13:33:09.890762  1 10 Options: Updating operation from load to store.
05-12 13:33:09.890776  1 14 Options: dataFormat args format=<fhicl>.
05-12 13:33:09.890786  1 11 Options: Updating collection_name from notprovided to testLoadStore.
05-12 13:33:09.890973  1 15 Options: searchFilter args search_filter=<{
"version" : "versionD47065",
"configurable_entity.name" : "ENTITY-testLoadStore"
}>.
05-12 13:33:09.891343  1 15 Options: searchFilter args search_filter=<notprovided>.
05-12 13:33:09.891358  1 10 Options: Updating version from notprovided to versionD47065.
05-12 13:33:09.891376  1 11 Options: Updating entity from notprovided to ENTITY-testLoadStore.
05-12 13:33:09.891433  1 15 store_configuration: begin
05-12 13:33:10.040844  1 17 store_configuration: Converted json data to fcl; json=<{
"document" : {
"data" : {
"prolog" : {

},
"main" : {
"services" : {
"scheduler" : {
"fileMode" : "NOMERGE"
},
"NetMonTransportServiceInterface" : {
"service_provider" : "NetMonTransportService",
"max_fragment_size_words" : 2097152
}
},
"daq" : {
"max_fragment_size_words" : 2097152,
"aggregator" : {
"mpi_buffer_count" : 8,
"first_event_builder_rank" : 2,
"event_builder_count" : 2,
"expected_events_per_bunch" : 1,
"print_event_store_stats" : true,
"event_queue_depth" : 20,
"event_queue_wait_time" : 5,
"onmon_event_prescale" : 1,
"xmlrpc_client_list" : ";http://topol.fnal.gov:5205/RPC2,3;http://topol.fnal.gov:5206/RPC2,3;http://topol.fnal.gov:5235/RPC2,4;http://topol.fnal.gov:5236/RPC2,4;http://topol.fnal.gov:5265/RPC2,5;http://topol.fnal.gov:5266/RPC2,5",
"file_size_MB" : 8000,
"file_duration" : 0,
"file_event_count" : 0
},
"metrics" : {
"aggFile" : {
"metricPluginType" : "file",
"level" : 3,
"fileName" : "/tmp/aggregator/agg_%UID%_metrics.log",
"uniquify" : true
}
}
},
"source" : {
"module_type" : "NetMonInput"
},
"outputs" : {
"normalOutputMod2" : {
"module_type" : "RootOutput",
"fileName" : "/tmp/artdaqdemo_r%06r_sr%02s_%to_mod2.root",
"SelectEvents" : {
"SelectEvents" : [
"pmod2"
]
},
"compressionLevel" : 0
},
"normalOutputMod3" : {
"module_type" : "RootOutput",
"fileName" : "/tmp/artdaqdemo_r%06r_sr%02s_%to_mod3.root",
"SelectEvents" : {
"SelectEvents" : [
"pmod3"
]
},
"compressionLevel" : 0
}
},
"physics" : {
"analyzers" : {

},
"producers" : {
"BuildInfo" : {
"module_type" : "ArtdaqDemoBuildInfo",
"instance_name" : "ArtdaqDemo"
}
},
"filters" : {
"prescaleMod2" : {
"module_type" : "NthEvent",
"nth" : 2
},
"prescaleMod3" : {
"module_type" : "NthEvent",
"nth" : 3
}
},
"p1" : [

],
"p2" : [
"BuildInfo"
],
"pmod2" : [
"prescaleMod2"
],
"pmod3" : [
"prescaleMod3"
],
"my_output_modules" : [
"normalOutputMod2",
"normalOutputMod3"
]
},
"process_name" : "DAQAG"
}
},
"metadata" : {
"prolog" : {

},
"main" : {
"services" : {
"type" : "table",
"comment" : " ",
"children" : {
"scheduler" : {
"type" : "table",
"comment" : " ",
"children" : {
"fileMode" : {
"type" : "string",
"comment" : " ",
"annotation" : " "
}
}
},
"NetMonTransportServiceInterface" : {
"type" : "table",
"comment" : " ",
"children" : {
"service_provider" : {
"type" : "string",
"comment" : " ",
"annotation" : " "
},
"max_fragment_size_words" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
}
}
}
}
},
"daq" : {
"type" : "table",
"comment" : " ",
"children" : {
"max_fragment_size_words" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"aggregator" : {
"type" : "table",
"comment" : " ",
"children" : {
"mpi_buffer_count" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"first_event_builder_rank" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"event_builder_count" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"expected_events_per_bunch" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"print_event_store_stats" : {
"type" : "bool",
"comment" : " ",
"annotation" : " "
},
"event_queue_depth" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"event_queue_wait_time" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"onmon_event_prescale" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"xmlrpc_client_list" : {
"type" : "string",
"comment" : " ",
"annotation" : " "
},
"file_size_MB" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"file_duration" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"file_event_count" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
}
}
},
"metrics" : {
"type" : "table",
"comment" : " ",
"children" : {
"aggFile" : {
"type" : "table",
"comment" : " ",
"children" : {
"metricPluginType" : {
"type" : "string",
"comment" : " ",
"annotation" : " "
},
"level" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"fileName" : {
"type" : "string",
"comment" : " ",
"annotation" : " "
},
"uniquify" : {
"type" : "
05-12 13:33:10.040893  1 17 store_configuration: Converted json data to fcl; fcl=< 
services: {
 
scheduler: {
 
fileMode: NOMERGE  

} 
NetMonTransportServiceInterface: {
 
service_provider: NetMonTransportService  
 
max_fragment_size_words: 2097152  

}
} 
daq: {
 
max_fragment_size_words: 2097152  
 
aggregator: {
 
mpi_buffer_count: 8  
 
first_event_builder_rank: 2  
 
event_builder_count: 2  
 
expected_events_per_bunch: 1  
 
print_event_store_stats: true  
 
event_queue_depth: 20  
 
event_queue_wait_time: 5  
 
onmon_event_prescale: 1  
 
xmlrpc_client_list: ";http://topol.fnal.gov:5205/RPC2,3;http://topol.fnal.gov:5206/RPC2,3;http://topol.fnal.gov:5235/RPC2,4;http://topol.fnal.gov:5236/RPC2,4;http://topol.fnal.gov:5265/RPC2,5;http://topol.fnal.gov:5266/RPC2,5"  
 
file_size_MB: 8000  
 
file_duration: 0  
 
file_event_count: 0  

} 
metrics: {
 
aggFile: {
 
metricPluginType: file  
 
level: 3  
 
fileName: "/tmp/aggregator/agg_%UID%_metrics.log"  
 
uniquify: true  

}
}
} 
source: {
 
module_type: NetMonInput  

} 
outputs: {
 
normalOutputMod2: {
 
module_type: RootOutput  
 
fileName: "/tmp/artdaqdemo_r%06r_sr%02s_%to_mod2.root"  
 
SelectEvents: {
 
SelectEvents: [pmod2]  

} 
compressionLevel: 0  

} 
normalOutputMod3: {
 
module_type: RootOutput  
 
fileName: "/tmp/artdaqdemo_r%06r_sr%02s_%to_mod3.root"  
 
SelectEvents: {
 
SelectEvents: [pmod3]  

} 
compressionLevel: 0  

}
} 
physics: {
 
analyzers: {

} 
producers: {
 
BuildInfo: {
 
module_type: ArtdaqDemoBuildInfo  
 
instance_name: ArtdaqDemo  

}
} 
filters: {
 
prescaleMod2: {
 
module_type: NthEvent  
 
nth: 2  

} 
prescaleMod3: {
 
module_type: NthEvent  
 
nth: 3  

}
} 
p1: []  
 
p2: [BuildInfo]  
 
pmod2: [prescaleMod2]  
 
pmod3: [prescaleMod3]  
#my_output_modules: [ normalOutput ]
my_output_modules: [normalOutputMod2, normalOutputMod3]  

} 
process_name: DAQAG  
>
05-12 13:33:10.040923  1 15 store_configuration: json_buffer=<{
"document" : {
"data" : {
"prolog" : {

},
"main" : {
"services" : {
"scheduler" : {
"fileMode" : "NOMERGE"
},
"NetMonTransportServiceInterface" : {
"service_provider" : "NetMonTransportService",
"max_fragment_size_words" : 2097152
}
},
"daq" : {
"max_fragment_size_words" : 2097152,
"aggregator" : {
"mpi_buffer_count" : 8,
"first_event_builder_rank" : 2,
"event_builder_count" : 2,
"expected_events_per_bunch" : 1,
"print_event_store_stats" : true,
"event_queue_depth" : 20,
"event_queue_wait_time" : 5,
"onmon_event_prescale" : 1,
"xmlrpc_client_list" : ";http://topol.fnal.gov:5205/RPC2,3;http://topol.fnal.gov:5206/RPC2,3;http://topol.fnal.gov:5235/RPC2,4;http://topol.fnal.gov:5236/RPC2,4;http://topol.fnal.gov:5265/RPC2,5;http://topol.fnal.gov:5266/RPC2,5",
"file_size_MB" : 8000,
"file_duration" : 0,
"file_event_count" : 0
},
"metrics" : {
"aggFile" : {
"metricPluginType" : "file",
"level" : 3,
"fileName" : "/tmp/aggregator/agg_%UID%_metrics.log",
"uniquify" : true
}
}
},
"source" : {
"module_type" : "NetMonInput"
},
"outputs" : {
"normalOutputMod2" : {
"module_type" : "RootOutput",
"fileName" : "/tmp/artdaqdemo_r%06r_sr%02s_%to_mod2.root",
"SelectEvents" : {
"SelectEvents" : [
"pmod2"
]
},
"compressionLevel" : 0
},
"normalOutputMod3" : {
"module_type" : "RootOutput",
"fileName" : "/tmp/artdaqdemo_r%06r_sr%02s_%to_mod3.root",
"SelectEvents" : {
"SelectEvents" : [
"pmod3"
]
},
"compressionLevel" : 0
}
},
"physics" : {
"analyzers" : {

},
"producers" : {
"BuildInfo" : {
"module_type" : "ArtdaqDemoBuildInfo",
"instance_name" : "ArtdaqDemo"
}
},
"filters" : {
"prescaleMod2" : {
"module_type" : "NthEvent",
"nth" : 2
},
"prescaleMod3" : {
"module_type" : "NthEvent",
"nth" : 3
}
},
"p1" : [

],
"p2" : [
"BuildInfo"
],
"pmod2" : [
"prescaleMod2"
],
"pmod3" : [
"prescaleMod3"
],
"my_output_modules" : [
"normalOutputMod2",
"normalOutputMod3"
]
},
"process_name" : "DAQAG"
}
},
"metadata" : {
"prolog" : {

},
"main" : {
"services" : {
"type" : "table",
"comment" : " ",
"children" : {
"scheduler" : {
"type" : "table",
"comment" : " ",
"children" : {
"fileMode" : {
"type" : "string",
"comment" : " ",
"annotation" : " "
}
}
},
"NetMonTransportServiceInterface" : {
"type" : "table",
"comment" : " ",
"children" : {
"service_provider" : {
"type" : "string",
"comment" : " ",
"annotation" : " "
},
"max_fragment_size_words" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
}
}
}
}
},
"daq" : {
"type" : "table",
"comment" : " ",
"children" : {
"max_fragment_size_words" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"aggregator" : {
"type" : "table",
"comment" : " ",
"children" : {
"mpi_buffer_count" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"first_event_builder_rank" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"event_builder_count" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"expected_events_per_bunch" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"print_event_store_stats" : {
"type" : "bool",
"comment" : " ",
"annotation" : " "
},
"event_queue_depth" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"event_queue_wait_time" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"onmon_event_prescale" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"xmlrpc_client_list" : {
"type" : "string",
"comment" : " ",
"annotation" : " "
},
"file_size_MB" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"file_duration" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"file_event_count" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
}
}
},
"metrics" : {
"type" : "table",
"comment" : " ",
"children" : {
"aggFile" : {
"type" : "table",
"comment" : " ",
"children" : {
"metricPluginType" : {
"type" : "string",
"comment" : " ",
"annotation" : " "
},
"level" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"fileName" : {
"type" : "string",
"comment" : " ",
"annotation" : " "
},
"uniquify" : {
"type" : "bool",
"comment" : " 
05-12 13:33:10.056857  1 15 store_configuration: insert_payload=<{"document":{
    "document" : {
        "data" : {
            "prolog" : {

            }, 
            "main" : {
                "services" : {
                    "scheduler" : {
                        "fileMode" : "NOMERGE"
                    }, 
                    "NetMonTransportServiceInterface" : {
                        "service_provider" : "NetMonTransportService", 
                        "max_fragment_size_words" : 2097152
                    }
                }, 
                "daq" : {
                    "max_fragment_size_words" : 2097152, 
                    "aggregator" : {
                        "mpi_buffer_count" : 8, 
                        "first_event_builder_rank" : 2, 
                        "event_builder_count" : 2, 
                        "expected_events_per_bunch" : 1, 
                        "print_event_store_stats" : true, 
                        "event_queue_depth" : 20, 
                        "event_queue_wait_time" : 5, 
                        "onmon_event_prescale" : 1, 
                        "xmlrpc_client_list" : ";http://topol.fnal.gov:5205/RPC2,3;http://topol.fnal.gov:5206/RPC2,3;http://topol.fnal.gov:5235/RPC2,4;http://topol.fnal.gov:5236/RPC2,4;http://topol.fnal.gov:5265/RPC2,5;http://topol.fnal.gov:5266/RPC2,5", 
                        "file_size_MB" : 8000, 
                        "file_duration" : 0, 
                        "file_event_count" : 0
                    }, 
                    "metrics" : {
                        "aggFile" : {
                            "metricPluginType" : "file", 
                            "level" : 3, 
                            "fileName" : "/tmp/aggregator/agg_%UID%_metrics.log", 
                            "uniquify" : true
                        }
                    }
                }, 
                "source" : {
                    "module_type" : "NetMonInput"
                }, 
                "outputs" : {
                    "normalOutputMod2" : {
                        "module_type" : "RootOutput", 
                        "fileName" : "/tmp/artdaqdemo_r%06r_sr%02s_%to_mod2.root", 
                        "SelectEvents" : {
                            "SelectEvents" : [
                                "pmod2"
                            ]
                        }, 
                        "compressionLevel" : 0
                    }, 
                    "normalOutputMod3" : {
                        "module_type" : "RootOutput", 
                        "fileName" : "/tmp/artdaqdemo_r%06r_sr%02s_%to_mod3.root", 
                        "SelectEvents" : {
                            "SelectEvents" : [
                                "pmod3"
                            ]
                        }, 
                        "compressionLevel" : 0
                    }
                }, 
                "physics" : {
                    "analyzers" : {

                    }, 
                    "producers" : {
                        "BuildInfo" : {
                            "module_type" : "ArtdaqDemoBuildInfo", 
                            "instance_name" : "ArtdaqDemo"
                        }
                    }, 
                    "filters" : {
                        "prescaleMod2" : {
                            "module_type" : "NthEvent", 
                            "nth" : 2
                        }, 
                        "prescaleMod3" : {
                            "module_type" : "NthEvent", 
                            "nth" : 3
                        }
                    }, 
                    "p1" : [

                    ], 
                    "p2" : [
                        "BuildInfo"
                    ], 
                    "pmod2" : [
                        "prescaleMod2"
                    ], 
                    "pmod3" : [
                        "prescaleMod3"
                    ], 
                    "my_output_modules" : [
                        "normalOutputMod2", 
                
05-12 13:33:10.057888  1  4 StorageProvider::MongoDB::store() begin
05-12 13:33:10.058334  1  4 Search filter is missing, proceeding with insert.
05-12 13:33:10.075526  1  5 inserted_id={
    "$oid" : "5734cc661a72ba72737cdd11"
}
05-12 13:33:10.075857  1 15 store_configuration: end
Parsed options:
{
"filter" : {
"version" : "versionD47065",
"configurable_entity.name" : "ENTITY-testLoadStore"
},
"dbprovider" : "mongo",
"operation" : "store",
"collection" : "testLoadStore",
"dataformat" : "fhicl"
}
Running test:<store>
returned:
 
services: {
 
scheduler: {
 
fileMode: NOMERGE  

} 
NetMonTransportServiceInterface: {
 
service_provider: NetMonTransportService  
 
max_fragment_size_words: 2097152  

}
} 
daq: {
 
max_fragment_size_words: 2097152  
 
aggregator: {
 
mpi_buffer_count: 8  
 
first_event_builder_rank: 2  
 
event_builder_count: 2  
 
expected_events_per_bunch: 1  
 
print_event_store_stats: true  
 
event_queue_depth: 20  
 
event_queue_wait_time: 5  
 
onmon_event_prescale: 1  
 
xmlrpc_client_list: ";http://topol.fnal.gov:5205/RPC2,3;http://topol.fnal.gov:5206/RPC2,3;http://topol.fnal.gov:5235/RPC2,4;http://topol.fnal.gov:5236/RPC2,4;http://topol.fnal.gov:5265/RPC2,5;http://topol.fnal.gov:5266/RPC2,5"  
 
file_size_MB: 8000  
 
file_duration: 0  
 
file_event_count: 0  

} 
metrics: {
 
aggFile: {
 
metricPluginType: file  
 
level: 3  
 
fileName: "/tmp/aggregator/agg_%UID%_metrics.log"  
 
uniquify: true  

}
}
} 
source: {
 
module_type: NetMonInput  

} 
outputs: {
 
normalOutputMod2: {
 
module_type: RootOutput  
 
fileName: "/tmp/artdaqdemo_r%06r_sr%02s_%to_mod2.root"  
 
SelectEvents: {
 
SelectEvents: [pmod2]  

} 
compressionLevel: 0  

} 
normalOutputMod3: {
 
module_type: RootOutput  
 
fileName: "/tmp/artdaqdemo_r%06r_sr%02s_%to_mod3.root"  
 
SelectEvents: {
 
SelectEvents: [pmod3]  

} 
compressionLevel: 0  

}
} 
physics: {
 
analyzers: {

} 
producers: {
 
BuildInfo: {
 
module_type: ArtdaqDemoBuildInfo  
 
instance_name: ArtdaqDemo  

}
} 
filters: {
 
prescaleMod2: {
 
module_type: NthEvent  
 
nth: 2  

} 
prescaleMod3: {
 
module_type: NthEvent  
 
nth: 3  

}
} 
p1: []  
 
p2: [BuildInfo]  
 
pmod2: [prescaleMod2]  
 
pmod3: [prescaleMod3]  
#my_output_modules: [ normalOutput ]
my_output_modules: [normalOutputMod2, normalOutputMod3]  

} 
process_name: DAQAG  

<end of output>
Test time =   0.26 sec
----------------------------------------------------------
Test Passed.
"LoadStore_store_mongo_012_t" end time: May 12 13:33 CDT
"LoadStore_store_mongo_012_t" time elapsed: 00:00:00
----------------------------------------------------------

15/16 Testing: LoadStore_load_filesystem_014_t
15/16 Test: LoadStore_load_filesystem_014_t
Command: "/home/lukhanin/scratch/current/artdaq-demo-base/products/cetbuildtools/v4_18_02/bin/cet_exec_test" "--wd" "/home/lukhanin/scratch/current/artdaq-demo-base/build_artdaq-utilities-database/test/ConfigurationDB/LoadStore/test014/LoadStore_load_filesystem_014_t.d" "--required-files" "" "--datafiles" "/home/lukhanin/scratch/current/artdaq-demo-base/build_artdaq-utilities-database/test/ConfigurationDB/LoadStore/test014/test011.cmp.098.fcl;/home/lukhanin/scratch/current/artdaq-demo-base/build_artdaq-utilities-database/test/ConfigurationDB/LoadStore/test014/test011.flt.098.json" "--skip-return-code" "247" "LoadStore_t" "--searchquery=test011.flt.098.json" "-r" "test011.cmp.098.fcl"
Directory: /home/lukhanin/scratch/current/artdaq-demo-base/build_artdaq-utilities-database/test/ConfigurationDB/LoadStore/test014/LoadStore_load_filesystem_014_t.d
"LoadStore_load_filesystem_014_t" start time: May 12 13:33 CDT
Output:
----------------------------------------------------------
05-12 13:33:10.122331  1  0 artdaq::database::filesystem trace_enable
05-12 13:33:10.122496  1  0 artdaq::database::filesystem::index trace_enable
05-12 13:33:10.122554  1  0 artdaq::database::mongo trace_enable
05-12 13:33:10.122622  1  0 artdaq::database::configuration::LoadStoreOperation trace_enable
05-12 13:33:10.122668  1  0 artdaq::database::configuration::options::OperationBase trace_enable
05-12 13:33:10.122699  1  0 artdaq::database::configuration::options::OperationLoadStore trace_enable
05-12 13:33:10.122727  1  0 artdaq::database::configuration::LoadStoreOperationDetail trace_enable
05-12 13:33:10.124663  1 14 Options: json query= <{
    "filter":{"version":"versionD47065", "configurable_entity.name":"ENTITY-testLoadStore"},
    "collection":"testLoadStore",
    "dbprovider":"filesystem",
    "operation":"load",
    "dataformat":"fhicl"
}
>
05-12 13:33:10.128127  1 12 Options: Updating provider from filesystem to filesystem.
05-12 13:33:10.128146  1 10 Options: Updating operation from load to load.
05-12 13:33:10.128157  1 14 Options: dataFormat args format=<fhicl>.
05-12 13:33:10.128172  1 11 Options: Updating collection_name from notprovided to testLoadStore.
05-12 13:33:10.130983  1 15 Options: searchFilter args search_filter=<{
"version" : "versionD47065",
"configurable_entity.name" : "ENTITY-testLoadStore"
}>.
05-12 13:33:10.131284  1 15 Options: searchFilter args search_filter=<notprovided>.
05-12 13:33:10.131300  1 10 Options: Updating version from notprovided to versionD47065.
05-12 13:33:10.131312  1 11 Options: Updating entity from notprovided to ENTITY-testLoadStore.
05-12 13:33:10.133371  1 12 Options: Updating provider from filesystem to filesystem.
05-12 13:33:10.133388  1 10 Options: Updating operation from load to load.
05-12 13:33:10.133399  1 14 Options: dataFormat args format=<fhicl>.
05-12 13:33:10.133407  1 11 Options: Updating collection_name from notprovided to testLoadStore.
05-12 13:33:10.133540  1 15 Options: searchFilter args search_filter=<{
"version" : "versionD47065",
"configurable_entity.name" : "ENTITY-testLoadStore"
}>.
05-12 13:33:10.133814  1 15 Options: searchFilter args search_filter=<notprovided>.
05-12 13:33:10.133826  1 10 Options: Updating version from notprovided to versionD47065.
05-12 13:33:10.133837  1 11 Options: Updating entity from notprovided to ENTITY-testLoadStore.
05-12 13:33:10.133873  1 16 load_configuration: begin
05-12 13:33:10.134210  1 16 load_configuration: search_payload=<{"filter":{
"version" : "versionD47065",
"configurable_entity.name" : "ENTITY-testLoadStore"
}, "collection":"testLoadStore"}>
05-12 13:33:10.134455  1  3 StorageProvider::FileSystemDB::load() begin
05-12 13:33:10.134472  1  3 StorageProvider::FileSystemDB::load() args search=<{"filter":{
"version" : "versionD47065",
"configurable_entity.name" : "ENTITY-testLoadStore"
}, "collection":"testLoadStore"}>
05-12 13:33:10.142108  1  3 StorageProvider::FileSystemDB::load() collection_path=<file:///home/lukhanin/databases/filesystemdb/testLoadStore/>.
05-12 13:33:10.142190  1 11 StorageProvider::FileSystemDB mkdir dir=</home/lukhanin/databases/filesystemdb/testLoadStore/>
05-12 13:33:10.142265  1 11 StorageProvider::FileSystemDB Directory exists, checking permissions; path=</home/lukhanin/databases/filesystemdb/testLoadStore/>
05-12 13:33:10.142535  1  3 StorageProvider::FileSystemDB::index::_open() begin
05-12 13:33:10.142559  1  3 StorageProvider::FileSystemDB::index::_open() args index_path=</home/lukhanin/databases/filesystemdb/testLoadStore/index.json>.
05-12 13:33:10.142829  1  3 StorageProvider::FileSystemDB::index::_open() json=<{
"version" : {
"versionA01749" : [
"94adcd1f5f6748cda59d13f6"
],
"versionB01749" : [
"0e0fcfb7044d4e91bbdf55e4"
],
"versionC01749" : [
"c5db7ef3aeae498db2a59caf"
],
"versionA38249" : [
"290ce4a4e0e74acfba4cf107"
],
"versionB38249" : [
"b9a1eb0a4c5d4ed1a6f3191d"
],
"versionC38249" : [
"462d4002a531489a94659025"
],
"versionA65272" : [
"d869fc26dff64c6fbe132357"
],
"versionB65272" : [
"33ae84a3b7054a61b8097407"
],
"versionC65272" : [
"339f0b2d469742b487dad30a"
],
"versionA51307" : [
"8f0f2deb56fc497e9df95cdc",
"b7cbfe9fa6824b6986f11961"
],
"versionB51307" : [
"37de50d6d24f425f82438214",
"69e4ec12f4004fd78279d7a4"
],
"versionC51307" : [
"1ac8123cca4d41e18ae5469a",
"5d7e5964c8db4094951f6c1a"
],
"versionD51307" : [
"a01e6f4de48b422c93b12d30",
"cbf93bfbb758457987a4ca7b"
],
"versionA47065" : [
"760547e4ab514d93a427723d"
],
"versionB47065" : [
"028bfcd6db994914a8bcd3c0"
],
"versionC47065" : [
"a9d35909c11f4e2088258de0"
],
"versionD47065" : [
"e6970a8af1ae46cb96f3b04e"
]
},
"configurations.name" : {
"notprovided" : [
"028bfcd6db994914a8bcd3c0",
"0e0fcfb7044d4e91bbdf55e4",
"1ac8123cca4d41e18ae5469a",
"290ce4a4e0e74acfba4cf107",
"339f0b2d469742b487dad30a",
"33ae84a3b7054a61b8097407",
"37de50d6d24f425f82438214",
"462d4002a531489a94659025",
"5d7e5964c8db4094951f6c1a",
"69e4ec12f4004fd78279d7a4",
"760547e4ab514d93a427723d",
"8f0f2deb56fc497e9df95cdc",
"94adcd1f5f6748cda59d13f6",
"a01e6f4de48b422c93b12d30",
"a9d35909c11f4e2088258de0",
"b7cbfe9fa6824b6986f11961",
"b9a1eb0a4c5d4ed1a6f3191d",
"c5db7ef3aeae498db2a59caf",
"cbf93bfbb758457987a4ca7b",
"d869fc26dff64c6fbe132357",
"e6970a8af1ae46cb96f3b04e"
]
},
"configurable_entity.name" : {
"notprovided" : [
"028bfcd6db994914a8bcd3c0",
"290ce4a4e0e74acfba4cf107",
"33ae84a3b7054a61b8097407",
"37de50d6d24f425f82438214",
"69e4ec12f4004fd78279d7a4",
"760547e4ab514d93a427723d",
"8f0f2deb56fc497e9df95cdc",
"b7cbfe9fa6824b6986f11961",
"b9a1eb0a4c5d4ed1a6f3191d",
"d869fc26dff64c6fbe132357"
],
"ENTITY-testLoadStore" : [
"1ac8123cca4d41e18ae5469a",
"339f0b2d469742b487dad30a",
"462d4002a531489a94659025",
"5d7e5964c8db4094951f6c1a",
"a01e6f4de48b422c93b12d30",
"a9d35909c11f4e2088258de0",
"cbf93bfbb758457987a4ca7b",
"e6970a8af1ae46cb96f3b04e"
]
}
}>
05-12 13:33:10.145927  1  2 StorageProvider::FileSystemDB::index::findDocumentIDs() begin
05-12 13:33:10.145940  1  2 StorageProvider::FileSystemDB::index::findDocumentIDs() args search=<{
        "version" : "versionD47065", 
        "configurable_entity.name" : "ENTITY-testLoadStore"
    }>.
05-12 13:33:10.146114  1  5 StorageProvider::FileSystemDB::index::findDocumentIDs() found 2 search criteria.
05-12 13:33:10.146319  1 14 StorageProvider::FileSystemDB::index::_matchVersion() begin
05-12 13:33:10.146331  1 14 StorageProvider::FileSystemDB::index::_matchVersion() args version=<versionD47065>.
05-12 13:33:10.146391  1 15 StorageProvider::FileSystemDB::index::_matchConfiguration() Found 1 documents where version=versionD47065
05-12 13:33:10.146454  1 15 StorageProvider::FileSystemDB::index::_matchConfigurableEntity() begin
05-12 13:33:10.146463  1 15 StorageProvider::FileSystemDB::index::_matchConfigurableEntity() args configurable_entity=<ENTITY-testLoadStore>.
05-12 13:33:10.146477  1 15 StorageProvider::FileSystemDB::index::_matchConfigurableEntity() Found 8 documents where entity=ENTITY-testLoadStore
05-12 13:33:10.146630  1  5 StorageProvider::FileSystemDB::index::findDocumentIDs() criteria_count=2, max_count=2, found 1 documents.
05-12 13:33:10.146659  1  5 StorageProvider::FileSystemDB::index::findDocumentIDs() returning 1 documents.
05-12 13:33:10.146677  1  3 StorageProvider::FileSystemDB::load() search returned 1 documents.
05-12 13:33:10.146833  1  3 StorageProvider::FileSystemDB::load() reading document </home/lukhanin/databases/filesystemdb/testLoadStore/e6970a8af1ae46cb96f3b04e.json>.
05-12 13:33:10.148617  1  4 StorageProvider::FileSystemDB::index::_close() begin
05-12 13:33:10.151435  1  4 StorageProvider::FileSystemDB::index::_close() json=<{
"version" : {
"versionA01749" : [
"94adcd1f5f6748cda59d13f6"
],
"versionB01749" : [
"0e0fcfb7044d4e91bbdf55e4"
],
"versionC01749" : [
"c5db7ef3aeae498db2a59caf"
],
"versionA38249" : [
"290ce4a4e0e74acfba4cf107"
],
"versionB38249" : [
"b9a1eb0a4c5d4ed1a6f3191d"
],
"versionC38249" : [
"462d4002a531489a94659025"
],
"versionA65272" : [
"d869fc26dff64c6fbe132357"
],
"versionB65272" : [
"33ae84a3b7054a61b8097407"
],
"versionC65272" : [
"339f0b2d469742b487dad30a"
],
"versionA51307" : [
"8f0f2deb56fc497e9df95cdc",
"b7cbfe9fa6824b6986f11961"
],
"versionB51307" : [
"37de50d6d24f425f82438214",
"69e4ec12f4004fd78279d7a4"
],
"versionC51307" : [
"1ac8123cca4d41e18ae5469a",
"5d7e5964c8db4094951f6c1a"
],
"versionD51307" : [
"a01e6f4de48b422c93b12d30",
"cbf93bfbb758457987a4ca7b"
],
"versionA47065" : [
"760547e4ab514d93a427723d"
],
"versionB47065" : [
"028bfcd6db994914a8bcd3c0"
],
"versionC47065" : [
"a9d35909c11f4e2088258de0"
],
"versionD47065" : [
"e6970a8af1ae46cb96f3b04e"
]
},
"configurations.name" : {
"notprovided" : [
"028bfcd6db994914a8bcd3c0",
"0e0fcfb7044d4e91bbdf55e4",
"1ac8123cca4d41e18ae5469a",
"290ce4a4e0e74acfba4cf107",
"339f0b2d469742b487dad30a",
"33ae84a3b7054a61b8097407",
"37de50d6d24f425f82438214",
"462d4002a531489a94659025",
"5d7e5964c8db4094951f6c1a",
"69e4ec12f4004fd78279d7a4",
"760547e4ab514d93a427723d",
"8f0f2deb56fc497e9df95cdc",
"94adcd1f5f6748cda59d13f6",
"a01e6f4de48b422c93b12d30",
"a9d35909c11f4e2088258de0",
"b7cbfe9fa6824b6986f11961",
"b9a1eb0a4c5d4ed1a6f3191d",
"c5db7ef3aeae498db2a59caf",
"cbf93bfbb758457987a4ca7b",
"d869fc26dff64c6fbe132357",
"e6970a8af1ae46cb96f3b04e"
]
},
"configurable_entity.name" : {
"notprovided" : [
"028bfcd6db994914a8bcd3c0",
"290ce4a4e0e74acfba4cf107",
"33ae84a3b7054a61b8097407",
"37de50d6d24f425f82438214",
"69e4ec12f4004fd78279d7a4",
"760547e4ab514d93a427723d",
"8f0f2deb56fc497e9df95cdc",
"b7cbfe9fa6824b6986f11961",
"b9a1eb0a4c5d4ed1a6f3191d",
"d869fc26dff64c6fbe132357"
],
"ENTITY-testLoadStore" : [
"1ac8123cca4d41e18ae5469a",
"339f0b2d469742b487dad30a",
"462d4002a531489a94659025",
"5d7e5964c8db4094951f6c1a",
"a01e6f4de48b422c93b12d30",
"a9d35909c11f4e2088258de0",
"cbf93bfbb758457987a4ca7b",
"e6970a8af1ae46cb96f3b04e"
]
}
}>
05-12 13:33:10.151683  1  4 StorageProvider::FileSystemDB::index::_close() Closed SearchIndex.
05-12 13:33:10.185125  1 15 load_configuration: end
Parsed options:
{
"filter" : {
"version" : "versionD47065",
"configurable_entity.name" : "ENTITY-testLoadStore"
},
"dbprovider" : "filesystem",
"operation" : "load",
"collection" : "testLoadStore",
"dataformat" : "fhicl"
}
Running test:<load>
returned:
 
services: {
 
scheduler: {
 
fileMode: NOMERGE  

} 
NetMonTransportServiceInterface: {
 
service_provider: NetMonTransportService  
 
max_fragment_size_words: 2097152  

}
} 
daq: {
 
max_fragment_size_words: 2097152  
 
aggregator: {
 
mpi_buffer_count: 8  
 
first_event_builder_rank: 2  
 
event_builder_count: 2  
 
expected_events_per_bunch: 1  
 
print_event_store_stats: true  
 
event_queue_depth: 20  
 
event_queue_wait_time: 5  
 
onmon_event_prescale: 1  
 
xmlrpc_client_list: ";http://topol.fnal.gov:5205/RPC2,3;http://topol.fnal.gov:5206/RPC2,3;http://topol.fnal.gov:5235/RPC2,4;http://topol.fnal.gov:5236/RPC2,4;http://topol.fnal.gov:5265/RPC2,5;http://topol.fnal.gov:5266/RPC2,5"  
 
file_size_MB: 8000  
 
file_duration: 0  
 
file_event_count: 0  

} 
metrics: {
 
aggFile: {
 
metricPluginType: file  
 
level: 3  
 
fileName: "/tmp/aggregator/agg_%UID%_metrics.log"  
 
uniquify: true  

}
}
} 
source: {
 
module_type: NetMonInput  

} 
outputs: {
 
normalOutputMod2: {
 
module_type: RootOutput  
 
fileName: "/tmp/artdaqdemo_r%06r_sr%02s_%to_mod2.root"  
 
SelectEvents: {
 
SelectEvents: [pmod2]  

} 
compressionLevel: 0  

} 
normalOutputMod3: {
 
module_type: RootOutput  
 
fileName: "/tmp/artdaqdemo_r%06r_sr%02s_%to_mod3.root"  
 
SelectEvents: {
 
SelectEvents: [pmod3]  

} 
compressionLevel: 0  

}
} 
physics: {
 
analyzers: {

} 
producers: {
 
BuildInfo: {
 
module_type: ArtdaqDemoBuildInfo  
 
instance_name: ArtdaqDemo  

}
} 
filters: {
 
prescaleMod2: {
 
module_type: NthEvent  
 
nth: 2  

} 
prescaleMod3: {
 
module_type: NthEvent  
 
nth: 3  

}
} 
p1: []  
 
p2: [BuildInfo]  
 
pmod2: [prescaleMod2]  
 
pmod3: [prescaleMod3]  
#my_output_modules: [ normalOutput ]
my_output_modules: [normalOutputMod2, normalOutputMod3]  

} 
process_name: DAQAG  

<end of output>
Test time =   0.11 sec
----------------------------------------------------------
Test Passed.
"LoadStore_load_filesystem_014_t" end time: May 12 13:33 CDT
"LoadStore_load_filesystem_014_t" time elapsed: 00:00:00
----------------------------------------------------------

16/16 Testing: LoadStore_load_mongo_014_t
16/16 Test: LoadStore_load_mongo_014_t
Command: "/home/lukhanin/scratch/current/artdaq-demo-base/products/cetbuildtools/v4_18_02/bin/cet_exec_test" "--wd" "/home/lukhanin/scratch/current/artdaq-demo-base/build_artdaq-utilities-database/test/ConfigurationDB/LoadStore/test014/LoadStore_load_mongo_014_t.d" "--required-files" "" "--datafiles" "/home/lukhanin/scratch/current/artdaq-demo-base/build_artdaq-utilities-database/test/ConfigurationDB/LoadStore/test014/test011.cmp.650.fcl;/home/lukhanin/scratch/current/artdaq-demo-base/build_artdaq-utilities-database/test/ConfigurationDB/LoadStore/test014/test011.flt.650.json" "--skip-return-code" "247" "LoadStore_t" "--searchquery=test011.flt.650.json" "-r" "test011.cmp.650.fcl"
Directory: /home/lukhanin/scratch/current/artdaq-demo-base/build_artdaq-utilities-database/test/ConfigurationDB/LoadStore/test014/LoadStore_load_mongo_014_t.d
"LoadStore_load_mongo_014_t" start time: May 12 13:33 CDT
Output:
----------------------------------------------------------
05-12 13:33:10.229507  1  0 artdaq::database::filesystem trace_enable
05-12 13:33:10.229664  1  0 artdaq::database::filesystem::index trace_enable
05-12 13:33:10.229719  1  0 artdaq::database::mongo trace_enable
05-12 13:33:10.229787  1  0 artdaq::database::configuration::LoadStoreOperation trace_enable
05-12 13:33:10.229829  1  0 artdaq::database::configuration::options::OperationBase trace_enable
05-12 13:33:10.229858  1  0 artdaq::database::configuration::options::OperationLoadStore trace_enable
05-12 13:33:10.229885  1  0 artdaq::database::configuration::LoadStoreOperationDetail trace_enable
05-12 13:33:10.231762  1 14 Options: json query= <{
    "filter":{"version":"versionD47065", "configurable_entity.name":"ENTITY-testLoadStore"},
    "collection":"testLoadStore",
    "dbprovider":"mongo",
    "operation":"load",
    "dataformat":"fhicl"
}
>
05-12 13:33:10.235030  1 12 Options: Updating provider from filesystem to mongo.
05-12 13:33:10.235047  1 10 Options: Updating operation from load to load.
05-12 13:33:10.235057  1 14 Options: dataFormat args format=<fhicl>.
05-12 13:33:10.235073  1 11 Options: Updating collection_name from notprovided to testLoadStore.
05-12 13:33:10.237647  1 15 Options: searchFilter args search_filter=<{
"version" : "versionD47065",
"configurable_entity.name" : "ENTITY-testLoadStore"
}>.
05-12 13:33:10.238099  1 15 Options: searchFilter args search_filter=<notprovided>.
05-12 13:33:10.238119  1 10 Options: Updating version from notprovided to versionD47065.
05-12 13:33:10.238137  1 11 Options: Updating entity from notprovided to ENTITY-testLoadStore.
05-12 13:33:10.240136  1 12 Options: Updating provider from filesystem to mongo.
05-12 13:33:10.240159  1 10 Options: Updating operation from load to load.
05-12 13:33:10.240170  1 14 Options: dataFormat args format=<fhicl>.
05-12 13:33:10.240179  1 11 Options: Updating collection_name from notprovided to testLoadStore.
05-12 13:33:10.240395  1 15 Options: searchFilter args search_filter=<{
"version" : "versionD47065",
"configurable_entity.name" : "ENTITY-testLoadStore"
}>.
05-12 13:33:10.240678  1 15 Options: searchFilter args search_filter=<notprovided>.
05-12 13:33:10.240699  1 10 Options: Updating version from notprovided to versionD47065.
05-12 13:33:10.240710  1 11 Options: Updating entity from notprovided to ENTITY-testLoadStore.
05-12 13:33:10.240756  1 16 load_configuration: begin
05-12 13:33:10.241115  1 16 load_configuration: search_payload=<{"filter":{
"version" : "versionD47065",
"configurable_entity.name" : "ENTITY-testLoadStore"
}, "collection":"testLoadStore"}>
05-12 13:33:10.242182  1  3 StorageProvider::MongoDB::load() begin
05-12 13:33:10.242204  1  3 StorageProvider::MongoDB::load() args search=<{"filter":{
"version" : "versionD47065",
"configurable_entity.name" : "ENTITY-testLoadStore"
}, "collection":"testLoadStore"}>
05-12 13:33:10.242952  1  3 StorageProvider::MongoDB::load() user provided filter=<{
    "version" : "versionD47065", 
    "configurable_entity.name" : "ENTITY-testLoadStore"
}>
05-12 13:33:10.243016  1  2 search filter=<{
    "version" : "versionD47065", 
    "configurable_entity.name" : "ENTITY-testLoadStore"
}>
05-12 13:33:10.245829  1  3 found_count=1
05-12 13:33:10.289736  1 15 load_configuration: end
Parsed options:
{
"filter" : {
"version" : "versionD47065",
"configurable_entity.name" : "ENTITY-testLoadStore"
},
"dbprovider" : "mongo",
"operation" : "load",
"collection" : "testLoadStore",
"dataformat" : "fhicl"
}
Running test:<load>
returned:
 
services: {
 
scheduler: {
 
fileMode: NOMERGE  

} 
NetMonTransportServiceInterface: {
 
service_provider: NetMonTransportService  
 
max_fragment_size_words: 2097152  

}
} 
daq: {
 
max_fragment_size_words: 2097152  
 
aggregator: {
 
mpi_buffer_count: 8  
 
first_event_builder_rank: 2  
 
event_builder_count: 2  
 
expected_events_per_bunch: 1  
 
print_event_store_stats: true  
 
event_queue_depth: 20  
 
event_queue_wait_time: 5  
 
onmon_event_prescale: 1  
 
xmlrpc_client_list: ";http://topol.fnal.gov:5205/RPC2,3;http://topol.fnal.gov:5206/RPC2,3;http://topol.fnal.gov:5235/RPC2,4;http://topol.fnal.gov:5236/RPC2,4;http://topol.fnal.gov:5265/RPC2,5;http://topol.fnal.gov:5266/RPC2,5"  
 
file_size_MB: 8000  
 
file_duration: 0  
 
file_event_count: 0  

} 
metrics: {
 
aggFile: {
 
metricPluginType: file  
 
level: 3  
 
fileName: "/tmp/aggregator/agg_%UID%_metrics.log"  
 
uniquify: true  

}
}
} 
source: {
 
module_type: NetMonInput  

} 
outputs: {
 
normalOutputMod2: {
 
module_type: RootOutput  
 
fileName: "/tmp/artdaqdemo_r%06r_sr%02s_%to_mod2.root"  
 
SelectEvents: {
 
SelectEvents: [pmod2]  

} 
compressionLevel: 0  

} 
normalOutputMod3: {
 
module_type: RootOutput  
 
fileName: "/tmp/artdaqdemo_r%06r_sr%02s_%to_mod3.root"  
 
SelectEvents: {
 
SelectEvents: [pmod3]  

} 
compressionLevel: 0  

}
} 
physics: {
 
analyzers: {

} 
producers: {
 
BuildInfo: {
 
module_type: ArtdaqDemoBuildInfo  
 
instance_name: ArtdaqDemo  

}
} 
filters: {
 
prescaleMod2: {
 
module_type: NthEvent  
 
nth: 2  

} 
prescaleMod3: {
 
module_type: NthEvent  
 
nth: 3  

}
} 
p1: []  
 
p2: [BuildInfo]  
 
pmod2: [prescaleMod2]  
 
pmod3: [prescaleMod3]  
#my_output_modules: [ normalOutput ]
my_output_modules: [normalOutputMod2, normalOutputMod3]  

} 
process_name: DAQAG  

<end of output>
Test time =   0.10 sec
----------------------------------------------------------
Test Passed.
"LoadStore_load_mongo_014_t" end time: May 12 13:33 CDT
"LoadStore_load_mongo_014_t" time elapsed: 00:00:00
----------------------------------------------------------

End testing: May 12 13:33 CDT
