Start testing: May 12 17:27 CDT
----------------------------------------------------------
1/28 Testing: LoadStore_store_filesystem_001_t
1/28 Test: LoadStore_store_filesystem_001_t
Command: "/home/lukhanin/scratch/current/artdaq-demo-base/products/cetbuildtools/v4_18_02/bin/cet_exec_test" "--wd" "/home/lukhanin/scratch/current/artdaq-demo-base/build_artdaq-utilities-database/test/ConfigurationDB/LoadStore/test001/LoadStore_store_filesystem_001_t.d" "--required-files" "" "--datafiles" "/home/lukhanin/scratch/current/artdaq-demo-base/build_artdaq-utilities-database/test/ConfigurationDB/LoadStore/test001/test001.src.189.json;/home/lukhanin/scratch/current/artdaq-demo-base/build_artdaq-utilities-database/test/ConfigurationDB/LoadStore/test001/test001.cmp.189.json" "--skip-return-code" "247" "LoadStore_t" "-o" "store" "-d" "filesystem" "-c" "testLoadStore" "-f" "json" "-v" "versionA21637" "-s" "test001.src.189.json" "-r" "test001.cmp.189.json"
Directory: /home/lukhanin/scratch/current/artdaq-demo-base/build_artdaq-utilities-database/test/ConfigurationDB/LoadStore/test001/LoadStore_store_filesystem_001_t.d
"LoadStore_store_filesystem_001_t" start time: May 12 17:27 CDT
Output:
----------------------------------------------------------
removed ‘test001.cmp.633.json’
removed ‘test001.src.633.json’
05-12 17:27:16.861766  1  0 artdaq::database::filesystem trace_enable
05-12 17:27:16.861988  1  0 artdaq::database::filesystem::index trace_enable
05-12 17:27:16.862077  1  0 artdaq::database::mongo trace_enable
05-12 17:27:16.862183  1  0 artdaq::database::configuration::LoadStoreOperation trace_enable
05-12 17:27:16.862249  1  0 artdaq::database::configuration::options::OperationBase trace_enable
05-12 17:27:16.862292  1  0 artdaq::database::configuration::options::OperationLoadStore trace_enable
05-12 17:27:16.862333  1  0 artdaq::database::configuration::LoadStoreOperationDetail trace_enable
05-12 17:27:16.865138  1 12 Options: Updating provider from filesystem to filesystem.
05-12 17:27:16.865176  1 10 Options: Updating operation from load to store.
05-12 17:27:16.865190  1 14 Options: dataFormat args format=<json>.
05-12 17:27:16.865215  1 11 Options: Updating collection_name from notprovided to testLoadStore.
05-12 17:27:16.865237  1 10 Options: Updating version from notprovided to versionA21637.
05-12 17:27:16.873815  1 12 Options: Updating provider from filesystem to filesystem.
05-12 17:27:16.873839  1 10 Options: Updating operation from load to store.
05-12 17:27:16.873853  1 14 Options: dataFormat args format=<json>.
05-12 17:27:16.873871  1 11 Options: Updating collection_name from notprovided to testLoadStore.
05-12 17:27:16.874017  1 15 Options: searchFilter args search_filter=<{
"version" : "versionA21637"
}>.
05-12 17:27:16.874322  1 15 Options: searchFilter args search_filter=<notprovided>.
05-12 17:27:16.874339  1 10 Options: Updating version from notprovided to versionA21637.
05-12 17:27:16.874614  1 15 store_configuration: begin
05-12 17:27:16.874645  1 15 store_configuration: json_buffer=<{"data":{
"daq" : {
"event_builder" : {

"expected_fragments_per_event" : 2,

"first_fragment_receiver_rank" : 0,

"fragment_receiver_count" : 2,

"mpi_buffer_count" : 16,

"print_event_store_stats" : true,

"use_art" : true,

"verbose" : false
}
}
}
}>
05-12 17:27:16.886644  1 15 store_configuration: insert_payload=<{"document":{
    "document" : {
        "data" : {
            "daq" : {
                "event_builder" : {
                    "expected_fragments_per_event" : 2, 
                    "first_fragment_receiver_rank" : 0, 
                    "fragment_receiver_count" : 2, 
                    "mpi_buffer_count" : 16, 
                    "print_event_store_stats" : true, 
                    "use_art" : true, 
                    "verbose" : false
                }
            }
        }, 
        "metadata" : {
            "comments" : {
                "empty" : "empty"
            }
        }, 
        "search" : [
            {
                "name" : "find any", 
                "query" : "not defined"
            }
        ]
    }, 
    "source" : {
        "encoding" : "base64", 
        "format" : "json", 
        "rawdata" : "as"
    }, 
    "version" : "versionA21637", 
    "configurations" : [
        {
            "name" : "notprovided", 
            "assigned" : "Thu May 12 17:27:16 2016"
        }
    ], 
    "aliases" : {
        "active" : [

        ], 
        "history" : [

        ]
    }, 
    "changelog" : "empty", 
    "bookkeeping" : {
        "isdeleted" : false, 
        "isreadonly" : true, 
        "created" : "Tue Dec 29 18:19:25 2015", 
        "updates" : [
            {
                "addToGlobalConfig" : "Thu May 12 17:27:16 2016"
            }, 
            {
                "setVersion" : "Thu May 12 17:27:16 2016"
            }, 
            {
                "setConfigurableEntity" : "Thu May 12 17:27:16 2016"
            }
        ]
    }, 
    "configurable_entity" : {
        "name" : "notprovided"
    }
}, "collection":"testLoadStore"}>
05-12 17:27:16.886945  1  4 StorageProvider::FileSystemDB::store() begin
05-12 17:27:16.886975  1  4 StorageProvider::FileSystemDB::store() args data=<{"document":{
    "document" : {
        "data" : {
            "daq" : {
                "event_builder" : {
                    "expected_fragments_per_event" : 2, 
                    "first_fragment_receiver_rank" : 0, 
                    "fragment_receiver_count" : 2, 
                    "mpi_buffer_count" : 16, 
                    "print_event_store_stats" : true, 
                    "use_art" : true, 
                    "verbose" : false
                }
            }
        }, 
        "metadata" : {
            "comments" : {
                "empty" : "empty"
            }
        }, 
        "search" : [
            {
                "name" : "find any", 
                "query" : "not defined"
            }
        ]
    }, 
    "source" : {
        "encoding" : "base64", 
        "format" : "json", 
        "rawdata" : "as"
    }, 
    "version" : "versionA21637", 
    "configurations" : [
        {
            "name" : "notprovided", 
            "assigned" : "Thu May 12 17:27:16 2016"
        }
    ], 
    "aliases" : {
        "active" : [

        ], 
        "history" : [

        ]
    }, 
    "changelog" : "empty", 
    "bookkeeping" : {
        "isdeleted" : false, 
        "isreadonly" : true, 
        "created" : "Tue Dec 29 18:19:25 2015", 
        "updates" : [
            {
                "addToGlobalConfig" : "Thu May 12 17:27:16 2016"
            }, 
            {
                "setVersion" : "Thu May 12 17:27:16 2016"
            }, 
            {
                "setConfigurableEntity" : "Thu May 12 17:27:16 2016"
            }
        ]
    }, 
    "configurable_entity" : {
        "name" : "notprovided"
    }
}, "collection":"testLoadStore"}>
05-12 17:27:16.890373  1 12 StorageProvider::FileSystemDB generate_oid=f35d80227494480993721277
05-12 17:27:16.893605  1  4 StorageProvider::FileSystemDB::store() using generated oid=<f35d80227494480993721277>.
05-12 17:27:16.893665  1  4 StorageProvider::FileSystemDB::store() collection_path=<file:///home/lukhanin/databases/filesystemdb/testLoadStore/>.
05-12 17:27:16.893699  1 11 StorageProvider::FileSystemDB mkdir dir=</home/lukhanin/databases/filesystemdb/testLoadStore/>
05-12 17:27:16.893750  1 11 StorageProvider::FileSystemDB Directory exists, checking permissions; path=</home/lukhanin/databases/filesystemdb/testLoadStore/>
05-12 17:27:16.893950  1  4 StorageProvider::FileSystemDB::store() filename=</home/lukhanin/databases/filesystemdb/testLoadStore/f35d80227494480993721277.json>.
05-12 17:27:16.904450  1  3 StorageProvider::FileSystemDB::index::_open() begin
05-12 17:27:16.904468  1  3 StorageProvider::FileSystemDB::index::_open() args index_path=</home/lukhanin/databases/filesystemdb/testLoadStore/index.json>.
05-12 17:27:16.905016  1  3 StorageProvider::FileSystemDB::index::_open() json=<{
"version" : {
"versionA01749" : [
"94adcd1f5f6748cda59d13f6"
],
"versionB01749" : [
"0e0fcfb7044d4e91bbdf55e4"
],
"versionC01749" : [
"c5db7ef3aeae498db2a59caf"
],
"versionA38249" : [
"290ce4a4e0e74acfba4cf107"
],
"versionB38249" : [
"b9a1eb0a4c5d4ed1a6f3191d"
],
"versionC38249" : [
"462d4002a531489a94659025"
],
"versionA65272" : [
"d869fc26dff64c6fbe132357"
],
"versionB65272" : [
"33ae84a3b7054a61b8097407"
],
"versionC65272" : [
"339f0b2d469742b487dad30a"
],
"versionA51307" : [
"8f0f2deb56fc497e9df95cdc",
"b7cbfe9fa6824b6986f11961"
],
"versionB51307" : [
"37de50d6d24f425f82438214",
"69e4ec12f4004fd78279d7a4"
],
"versionC51307" : [
"1ac8123cca4d41e18ae5469a",
"5d7e5964c8db4094951f6c1a"
],
"versionD51307" : [
"a01e6f4de48b422c93b12d30",
"cbf93bfbb758457987a4ca7b"
],
"versionA47065" : [
"760547e4ab514d93a427723d"
],
"versionB47065" : [
"028bfcd6db994914a8bcd3c0"
],
"versionC47065" : [
"a9d35909c11f4e2088258de0"
],
"versionD47065" : [
"e6970a8af1ae46cb96f3b04e"
],
"versionA92247" : [
"931c9a2d3d6f492eae64a77a"
],
"versionB92247" : [
"6b3f830500e5408aa6202838"
],
"versionC92247" : [
"0a23f9c1bbe549eaba705411"
],
"versionD92247" : [
"248c18638534478d901aab15"
],
"versionA99672" : [
"e177642f644647f681a94b6c"
],
"versionB99672" : [
"5e4cf05d610b4b2b9d3d4634"
],
"versionC99672" : [
"897b402366a64975af0e15ce"
],
"versionD99672" : [
"a4d730ba9ed542a8b774c32a"
],
"versionA66670" : [
"959bfef9ec7740359a2fc892"
],
"versionB66670" : [
"77024268186043f7b8235cd4"
],
"versionC66670" : [
"c3925021720444ef9fa48362"
],
"versionD66670" : [
"fd76d2e20794456bbe0bc0be"
],
"versionA31346" : [
"9e41c7cd6c7344f2ac476d67"
],
"versionB31346" : [
"6bf1f423713e4425b6eda75a"
],
"versionC31346" : [
"479291d726964adea0a53ed4"
],
"versionD31346" : [
"e3deafbb081b488b931e901a"
],
"versionA94231" : [
"db2b80f3953d4d219edebb4a"
],
"versionB94231" : [
"5c13c931c85d4a2f92e31337"
],
"versionC94231" : [
"48c8e3bbb25945c889814e97"
],
"versionD94231" : [
"8c743796e37f4dd4aafe2de7"
],
"versionA44404" : [
"b9fe06644d14477fa728b736"
],
"versionB44404" : [
"42244dab6a0445f1a9b2d4a4"
],
"versionC44404" : [
"30e9297b394745d4a3fa8f2d"
],
"versionD44404" : [
"b1ca25d59d1743d38b261668"
],
"versionA85525" : [
"5899f8b64221476ca2fe0254"
],
"versionB85525" : [
"0503e7681d474f648dc0f46a"
],
"versionC85525" : [
"20bc3beef6034e7bab80807a"
],
"versionD85525" : [
"0fa4e196a38c46e490fdbb75"
],
"versionA98933" : [
"5d871d9c11b34dfbb87b2587"
],
"versionB98933" : [
"baf8cd287f264b9693991d11"
],
"versionC98933" : [
"b7554f8abd574792a881d5cb"
],
"versionD98933" : [
"31d11dd8a2a4457cb83a8576"
]
},
"configurations.name" : {
"notprovided" : [
"028bfcd6db994914a8bcd3c0",
"0503e7681d474f648dc0f46a",
"0a23f9c1bbe549eaba705411",
"0e0fcfb7044d4e91bbdf55e4",
"0fa4e196a38c46e490fdbb75",
"1ac8123cca4d41e18ae5469a",
"20bc3beef6034e7bab80807a",
"248c18638534478d901aab15",
"290ce4a4e0e74acfba4cf107",
"30e9297b394745d4a3fa8f2d",
"31d11dd8a2a4457cb83a8576",
"339f0b2d469742b487dad30a",
"33ae84a3b7054a61b8097407",
"37de50d6d24f425f82438214",
"42244dab6a0445f1a9b2d4a4",
"462d4002a531489a94659025",
"479291d726964adea0a53ed4",
"48c8e3bbb25945c889814e97",
"5899f8b64221476ca2fe0254",
"5c13c931c85d4a2f92e31337",
"5d7e5964c8db4094951f6c1a",
"5d871d9c11b34dfbb87b2587",
"5e4cf05d610b4b2b9d3d4634",
"69e4ec12f4004fd78279d7a4",
"6b3f830500e5408aa6202838",
"6bf1f423713e4425b6eda75a",
"760547e4ab514d93a427723d",
"77024268186043f7b8235cd4",
"897b402366a64975af0e15ce",
"8c743796e37f4dd4aafe2de7",
"8f0f2deb56fc497e9df95cdc",
"931c9a2d3d6f492eae64a77a",
"94adcd1f5f6748cda59d13f6",
"959bfef9ec7740359a2fc892",
"9e41c7cd6c7344f2ac476d67",
"a01e6f4de48b422c93b12d30",
"a4d730ba9ed542a8b774c32a",
"a9d35909c11f4e2088258de0",
"b1ca25d59d1743d38b261668",
"b7554f8abd574792a881d5cb",
"b7cbfe9fa6824b6986f11961",
"b9a1eb0a4c5d4ed1a6f3191d",
"b9fe06644d14477fa728b736",
"baf8cd287f264b9693991d11",
"c3925021720444ef9fa48362",
"c5db7ef3aeae498db2a59caf",
"cbf93bfbb758457987a4ca7b",
"d869fc26dff64c6fbe132357",
"db2b80f3953d4d219edebb4a",
"e177642f644647f681
05-12 17:27:16.911374  1  5 StorageProvider::FileSystemDB::index::addDocument() begin
05-12 17:27:16.911405  1  5 StorageProvider::FileSystemDB::index::addDocument() args document=<{
        "document" : {
            "data" : {
                "daq" : {
                    "event_builder" : {
                        "expected_fragments_per_event" : 2, 
                        "first_fragment_receiver_rank" : 0, 
                        "fragment_receiver_count" : 2, 
                        "mpi_buffer_count" : 16, 
                        "print_event_store_stats" : true, 
                        "use_art" : true, 
                        "verbose" : false
                    }
                }
            }, 
            "metadata" : {
                "comments" : {
                    "empty" : "empty"
                }
            }, 
            "search" : [
                {
                    "name" : "find any", 
                    "query" : "not defined"
                }
            ]
        }, 
        "source" : {
            "encoding" : "base64", 
            "format" : "json", 
            "rawdata" : "as"
        }, 
        "version" : "versionA21637", 
        "configurations" : [
            {
                "name" : "notprovided", 
                "assigned" : "Thu May 12 17:27:16 2016"
            }
        ], 
        "aliases" : {
            "active" : [

            ], 
            "history" : [

            ]
        }, 
        "changelog" : "empty", 
        "bookkeeping" : {
            "isdeleted" : false, 
            "isreadonly" : true, 
            "created" : "Tue Dec 29 18:19:25 2015", 
            "updates" : [
                {
                    "addToGlobalConfig" : "Thu May 12 17:27:16 2016"
                }, 
                {
                    "setVersion" : "Thu May 12 17:27:16 2016"
                }, 
                {
                    "setConfigurableEntity" : "Thu May 12 17:27:16 2016"
                }
            ]
        }, 
        "configurable_entity" : {
            "name" : "notprovided"
        }, 
        "_id" : {
            "_oid" : "f35d80227494480993721277"
        }
    }>.
05-12 17:27:16.911418  1  5 StorageProvider::FileSystemDB::index::addDocument() args ouid=<f35d80227494480993721277>.
05-12 17:27:16.913591  1  5 StorageProvider::FileSystemDB::index::addDocument() found 9 keys.
05-12 17:27:16.913615  1  7 StorageProvider::FileSystemDB::index::_addVersion() begin
05-12 17:27:16.913623  1  7 StorageProvider::FileSystemDB::index::_addVersion() args ouid=<f35d80227494480993721277>.
05-12 17:27:16.913633  1  7 StorageProvider::FileSystemDB::index::_addVersion() args version=<versionA21637>.
05-12 17:27:16.913857  1  7 StorageProvider::FileSystemDB::index::_addConfiguration() begin
05-12 17:27:16.913867  1  7 StorageProvider::FileSystemDB::index::_addConfiguration() args ouid=<f35d80227494480993721277>.
05-12 17:27:16.913874  1  7 StorageProvider::FileSystemDB::index::_addConfiguration() args configuration=<notprovided>.
05-12 17:27:16.914007  1  7 StorageProvider::FileSystemDB::index::_addConfigurableEntity() begin
05-12 17:27:16.914018  1  7 StorageProvider::FileSystemDB::index::_addConfigurableEntity() args ouid=<f35d80227494480993721277>.
05-12 17:27:16.914027  1  7 StorageProvider::FileSystemDB::index::_addConfigurableEntity() args entity=<notprovided>.
05-12 17:27:16.914130  1  4 StorageProvider::FileSystemDB::index::_close() begin
05-12 17:27:16.921019  1  4 StorageProvider::FileSystemDB::index::_close() json=<{
"version" : {
"versionA01749" : [
"94adcd1f5f6748cda59d13f6"
],
"versionB01749" : [
"0e0fcfb7044d4e91bbdf55e4"
],
"versionC01749" : [
"c5db7ef3aeae498db2a59caf"
],
"versionA38249" : [
"290ce4a4e0e74acfba4cf107"
],
"versionB38249" : [
"b9a1eb0a4c5d4ed1a6f3191d"
],
"versionC38249" : [
"462d4002a531489a94659025"
],
"versionA65272" : [
"d869fc26dff64c6fbe132357"
],
"versionB65272" : [
"33ae84a3b7054a61b8097407"
],
"versionC65272" : [
"339f0b2d469742b487dad30a"
],
"versionA51307" : [
"8f0f2deb56fc497e9df95cdc",
"b7cbfe9fa6824b6986f11961"
],
"versionB51307" : [
"37de50d6d24f425f82438214",
"69e4ec12f4004fd78279d7a4"
],
"versionC51307" : [
"1ac8123cca4d41e18ae5469a",
"5d7e5964c8db4094951f6c1a"
],
"versionD51307" : [
"a01e6f4de48b422c93b12d30",
"cbf93bfbb758457987a4ca7b"
],
"versionA47065" : [
"760547e4ab514d93a427723d"
],
"versionB47065" : [
"028bfcd6db994914a8bcd3c0"
],
"versionC47065" : [
"a9d35909c11f4e2088258de0"
],
"versionD47065" : [
"e6970a8af1ae46cb96f3b04e"
],
"versionA92247" : [
"931c9a2d3d6f492eae64a77a"
],
"versionB92247" : [
"6b3f830500e5408aa6202838"
],
"versionC92247" : [
"0a23f9c1bbe549eaba705411"
],
"versionD92247" : [
"248c18638534478d901aab15"
],
"versionA99672" : [
"e177642f644647f681a94b6c"
],
"versionB99672" : [
"5e4cf05d610b4b2b9d3d4634"
],
"versionC99672" : [
"897b402366a64975af0e15ce"
],
"versionD99672" : [
"a4d730ba9ed542a8b774c32a"
],
"versionA66670" : [
"959bfef9ec7740359a2fc892"
],
"versionB66670" : [
"77024268186043f7b8235cd4"
],
"versionC66670" : [
"c3925021720444ef9fa48362"
],
"versionD66670" : [
"fd76d2e20794456bbe0bc0be"
],
"versionA31346" : [
"9e41c7cd6c7344f2ac476d67"
],
"versionB31346" : [
"6bf1f423713e4425b6eda75a"
],
"versionC31346" : [
"479291d726964adea0a53ed4"
],
"versionD31346" : [
"e3deafbb081b488b931e901a"
],
"versionA94231" : [
"db2b80f3953d4d219edebb4a"
],
"versionB94231" : [
"5c13c931c85d4a2f92e31337"
],
"versionC94231" : [
"48c8e3bbb25945c889814e97"
],
"versionD94231" : [
"8c743796e37f4dd4aafe2de7"
],
"versionA44404" : [
"b9fe06644d14477fa728b736"
],
"versionB44404" : [
"42244dab6a0445f1a9b2d4a4"
],
"versionC44404" : [
"30e9297b394745d4a3fa8f2d"
],
"versionD44404" : [
"b1ca25d59d1743d38b261668"
],
"versionA85525" : [
"5899f8b64221476ca2fe0254"
],
"versionB85525" : [
"0503e7681d474f648dc0f46a"
],
"versionC85525" : [
"20bc3beef6034e7bab80807a"
],
"versionD85525" : [
"0fa4e196a38c46e490fdbb75"
],
"versionA98933" : [
"5d871d9c11b34dfbb87b2587"
],
"versionB98933" : [
"baf8cd287f264b9693991d11"
],
"versionC98933" : [
"b7554f8abd574792a881d5cb"
],
"versionD98933" : [
"31d11dd8a2a4457cb83a8576"
],
"versionA21637" : [
"f35d80227494480993721277"
]
},
"configurations.name" : {
"notprovided" : [
"028bfcd6db994914a8bcd3c0",
"0503e7681d474f648dc0f46a",
"0a23f9c1bbe549eaba705411",
"0e0fcfb7044d4e91bbdf55e4",
"0fa4e196a38c46e490fdbb75",
"1ac8123cca4d41e18ae5469a",
"20bc3beef6034e7bab80807a",
"248c18638534478d901aab15",
"290ce4a4e0e74acfba4cf107",
"30e9297b394745d4a3fa8f2d",
"31d11dd8a2a4457cb83a8576",
"339f0b2d469742b487dad30a",
"33ae84a3b7054a61b8097407",
"37de50d6d24f425f82438214",
"42244dab6a0445f1a9b2d4a4",
"462d4002a531489a94659025",
"479291d726964adea0a53ed4",
"48c8e3bbb25945c889814e97",
"5899f8b64221476ca2fe0254",
"5c13c931c85d4a2f92e31337",
"5d7e5964c8db4094951f6c1a",
"5d871d9c11b34dfbb87b2587",
"5e4cf05d610b4b2b9d3d4634",
"69e4ec12f4004fd78279d7a4",
"6b3f830500e5408aa6202838",
"6bf1f423713e4425b6eda75a",
"760547e4ab514d93a427723d",
"77024268186043f7b8235cd4",
"897b402366a64975af0e15ce",
"8c743796e37f4dd4aafe2de7",
"8f0f2deb56fc497e9df95cdc",
"931c9a2d3d6f492eae64a77a",
"94adcd1f5f6748cda59d13f6",
"959bfef9ec7740359a2fc892",
"9e41c7cd6c7344f2ac476d67",
"a01e6f4de48b422c93b12d30",
"a4d730ba9ed542a8b774c32a",
"a9d35909c11f4e2088258de0",
"b1ca25d59d1743d38b261668",
"b7554f8abd574792a881d5cb",
"b7cbfe9fa6824b6986f11961",
"b9a1eb0a4c5d4ed1a6f3191d",
"b9fe06644d14477fa728b736",
"baf8cd287f264b9693991d11",
"c3925021720444ef9fa48362",
"c5db7ef3aeae498db2a59caf",
"cbf93bfbb758457987a4ca7b",
"d869fc26dff64c6fbe13235
05-12 17:27:16.921531  1  4 StorageProvider::FileSystemDB::index::_close() Closed SearchIndex.
05-12 17:27:16.921727  1 15 store_configuration: end
Parsed options:
{
"filter" : {
"version" : "versionA21637"
},
"dbprovider" : "filesystem",
"operation" : "store",
"collection" : "testLoadStore",
"dataformat" : "json"
}
Running test:<store>
returned:
{
"daq" : {
"event_builder" : {

"expected_fragments_per_event" : 2,

"first_fragment_receiver_rank" : 0,

"fragment_receiver_count" : 2,

"mpi_buffer_count" : 16,

"print_event_store_stats" : true,

"use_art" : true,

"verbose" : false
}
}
}

<end of output>
Test time =   0.12 sec
----------------------------------------------------------
Test Passed.
"LoadStore_store_filesystem_001_t" end time: May 12 17:27 CDT
"LoadStore_store_filesystem_001_t" time elapsed: 00:00:00
----------------------------------------------------------

2/28 Testing: LoadStore_store_mongo_001_t
2/28 Test: LoadStore_store_mongo_001_t
Command: "/home/lukhanin/scratch/current/artdaq-demo-base/products/cetbuildtools/v4_18_02/bin/cet_exec_test" "--wd" "/home/lukhanin/scratch/current/artdaq-demo-base/build_artdaq-utilities-database/test/ConfigurationDB/LoadStore/test001/LoadStore_store_mongo_001_t.d" "--required-files" "" "--datafiles" "/home/lukhanin/scratch/current/artdaq-demo-base/build_artdaq-utilities-database/test/ConfigurationDB/LoadStore/test001/test001.src.717.json;/home/lukhanin/scratch/current/artdaq-demo-base/build_artdaq-utilities-database/test/ConfigurationDB/LoadStore/test001/test001.cmp.717.json" "--skip-return-code" "247" "LoadStore_t" "-o" "store" "-d" "mongo" "-c" "testLoadStore" "-f" "json" "-v" "versionA21637" "-s" "test001.src.717.json" "-r" "test001.cmp.717.json"
Directory: /home/lukhanin/scratch/current/artdaq-demo-base/build_artdaq-utilities-database/test/ConfigurationDB/LoadStore/test001/LoadStore_store_mongo_001_t.d
"LoadStore_store_mongo_001_t" start time: May 12 17:27 CDT
Output:
----------------------------------------------------------
removed ‘test001.cmp.135.json’
removed ‘test001.src.135.json’
05-12 17:27:16.979414  1  0 artdaq::database::filesystem trace_enable
05-12 17:27:16.979655  1  0 artdaq::database::filesystem::index trace_enable
05-12 17:27:16.979739  1  0 artdaq::database::mongo trace_enable
05-12 17:27:16.979851  1  0 artdaq::database::configuration::LoadStoreOperation trace_enable
05-12 17:27:16.979919  1  0 artdaq::database::configuration::options::OperationBase trace_enable
05-12 17:27:16.979958  1  0 artdaq::database::configuration::options::OperationLoadStore trace_enable
05-12 17:27:16.979994  1  0 artdaq::database::configuration::LoadStoreOperationDetail trace_enable
05-12 17:27:16.982492  1 12 Options: Updating provider from filesystem to mongo.
05-12 17:27:16.982522  1 10 Options: Updating operation from load to store.
05-12 17:27:16.982536  1 14 Options: dataFormat args format=<json>.
05-12 17:27:16.982560  1 11 Options: Updating collection_name from notprovided to testLoadStore.
05-12 17:27:16.982580  1 10 Options: Updating version from notprovided to versionA21637.
05-12 17:27:16.993014  1 12 Options: Updating provider from filesystem to mongo.
05-12 17:27:16.993041  1 10 Options: Updating operation from load to store.
05-12 17:27:16.993056  1 14 Options: dataFormat args format=<json>.
05-12 17:27:16.993078  1 11 Options: Updating collection_name from notprovided to testLoadStore.
05-12 17:27:16.993231  1 15 Options: searchFilter args search_filter=<{
"version" : "versionA21637"
}>.
05-12 17:27:16.993564  1 15 Options: searchFilter args search_filter=<notprovided>.
05-12 17:27:16.993588  1 10 Options: Updating version from notprovided to versionA21637.
05-12 17:27:16.993882  1 15 store_configuration: begin
05-12 17:27:16.993923  1 15 store_configuration: json_buffer=<{"data":{
"daq" : {
"event_builder" : {

"expected_fragments_per_event" : 2,

"first_fragment_receiver_rank" : 0,

"fragment_receiver_count" : 2,

"mpi_buffer_count" : 16,

"print_event_store_stats" : true,

"use_art" : true,

"verbose" : false
}
}
}
}>
05-12 17:27:17.006534  1 15 store_configuration: insert_payload=<{"document":{
    "document" : {
        "data" : {
            "daq" : {
                "event_builder" : {
                    "expected_fragments_per_event" : 2, 
                    "first_fragment_receiver_rank" : 0, 
                    "fragment_receiver_count" : 2, 
                    "mpi_buffer_count" : 16, 
                    "print_event_store_stats" : true, 
                    "use_art" : true, 
                    "verbose" : false
                }
            }
        }, 
        "metadata" : {
            "comments" : {
                "empty" : "empty"
            }
        }, 
        "search" : [
            {
                "name" : "find any", 
                "query" : "not defined"
            }
        ]
    }, 
    "source" : {
        "encoding" : "base64", 
        "format" : "json", 
        "rawdata" : "as"
    }, 
    "version" : "versionA21637", 
    "configurations" : [
        {
            "name" : "notprovided", 
            "assigned" : "Thu May 12 17:27:17 2016"
        }
    ], 
    "aliases" : {
        "active" : [

        ], 
        "history" : [

        ]
    }, 
    "changelog" : "empty", 
    "bookkeeping" : {
        "isdeleted" : false, 
        "isreadonly" : true, 
        "created" : "Tue Dec 29 18:19:25 2015", 
        "updates" : [
            {
                "addToGlobalConfig" : "Thu May 12 17:27:17 2016"
            }, 
            {
                "setVersion" : "Thu May 12 17:27:17 2016"
            }, 
            {
                "setConfigurableEntity" : "Thu May 12 17:27:17 2016"
            }
        ]
    }, 
    "configurable_entity" : {
        "name" : "notprovided"
    }
}, "collection":"testLoadStore"}>
05-12 17:27:17.007819  1  4 StorageProvider::MongoDB::store() begin
05-12 17:27:17.008150  1  4 Search filter is missing, proceeding with insert.
05-12 17:27:17.013399  1  5 inserted_id={
    "$oid" : "573503451a72ba4ffd1c0cc1"
}
05-12 17:27:17.013698  1 15 store_configuration: end
Parsed options:
{
"filter" : {
"version" : "versionA21637"
},
"dbprovider" : "mongo",
"operation" : "store",
"collection" : "testLoadStore",
"dataformat" : "json"
}
Running test:<store>
returned:
{
"daq" : {
"event_builder" : {

"expected_fragments_per_event" : 2,

"first_fragment_receiver_rank" : 0,

"fragment_receiver_count" : 2,

"mpi_buffer_count" : 16,

"print_event_store_stats" : true,

"use_art" : true,

"verbose" : false
}
}
}

<end of output>
Test time =   0.09 sec
----------------------------------------------------------
Test Passed.
"LoadStore_store_mongo_001_t" end time: May 12 17:27 CDT
"LoadStore_store_mongo_001_t" time elapsed: 00:00:00
----------------------------------------------------------

3/28 Testing: LoadStore_load_filesystem_003_t
3/28 Test: LoadStore_load_filesystem_003_t
Command: "/home/lukhanin/scratch/current/artdaq-demo-base/products/cetbuildtools/v4_18_02/bin/cet_exec_test" "--wd" "/home/lukhanin/scratch/current/artdaq-demo-base/build_artdaq-utilities-database/test/ConfigurationDB/LoadStore/test003/LoadStore_load_filesystem_003_t.d" "--required-files" "" "--datafiles" "/home/lukhanin/scratch/current/artdaq-demo-base/build_artdaq-utilities-database/test/ConfigurationDB/LoadStore/test003/test001.cmp.826.json" "--skip-return-code" "247" "LoadStore_t" "-o" "load" "-d" "filesystem" "-c" "testLoadStore" "-f" "json" "-v" "versionA21637" "-r" "test001.cmp.826.json"
Directory: /home/lukhanin/scratch/current/artdaq-demo-base/build_artdaq-utilities-database/test/ConfigurationDB/LoadStore/test003/LoadStore_load_filesystem_003_t.d
"LoadStore_load_filesystem_003_t" start time: May 12 17:27 CDT
Output:
----------------------------------------------------------
removed ‘test001.cmp.337.json’
05-12 17:27:17.065406  1  0 artdaq::database::filesystem trace_enable
05-12 17:27:17.065576  1  0 artdaq::database::filesystem::index trace_enable
05-12 17:27:17.065643  1  0 artdaq::database::mongo trace_enable
05-12 17:27:17.065718  1  0 artdaq::database::configuration::LoadStoreOperation trace_enable
05-12 17:27:17.065770  1  0 artdaq::database::configuration::options::OperationBase trace_enable
05-12 17:27:17.065801  1  0 artdaq::database::configuration::options::OperationLoadStore trace_enable
05-12 17:27:17.065831  1  0 artdaq::database::configuration::LoadStoreOperationDetail trace_enable
05-12 17:27:17.068221  1 12 Options: Updating provider from filesystem to filesystem.
05-12 17:27:17.068254  1 10 Options: Updating operation from load to load.
05-12 17:27:17.068276  1 14 Options: dataFormat args format=<json>.
05-12 17:27:17.068308  1 11 Options: Updating collection_name from notprovided to testLoadStore.
05-12 17:27:17.068333  1 10 Options: Updating version from notprovided to versionA21637.
05-12 17:27:17.076573  1 12 Options: Updating provider from filesystem to filesystem.
05-12 17:27:17.076598  1 10 Options: Updating operation from load to load.
05-12 17:27:17.076608  1 14 Options: dataFormat args format=<json>.
05-12 17:27:17.076623  1 11 Options: Updating collection_name from notprovided to testLoadStore.
05-12 17:27:17.076777  1 15 Options: searchFilter args search_filter=<{
"version" : "versionA21637"
}>.
05-12 17:27:17.077040  1 15 Options: searchFilter args search_filter=<notprovided>.
05-12 17:27:17.077057  1 10 Options: Updating version from notprovided to versionA21637.
05-12 17:27:17.077454  1 16 load_configuration: begin
05-12 17:27:17.077753  1 16 load_configuration: search_payload=<{"filter":{
"version" : "versionA21637"
}, "collection":"testLoadStore"}>
05-12 17:27:17.078072  1  3 StorageProvider::FileSystemDB::load() begin
05-12 17:27:17.078092  1  3 StorageProvider::FileSystemDB::load() args search=<{"filter":{
"version" : "versionA21637"
}, "collection":"testLoadStore"}>
05-12 17:27:17.085402  1  3 StorageProvider::FileSystemDB::load() collection_path=<file:///home/lukhanin/databases/filesystemdb/testLoadStore/>.
05-12 17:27:17.085436  1 11 StorageProvider::FileSystemDB mkdir dir=</home/lukhanin/databases/filesystemdb/testLoadStore/>
05-12 17:27:17.085484  1 11 StorageProvider::FileSystemDB Directory exists, checking permissions; path=</home/lukhanin/databases/filesystemdb/testLoadStore/>
05-12 17:27:17.085687  1  3 StorageProvider::FileSystemDB::index::_open() begin
05-12 17:27:17.085701  1  3 StorageProvider::FileSystemDB::index::_open() args index_path=</home/lukhanin/databases/filesystemdb/testLoadStore/index.json>.
05-12 17:27:17.086244  1  3 StorageProvider::FileSystemDB::index::_open() json=<{
"version" : {
"versionA01749" : [
"94adcd1f5f6748cda59d13f6"
],
"versionB01749" : [
"0e0fcfb7044d4e91bbdf55e4"
],
"versionC01749" : [
"c5db7ef3aeae498db2a59caf"
],
"versionA38249" : [
"290ce4a4e0e74acfba4cf107"
],
"versionB38249" : [
"b9a1eb0a4c5d4ed1a6f3191d"
],
"versionC38249" : [
"462d4002a531489a94659025"
],
"versionA65272" : [
"d869fc26dff64c6fbe132357"
],
"versionB65272" : [
"33ae84a3b7054a61b8097407"
],
"versionC65272" : [
"339f0b2d469742b487dad30a"
],
"versionA51307" : [
"8f0f2deb56fc497e9df95cdc",
"b7cbfe9fa6824b6986f11961"
],
"versionB51307" : [
"37de50d6d24f425f82438214",
"69e4ec12f4004fd78279d7a4"
],
"versionC51307" : [
"1ac8123cca4d41e18ae5469a",
"5d7e5964c8db4094951f6c1a"
],
"versionD51307" : [
"a01e6f4de48b422c93b12d30",
"cbf93bfbb758457987a4ca7b"
],
"versionA47065" : [
"760547e4ab514d93a427723d"
],
"versionB47065" : [
"028bfcd6db994914a8bcd3c0"
],
"versionC47065" : [
"a9d35909c11f4e2088258de0"
],
"versionD47065" : [
"e6970a8af1ae46cb96f3b04e"
],
"versionA92247" : [
"931c9a2d3d6f492eae64a77a"
],
"versionB92247" : [
"6b3f830500e5408aa6202838"
],
"versionC92247" : [
"0a23f9c1bbe549eaba705411"
],
"versionD92247" : [
"248c18638534478d901aab15"
],
"versionA99672" : [
"e177642f644647f681a94b6c"
],
"versionB99672" : [
"5e4cf05d610b4b2b9d3d4634"
],
"versionC99672" : [
"897b402366a64975af0e15ce"
],
"versionD99672" : [
"a4d730ba9ed542a8b774c32a"
],
"versionA66670" : [
"959bfef9ec7740359a2fc892"
],
"versionB66670" : [
"77024268186043f7b8235cd4"
],
"versionC66670" : [
"c3925021720444ef9fa48362"
],
"versionD66670" : [
"fd76d2e20794456bbe0bc0be"
],
"versionA31346" : [
"9e41c7cd6c7344f2ac476d67"
],
"versionB31346" : [
"6bf1f423713e4425b6eda75a"
],
"versionC31346" : [
"479291d726964adea0a53ed4"
],
"versionD31346" : [
"e3deafbb081b488b931e901a"
],
"versionA94231" : [
"db2b80f3953d4d219edebb4a"
],
"versionB94231" : [
"5c13c931c85d4a2f92e31337"
],
"versionC94231" : [
"48c8e3bbb25945c889814e97"
],
"versionD94231" : [
"8c743796e37f4dd4aafe2de7"
],
"versionA44404" : [
"b9fe06644d14477fa728b736"
],
"versionB44404" : [
"42244dab6a0445f1a9b2d4a4"
],
"versionC44404" : [
"30e9297b394745d4a3fa8f2d"
],
"versionD44404" : [
"b1ca25d59d1743d38b261668"
],
"versionA85525" : [
"5899f8b64221476ca2fe0254"
],
"versionB85525" : [
"0503e7681d474f648dc0f46a"
],
"versionC85525" : [
"20bc3beef6034e7bab80807a"
],
"versionD85525" : [
"0fa4e196a38c46e490fdbb75"
],
"versionA98933" : [
"5d871d9c11b34dfbb87b2587"
],
"versionB98933" : [
"baf8cd287f264b9693991d11"
],
"versionC98933" : [
"b7554f8abd574792a881d5cb"
],
"versionD98933" : [
"31d11dd8a2a4457cb83a8576"
],
"versionA21637" : [
"f35d80227494480993721277"
]
},
"configurations.name" : {
"notprovided" : [
"028bfcd6db994914a8bcd3c0",
"0503e7681d474f648dc0f46a",
"0a23f9c1bbe549eaba705411",
"0e0fcfb7044d4e91bbdf55e4",
"0fa4e196a38c46e490fdbb75",
"1ac8123cca4d41e18ae5469a",
"20bc3beef6034e7bab80807a",
"248c18638534478d901aab15",
"290ce4a4e0e74acfba4cf107",
"30e9297b394745d4a3fa8f2d",
"31d11dd8a2a4457cb83a8576",
"339f0b2d469742b487dad30a",
"33ae84a3b7054a61b8097407",
"37de50d6d24f425f82438214",
"42244dab6a0445f1a9b2d4a4",
"462d4002a531489a94659025",
"479291d726964adea0a53ed4",
"48c8e3bbb25945c889814e97",
"5899f8b64221476ca2fe0254",
"5c13c931c85d4a2f92e31337",
"5d7e5964c8db4094951f6c1a",
"5d871d9c11b34dfbb87b2587",
"5e4cf05d610b4b2b9d3d4634",
"69e4ec12f4004fd78279d7a4",
"6b3f830500e5408aa6202838",
"6bf1f423713e4425b6eda75a",
"760547e4ab514d93a427723d",
"77024268186043f7b8235cd4",
"897b402366a64975af0e15ce",
"8c743796e37f4dd4aafe2de7",
"8f0f2deb56fc497e9df95cdc",
"931c9a2d3d6f492eae64a77a",
"94adcd1f5f6748cda59d13f6",
"959bfef9ec7740359a2fc892",
"9e41c7cd6c7344f2ac476d67",
"a01e6f4de48b422c93b12d30",
"a4d730ba9ed542a8b774c32a",
"a9d35909c11f4e2088258de0",
"b1ca25d59d1743d38b261668",
"b7554f8abd574792a881d5cb",
"b7cbfe9fa6824b6986f11961",
"b9a1eb0a4c5d4ed1a6f3191d",
"b9fe06644d14477fa728b736",
"baf8cd287f264b9693991d11",
"c3925021720444ef9fa48362",
"c5db7ef3aeae498db2a59caf",
"cbf93bfbb758457987a4ca7b",
"d869fc26dff64c6fbe132357
05-12 17:27:17.092193  1  2 StorageProvider::FileSystemDB::index::findDocumentIDs() begin
05-12 17:27:17.092205  1  2 StorageProvider::FileSystemDB::index::findDocumentIDs() args search=<{
        "version" : "versionA21637"
    }>.
05-12 17:27:17.092337  1  5 StorageProvider::FileSystemDB::index::findDocumentIDs() found 1 search criteria.
05-12 17:27:17.092529  1 14 StorageProvider::FileSystemDB::index::_matchVersion() begin
05-12 17:27:17.092539  1 14 StorageProvider::FileSystemDB::index::_matchVersion() args version=<versionA21637>.
05-12 17:27:17.092592  1 15 StorageProvider::FileSystemDB::index::_matchConfiguration() Found 1 documents where version=versionA21637
05-12 17:27:17.092651  1  3 StorageProvider::FileSystemDB::load() search returned 1 documents.
05-12 17:27:17.092803  1  3 StorageProvider::FileSystemDB::load() reading document </home/lukhanin/databases/filesystemdb/testLoadStore/f35d80227494480993721277.json>.
05-12 17:27:17.093023  1  4 StorageProvider::FileSystemDB::index::_close() begin
05-12 17:27:17.099633  1  4 StorageProvider::FileSystemDB::index::_close() json=<{
"version" : {
"versionA01749" : [
"94adcd1f5f6748cda59d13f6"
],
"versionB01749" : [
"0e0fcfb7044d4e91bbdf55e4"
],
"versionC01749" : [
"c5db7ef3aeae498db2a59caf"
],
"versionA38249" : [
"290ce4a4e0e74acfba4cf107"
],
"versionB38249" : [
"b9a1eb0a4c5d4ed1a6f3191d"
],
"versionC38249" : [
"462d4002a531489a94659025"
],
"versionA65272" : [
"d869fc26dff64c6fbe132357"
],
"versionB65272" : [
"33ae84a3b7054a61b8097407"
],
"versionC65272" : [
"339f0b2d469742b487dad30a"
],
"versionA51307" : [
"8f0f2deb56fc497e9df95cdc",
"b7cbfe9fa6824b6986f11961"
],
"versionB51307" : [
"37de50d6d24f425f82438214",
"69e4ec12f4004fd78279d7a4"
],
"versionC51307" : [
"1ac8123cca4d41e18ae5469a",
"5d7e5964c8db4094951f6c1a"
],
"versionD51307" : [
"a01e6f4de48b422c93b12d30",
"cbf93bfbb758457987a4ca7b"
],
"versionA47065" : [
"760547e4ab514d93a427723d"
],
"versionB47065" : [
"028bfcd6db994914a8bcd3c0"
],
"versionC47065" : [
"a9d35909c11f4e2088258de0"
],
"versionD47065" : [
"e6970a8af1ae46cb96f3b04e"
],
"versionA92247" : [
"931c9a2d3d6f492eae64a77a"
],
"versionB92247" : [
"6b3f830500e5408aa6202838"
],
"versionC92247" : [
"0a23f9c1bbe549eaba705411"
],
"versionD92247" : [
"248c18638534478d901aab15"
],
"versionA99672" : [
"e177642f644647f681a94b6c"
],
"versionB99672" : [
"5e4cf05d610b4b2b9d3d4634"
],
"versionC99672" : [
"897b402366a64975af0e15ce"
],
"versionD99672" : [
"a4d730ba9ed542a8b774c32a"
],
"versionA66670" : [
"959bfef9ec7740359a2fc892"
],
"versionB66670" : [
"77024268186043f7b8235cd4"
],
"versionC66670" : [
"c3925021720444ef9fa48362"
],
"versionD66670" : [
"fd76d2e20794456bbe0bc0be"
],
"versionA31346" : [
"9e41c7cd6c7344f2ac476d67"
],
"versionB31346" : [
"6bf1f423713e4425b6eda75a"
],
"versionC31346" : [
"479291d726964adea0a53ed4"
],
"versionD31346" : [
"e3deafbb081b488b931e901a"
],
"versionA94231" : [
"db2b80f3953d4d219edebb4a"
],
"versionB94231" : [
"5c13c931c85d4a2f92e31337"
],
"versionC94231" : [
"48c8e3bbb25945c889814e97"
],
"versionD94231" : [
"8c743796e37f4dd4aafe2de7"
],
"versionA44404" : [
"b9fe06644d14477fa728b736"
],
"versionB44404" : [
"42244dab6a0445f1a9b2d4a4"
],
"versionC44404" : [
"30e9297b394745d4a3fa8f2d"
],
"versionD44404" : [
"b1ca25d59d1743d38b261668"
],
"versionA85525" : [
"5899f8b64221476ca2fe0254"
],
"versionB85525" : [
"0503e7681d474f648dc0f46a"
],
"versionC85525" : [
"20bc3beef6034e7bab80807a"
],
"versionD85525" : [
"0fa4e196a38c46e490fdbb75"
],
"versionA98933" : [
"5d871d9c11b34dfbb87b2587"
],
"versionB98933" : [
"baf8cd287f264b9693991d11"
],
"versionC98933" : [
"b7554f8abd574792a881d5cb"
],
"versionD98933" : [
"31d11dd8a2a4457cb83a8576"
],
"versionA21637" : [
"f35d80227494480993721277"
]
},
"configurations.name" : {
"notprovided" : [
"028bfcd6db994914a8bcd3c0",
"0503e7681d474f648dc0f46a",
"0a23f9c1bbe549eaba705411",
"0e0fcfb7044d4e91bbdf55e4",
"0fa4e196a38c46e490fdbb75",
"1ac8123cca4d41e18ae5469a",
"20bc3beef6034e7bab80807a",
"248c18638534478d901aab15",
"290ce4a4e0e74acfba4cf107",
"30e9297b394745d4a3fa8f2d",
"31d11dd8a2a4457cb83a8576",
"339f0b2d469742b487dad30a",
"33ae84a3b7054a61b8097407",
"37de50d6d24f425f82438214",
"42244dab6a0445f1a9b2d4a4",
"462d4002a531489a94659025",
"479291d726964adea0a53ed4",
"48c8e3bbb25945c889814e97",
"5899f8b64221476ca2fe0254",
"5c13c931c85d4a2f92e31337",
"5d7e5964c8db4094951f6c1a",
"5d871d9c11b34dfbb87b2587",
"5e4cf05d610b4b2b9d3d4634",
"69e4ec12f4004fd78279d7a4",
"6b3f830500e5408aa6202838",
"6bf1f423713e4425b6eda75a",
"760547e4ab514d93a427723d",
"77024268186043f7b8235cd4",
"897b402366a64975af0e15ce",
"8c743796e37f4dd4aafe2de7",
"8f0f2deb56fc497e9df95cdc",
"931c9a2d3d6f492eae64a77a",
"94adcd1f5f6748cda59d13f6",
"959bfef9ec7740359a2fc892",
"9e41c7cd6c7344f2ac476d67",
"a01e6f4de48b422c93b12d30",
"a4d730ba9ed542a8b774c32a",
"a9d35909c11f4e2088258de0",
"b1ca25d59d1743d38b261668",
"b7554f8abd574792a881d5cb",
"b7cbfe9fa6824b6986f11961",
"b9a1eb0a4c5d4ed1a6f3191d",
"b9fe06644d14477fa728b736",
"baf8cd287f264b9693991d11",
"c3925021720444ef9fa48362",
"c5db7ef3aeae498db2a59caf",
"cbf93bfbb758457987a4ca7b",
"d869fc26dff64c6fbe13235
05-12 17:27:17.100012  1  4 StorageProvider::FileSystemDB::index::_close() Closed SearchIndex.
05-12 17:27:17.102803  1 15 load_configuration: end
Parsed options:
{
"filter" : {
"version" : "versionA21637"
},
"dbprovider" : "filesystem",
"operation" : "load",
"collection" : "testLoadStore",
"dataformat" : "json"
}
Running test:<load>
returned:
{
"daq" : {
"event_builder" : {
"expected_fragments_per_event" : 2,
"first_fragment_receiver_rank" : 0,
"fragment_receiver_count" : 2,
"mpi_buffer_count" : 16,
"print_event_store_stats" : true,
"use_art" : true,
"verbose" : false
}
}
}
<end of output>
Test time =   0.09 sec
----------------------------------------------------------
Test Passed.
"LoadStore_load_filesystem_003_t" end time: May 12 17:27 CDT
"LoadStore_load_filesystem_003_t" time elapsed: 00:00:00
----------------------------------------------------------

4/28 Testing: LoadStore_load_mongo_003_t
4/28 Test: LoadStore_load_mongo_003_t
Command: "/home/lukhanin/scratch/current/artdaq-demo-base/products/cetbuildtools/v4_18_02/bin/cet_exec_test" "--wd" "/home/lukhanin/scratch/current/artdaq-demo-base/build_artdaq-utilities-database/test/ConfigurationDB/LoadStore/test003/LoadStore_load_mongo_003_t.d" "--required-files" "" "--datafiles" "/home/lukhanin/scratch/current/artdaq-demo-base/build_artdaq-utilities-database/test/ConfigurationDB/LoadStore/test003/test001.cmp.697.json" "--skip-return-code" "247" "LoadStore_t" "-o" "load" "-d" "mongo" "-c" "testLoadStore" "-f" "json" "-v" "versionA21637" "-r" "test001.cmp.697.json"
Directory: /home/lukhanin/scratch/current/artdaq-demo-base/build_artdaq-utilities-database/test/ConfigurationDB/LoadStore/test003/LoadStore_load_mongo_003_t.d
"LoadStore_load_mongo_003_t" start time: May 12 17:27 CDT
Output:
----------------------------------------------------------
removed ‘test001.cmp.360.json’
05-12 17:27:17.150004  1  0 artdaq::database::filesystem trace_enable
05-12 17:27:17.150174  1  0 artdaq::database::filesystem::index trace_enable
05-12 17:27:17.150258  1  0 artdaq::database::mongo trace_enable
05-12 17:27:17.150346  1  0 artdaq::database::configuration::LoadStoreOperation trace_enable
05-12 17:27:17.150411  1  0 artdaq::database::configuration::options::OperationBase trace_enable
05-12 17:27:17.150457  1  0 artdaq::database::configuration::options::OperationLoadStore trace_enable
05-12 17:27:17.150498  1  0 artdaq::database::configuration::LoadStoreOperationDetail trace_enable
05-12 17:27:17.152835  1 12 Options: Updating provider from filesystem to mongo.
05-12 17:27:17.152862  1 10 Options: Updating operation from load to load.
05-12 17:27:17.152875  1 14 Options: dataFormat args format=<json>.
05-12 17:27:17.152893  1 11 Options: Updating collection_name from notprovided to testLoadStore.
05-12 17:27:17.152911  1 10 Options: Updating version from notprovided to versionA21637.
05-12 17:27:17.161349  1 12 Options: Updating provider from filesystem to mongo.
05-12 17:27:17.161372  1 10 Options: Updating operation from load to load.
05-12 17:27:17.161384  1 14 Options: dataFormat args format=<json>.
05-12 17:27:17.161398  1 11 Options: Updating collection_name from notprovided to testLoadStore.
05-12 17:27:17.161526  1 15 Options: searchFilter args search_filter=<{
"version" : "versionA21637"
}>.
05-12 17:27:17.161753  1 15 Options: searchFilter args search_filter=<notprovided>.
05-12 17:27:17.161769  1 10 Options: Updating version from notprovided to versionA21637.
05-12 17:27:17.162013  1 16 load_configuration: begin
05-12 17:27:17.162220  1 16 load_configuration: search_payload=<{"filter":{
"version" : "versionA21637"
}, "collection":"testLoadStore"}>
05-12 17:27:17.163543  1  3 StorageProvider::MongoDB::load() begin
05-12 17:27:17.163588  1  3 StorageProvider::MongoDB::load() args search=<{"filter":{
"version" : "versionA21637"
}, "collection":"testLoadStore"}>
05-12 17:27:17.164906  1  3 StorageProvider::MongoDB::load() user provided filter=<{
    "version" : "versionA21637"
}>
05-12 17:27:17.165033  1  2 search filter=<{
    "version" : "versionA21637"
}>
05-12 17:27:17.167356  1  3 found_count=1
05-12 17:27:17.172608  1 15 load_configuration: end
Parsed options:
{
"filter" : {
"version" : "versionA21637"
},
"dbprovider" : "mongo",
"operation" : "load",
"collection" : "testLoadStore",
"dataformat" : "json"
}
Running test:<load>
returned:
{
"daq" : {
"event_builder" : {
"expected_fragments_per_event" : 2,
"first_fragment_receiver_rank" : 0,
"fragment_receiver_count" : 2,
"mpi_buffer_count" : 16,
"print_event_store_stats" : true,
"use_art" : true,
"verbose" : false
}
}
}
<end of output>
Test time =   0.07 sec
----------------------------------------------------------
Test Passed.
"LoadStore_load_mongo_003_t" end time: May 12 17:27 CDT
"LoadStore_load_mongo_003_t" time elapsed: 00:00:00
----------------------------------------------------------

5/28 Testing: LoadStore_store_filesystem_002_t
5/28 Test: LoadStore_store_filesystem_002_t
Command: "/home/lukhanin/scratch/current/artdaq-demo-base/products/cetbuildtools/v4_18_02/bin/cet_exec_test" "--wd" "/home/lukhanin/scratch/current/artdaq-demo-base/build_artdaq-utilities-database/test/ConfigurationDB/LoadStore/test002/LoadStore_store_filesystem_002_t.d" "--required-files" "" "--datafiles" "/home/lukhanin/scratch/current/artdaq-demo-base/build_artdaq-utilities-database/test/ConfigurationDB/LoadStore/test002/test001.src.719.fcl;/home/lukhanin/scratch/current/artdaq-demo-base/build_artdaq-utilities-database/test/ConfigurationDB/LoadStore/test002/test001.cmp.719.fcl" "--skip-return-code" "247" "LoadStore_t" "-o" "store" "-d" "filesystem" "-c" "testLoadStore" "-f" "fhicl" "-v" "versionB21637" "-s" "test001.src.719.fcl" "-r" "test001.cmp.719.fcl"
Directory: /home/lukhanin/scratch/current/artdaq-demo-base/build_artdaq-utilities-database/test/ConfigurationDB/LoadStore/test002/LoadStore_store_filesystem_002_t.d
"LoadStore_store_filesystem_002_t" start time: May 12 17:27 CDT
Output:
----------------------------------------------------------
removed ‘test001.cmp.459.fcl’
removed ‘test001.src.459.fcl’
05-12 17:27:17.221107  1  0 artdaq::database::filesystem trace_enable
05-12 17:27:17.221265  1  0 artdaq::database::filesystem::index trace_enable
05-12 17:27:17.221324  1  0 artdaq::database::mongo trace_enable
05-12 17:27:17.221393  1  0 artdaq::database::configuration::LoadStoreOperation trace_enable
05-12 17:27:17.221437  1  0 artdaq::database::configuration::options::OperationBase trace_enable
05-12 17:27:17.221466  1  0 artdaq::database::configuration::options::OperationLoadStore trace_enable
05-12 17:27:17.221494  1  0 artdaq::database::configuration::LoadStoreOperationDetail trace_enable
05-12 17:27:17.223463  1 12 Options: Updating provider from filesystem to filesystem.
05-12 17:27:17.223484  1 10 Options: Updating operation from load to store.
05-12 17:27:17.223498  1 14 Options: dataFormat args format=<fhicl>.
05-12 17:27:17.223515  1 11 Options: Updating collection_name from notprovided to testLoadStore.
05-12 17:27:17.223530  1 10 Options: Updating version from notprovided to versionB21637.
05-12 17:27:17.231208  1 12 Options: Updating provider from filesystem to filesystem.
05-12 17:27:17.231235  1 10 Options: Updating operation from load to store.
05-12 17:27:17.231246  1 14 Options: dataFormat args format=<fhicl>.
05-12 17:27:17.231257  1 11 Options: Updating collection_name from notprovided to testLoadStore.
05-12 17:27:17.231380  1 15 Options: searchFilter args search_filter=<{
"version" : "versionB21637"
}>.
05-12 17:27:17.231614  1 15 Options: searchFilter args search_filter=<notprovided>.
05-12 17:27:17.231628  1 10 Options: Updating version from notprovided to versionB21637.
05-12 17:27:17.231880  1 15 store_configuration: begin
05-12 17:27:17.366537  1 17 store_configuration: Converted json data to fcl; json=<{
"document" : {
"data" : {
"prolog" : {

},
"main" : {
"services" : {
"scheduler" : {
"fileMode" : "NOMERGE"
},
"NetMonTransportServiceInterface" : {
"service_provider" : "NetMonTransportService",
"max_fragment_size_words" : 2097152
}
},
"daq" : {
"max_fragment_size_words" : 2097152,
"aggregator" : {
"mpi_buffer_count" : 8,
"first_event_builder_rank" : 2,
"event_builder_count" : 2,
"expected_events_per_bunch" : 1,
"print_event_store_stats" : true,
"event_queue_depth" : 20,
"event_queue_wait_time" : 5,
"onmon_event_prescale" : 1,
"xmlrpc_client_list" : ";http://topol.fnal.gov:5205/RPC2,3;http://topol.fnal.gov:5206/RPC2,3;http://topol.fnal.gov:5235/RPC2,4;http://topol.fnal.gov:5236/RPC2,4;http://topol.fnal.gov:5265/RPC2,5;http://topol.fnal.gov:5266/RPC2,5",
"file_size_MB" : 8000,
"file_duration" : 0,
"file_event_count" : 0
},
"metrics" : {
"aggFile" : {
"metricPluginType" : "file",
"level" : 3,
"fileName" : "/tmp/aggregator/agg_%UID%_metrics.log",
"uniquify" : true
}
}
},
"source" : {
"module_type" : "NetMonInput"
},
"outputs" : {
"normalOutputMod2" : {
"module_type" : "RootOutput",
"fileName" : "/tmp/artdaqdemo_r%06r_sr%02s_%to_mod2.root",
"SelectEvents" : {
"SelectEvents" : [
"pmod2"
]
},
"compressionLevel" : 0
},
"normalOutputMod3" : {
"module_type" : "RootOutput",
"fileName" : "/tmp/artdaqdemo_r%06r_sr%02s_%to_mod3.root",
"SelectEvents" : {
"SelectEvents" : [
"pmod3"
]
},
"compressionLevel" : 0
}
},
"physics" : {
"analyzers" : {

},
"producers" : {
"BuildInfo" : {
"module_type" : "ArtdaqDemoBuildInfo",
"instance_name" : "ArtdaqDemo"
}
},
"filters" : {
"prescaleMod2" : {
"module_type" : "NthEvent",
"nth" : 2
},
"prescaleMod3" : {
"module_type" : "NthEvent",
"nth" : 3
}
},
"p1" : [

],
"p2" : [
"BuildInfo"
],
"pmod2" : [
"prescaleMod2"
],
"pmod3" : [
"prescaleMod3"
],
"my_output_modules" : [
"normalOutputMod2",
"normalOutputMod3"
]
},
"process_name" : "DAQAG"
}
},
"metadata" : {
"prolog" : {

},
"main" : {
"services" : {
"type" : "table",
"comment" : " ",
"children" : {
"scheduler" : {
"type" : "table",
"comment" : " ",
"children" : {
"fileMode" : {
"type" : "string",
"comment" : " ",
"annotation" : " "
}
}
},
"NetMonTransportServiceInterface" : {
"type" : "table",
"comment" : " ",
"children" : {
"service_provider" : {
"type" : "string",
"comment" : " ",
"annotation" : " "
},
"max_fragment_size_words" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
}
}
}
}
},
"daq" : {
"type" : "table",
"comment" : " ",
"children" : {
"max_fragment_size_words" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"aggregator" : {
"type" : "table",
"comment" : " ",
"children" : {
"mpi_buffer_count" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"first_event_builder_rank" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"event_builder_count" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"expected_events_per_bunch" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"print_event_store_stats" : {
"type" : "bool",
"comment" : " ",
"annotation" : " "
},
"event_queue_depth" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"event_queue_wait_time" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"onmon_event_prescale" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"xmlrpc_client_list" : {
"type" : "string",
"comment" : " ",
"annotation" : " "
},
"file_size_MB" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"file_duration" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"file_event_count" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
}
}
},
"metrics" : {
"type" : "table",
"comment" : " ",
"children" : {
"aggFile" : {
"type" : "table",
"comment" : " ",
"children" : {
"metricPluginType" : {
"type" : "string",
"comment" : " ",
"annotation" : " "
},
"level" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"fileName" : {
"type" : "string",
"comment" : " ",
"annotation" : " "
},
"uniquify" : {
"type" : "
05-12 17:27:17.366591  1 17 store_configuration: Converted json data to fcl; fcl=< 
services: {
 
scheduler: {
 
fileMode: NOMERGE  

} 
NetMonTransportServiceInterface: {
 
service_provider: NetMonTransportService  
 
max_fragment_size_words: 2097152  

}
} 
daq: {
 
max_fragment_size_words: 2097152  
 
aggregator: {
 
mpi_buffer_count: 8  
 
first_event_builder_rank: 2  
 
event_builder_count: 2  
 
expected_events_per_bunch: 1  
 
print_event_store_stats: true  
 
event_queue_depth: 20  
 
event_queue_wait_time: 5  
 
onmon_event_prescale: 1  
 
xmlrpc_client_list: ";http://topol.fnal.gov:5205/RPC2,3;http://topol.fnal.gov:5206/RPC2,3;http://topol.fnal.gov:5235/RPC2,4;http://topol.fnal.gov:5236/RPC2,4;http://topol.fnal.gov:5265/RPC2,5;http://topol.fnal.gov:5266/RPC2,5"  
 
file_size_MB: 8000  
 
file_duration: 0  
 
file_event_count: 0  

} 
metrics: {
 
aggFile: {
 
metricPluginType: file  
 
level: 3  
 
fileName: "/tmp/aggregator/agg_%UID%_metrics.log"  
 
uniquify: true  

}
}
} 
source: {
 
module_type: NetMonInput  

} 
outputs: {
 
normalOutputMod2: {
 
module_type: RootOutput  
 
fileName: "/tmp/artdaqdemo_r%06r_sr%02s_%to_mod2.root"  
 
SelectEvents: {
 
SelectEvents: [pmod2]  

} 
compressionLevel: 0  

} 
normalOutputMod3: {
 
module_type: RootOutput  
 
fileName: "/tmp/artdaqdemo_r%06r_sr%02s_%to_mod3.root"  
 
SelectEvents: {
 
SelectEvents: [pmod3]  

} 
compressionLevel: 0  

}
} 
physics: {
 
analyzers: {

} 
producers: {
 
BuildInfo: {
 
module_type: ArtdaqDemoBuildInfo  
 
instance_name: ArtdaqDemo  

}
} 
filters: {
 
prescaleMod2: {
 
module_type: NthEvent  
 
nth: 2  

} 
prescaleMod3: {
 
module_type: NthEvent  
 
nth: 3  

}
} 
p1: []  
 
p2: [BuildInfo]  
 
pmod2: [prescaleMod2]  
 
pmod3: [prescaleMod3]  
#my_output_modules: [ normalOutput ]
my_output_modules: [normalOutputMod2, normalOutputMod3]  

} 
process_name: DAQAG  
>
05-12 17:27:17.366624  1 15 store_configuration: json_buffer=<{
"document" : {
"data" : {
"prolog" : {

},
"main" : {
"services" : {
"scheduler" : {
"fileMode" : "NOMERGE"
},
"NetMonTransportServiceInterface" : {
"service_provider" : "NetMonTransportService",
"max_fragment_size_words" : 2097152
}
},
"daq" : {
"max_fragment_size_words" : 2097152,
"aggregator" : {
"mpi_buffer_count" : 8,
"first_event_builder_rank" : 2,
"event_builder_count" : 2,
"expected_events_per_bunch" : 1,
"print_event_store_stats" : true,
"event_queue_depth" : 20,
"event_queue_wait_time" : 5,
"onmon_event_prescale" : 1,
"xmlrpc_client_list" : ";http://topol.fnal.gov:5205/RPC2,3;http://topol.fnal.gov:5206/RPC2,3;http://topol.fnal.gov:5235/RPC2,4;http://topol.fnal.gov:5236/RPC2,4;http://topol.fnal.gov:5265/RPC2,5;http://topol.fnal.gov:5266/RPC2,5",
"file_size_MB" : 8000,
"file_duration" : 0,
"file_event_count" : 0
},
"metrics" : {
"aggFile" : {
"metricPluginType" : "file",
"level" : 3,
"fileName" : "/tmp/aggregator/agg_%UID%_metrics.log",
"uniquify" : true
}
}
},
"source" : {
"module_type" : "NetMonInput"
},
"outputs" : {
"normalOutputMod2" : {
"module_type" : "RootOutput",
"fileName" : "/tmp/artdaqdemo_r%06r_sr%02s_%to_mod2.root",
"SelectEvents" : {
"SelectEvents" : [
"pmod2"
]
},
"compressionLevel" : 0
},
"normalOutputMod3" : {
"module_type" : "RootOutput",
"fileName" : "/tmp/artdaqdemo_r%06r_sr%02s_%to_mod3.root",
"SelectEvents" : {
"SelectEvents" : [
"pmod3"
]
},
"compressionLevel" : 0
}
},
"physics" : {
"analyzers" : {

},
"producers" : {
"BuildInfo" : {
"module_type" : "ArtdaqDemoBuildInfo",
"instance_name" : "ArtdaqDemo"
}
},
"filters" : {
"prescaleMod2" : {
"module_type" : "NthEvent",
"nth" : 2
},
"prescaleMod3" : {
"module_type" : "NthEvent",
"nth" : 3
}
},
"p1" : [

],
"p2" : [
"BuildInfo"
],
"pmod2" : [
"prescaleMod2"
],
"pmod3" : [
"prescaleMod3"
],
"my_output_modules" : [
"normalOutputMod2",
"normalOutputMod3"
]
},
"process_name" : "DAQAG"
}
},
"metadata" : {
"prolog" : {

},
"main" : {
"services" : {
"type" : "table",
"comment" : " ",
"children" : {
"scheduler" : {
"type" : "table",
"comment" : " ",
"children" : {
"fileMode" : {
"type" : "string",
"comment" : " ",
"annotation" : " "
}
}
},
"NetMonTransportServiceInterface" : {
"type" : "table",
"comment" : " ",
"children" : {
"service_provider" : {
"type" : "string",
"comment" : " ",
"annotation" : " "
},
"max_fragment_size_words" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
}
}
}
}
},
"daq" : {
"type" : "table",
"comment" : " ",
"children" : {
"max_fragment_size_words" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"aggregator" : {
"type" : "table",
"comment" : " ",
"children" : {
"mpi_buffer_count" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"first_event_builder_rank" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"event_builder_count" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"expected_events_per_bunch" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"print_event_store_stats" : {
"type" : "bool",
"comment" : " ",
"annotation" : " "
},
"event_queue_depth" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"event_queue_wait_time" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"onmon_event_prescale" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"xmlrpc_client_list" : {
"type" : "string",
"comment" : " ",
"annotation" : " "
},
"file_size_MB" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"file_duration" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"file_event_count" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
}
}
},
"metrics" : {
"type" : "table",
"comment" : " ",
"children" : {
"aggFile" : {
"type" : "table",
"comment" : " ",
"children" : {
"metricPluginType" : {
"type" : "string",
"comment" : " ",
"annotation" : " "
},
"level" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"fileName" : {
"type" : "string",
"comment" : " ",
"annotation" : " "
},
"uniquify" : {
"type" : "bool",
"comment" : " 
05-12 17:27:17.382487  1 15 store_configuration: insert_payload=<{"document":{
    "document" : {
        "data" : {
            "prolog" : {

            }, 
            "main" : {
                "services" : {
                    "scheduler" : {
                        "fileMode" : "NOMERGE"
                    }, 
                    "NetMonTransportServiceInterface" : {
                        "service_provider" : "NetMonTransportService", 
                        "max_fragment_size_words" : 2097152
                    }
                }, 
                "daq" : {
                    "max_fragment_size_words" : 2097152, 
                    "aggregator" : {
                        "mpi_buffer_count" : 8, 
                        "first_event_builder_rank" : 2, 
                        "event_builder_count" : 2, 
                        "expected_events_per_bunch" : 1, 
                        "print_event_store_stats" : true, 
                        "event_queue_depth" : 20, 
                        "event_queue_wait_time" : 5, 
                        "onmon_event_prescale" : 1, 
                        "xmlrpc_client_list" : ";http://topol.fnal.gov:5205/RPC2,3;http://topol.fnal.gov:5206/RPC2,3;http://topol.fnal.gov:5235/RPC2,4;http://topol.fnal.gov:5236/RPC2,4;http://topol.fnal.gov:5265/RPC2,5;http://topol.fnal.gov:5266/RPC2,5", 
                        "file_size_MB" : 8000, 
                        "file_duration" : 0, 
                        "file_event_count" : 0
                    }, 
                    "metrics" : {
                        "aggFile" : {
                            "metricPluginType" : "file", 
                            "level" : 3, 
                            "fileName" : "/tmp/aggregator/agg_%UID%_metrics.log", 
                            "uniquify" : true
                        }
                    }
                }, 
                "source" : {
                    "module_type" : "NetMonInput"
                }, 
                "outputs" : {
                    "normalOutputMod2" : {
                        "module_type" : "RootOutput", 
                        "fileName" : "/tmp/artdaqdemo_r%06r_sr%02s_%to_mod2.root", 
                        "SelectEvents" : {
                            "SelectEvents" : [
                                "pmod2"
                            ]
                        }, 
                        "compressionLevel" : 0
                    }, 
                    "normalOutputMod3" : {
                        "module_type" : "RootOutput", 
                        "fileName" : "/tmp/artdaqdemo_r%06r_sr%02s_%to_mod3.root", 
                        "SelectEvents" : {
                            "SelectEvents" : [
                                "pmod3"
                            ]
                        }, 
                        "compressionLevel" : 0
                    }
                }, 
                "physics" : {
                    "analyzers" : {

                    }, 
                    "producers" : {
                        "BuildInfo" : {
                            "module_type" : "ArtdaqDemoBuildInfo", 
                            "instance_name" : "ArtdaqDemo"
                        }
                    }, 
                    "filters" : {
                        "prescaleMod2" : {
                            "module_type" : "NthEvent", 
                            "nth" : 2
                        }, 
                        "prescaleMod3" : {
                            "module_type" : "NthEvent", 
                            "nth" : 3
                        }
                    }, 
                    "p1" : [

                    ], 
                    "p2" : [
                        "BuildInfo"
                    ], 
                    "pmod2" : [
                        "prescaleMod2"
                    ], 
                    "pmod3" : [
                        "prescaleMod3"
                    ], 
                    "my_output_modules" : [
                        "normalOutputMod2", 
                
05-12 17:27:17.382827  1  4 StorageProvider::FileSystemDB::store() begin
05-12 17:27:17.382912  1  4 StorageProvider::FileSystemDB::store() args data=<{"document":{
    "document" : {
        "data" : {
            "prolog" : {

            }, 
            "main" : {
                "services" : {
                    "scheduler" : {
                        "fileMode" : "NOMERGE"
                    }, 
                    "NetMonTransportServiceInterface" : {
                        "service_provider" : "NetMonTransportService", 
                        "max_fragment_size_words" : 2097152
                    }
                }, 
                "daq" : {
                    "max_fragment_size_words" : 2097152, 
                    "aggregator" : {
                        "mpi_buffer_count" : 8, 
                        "first_event_builder_rank" : 2, 
                        "event_builder_count" : 2, 
                        "expected_events_per_bunch" : 1, 
                        "print_event_store_stats" : true, 
                        "event_queue_depth" : 20, 
                        "event_queue_wait_time" : 5, 
                        "onmon_event_prescale" : 1, 
                        "xmlrpc_client_list" : ";http://topol.fnal.gov:5205/RPC2,3;http://topol.fnal.gov:5206/RPC2,3;http://topol.fnal.gov:5235/RPC2,4;http://topol.fnal.gov:5236/RPC2,4;http://topol.fnal.gov:5265/RPC2,5;http://topol.fnal.gov:5266/RPC2,5", 
                        "file_size_MB" : 8000, 
                        "file_duration" : 0, 
                        "file_event_count" : 0
                    }, 
                    "metrics" : {
                        "aggFile" : {
                            "metricPluginType" : "file", 
                            "level" : 3, 
                            "fileName" : "/tmp/aggregator/agg_%UID%_metrics.log", 
                            "uniquify" : true
                        }
                    }
                }, 
                "source" : {
                    "module_type" : "NetMonInput"
                }, 
                "outputs" : {
                    "normalOutputMod2" : {
                        "module_type" : "RootOutput", 
                        "fileName" : "/tmp/artdaqdemo_r%06r_sr%02s_%to_mod2.root", 
                        "SelectEvents" : {
                            "SelectEvents" : [
                                "pmod2"
                            ]
                        }, 
                        "compressionLevel" : 0
                    }, 
                    "normalOutputMod3" : {
                        "module_type" : "RootOutput", 
                        "fileName" : "/tmp/artdaqdemo_r%06r_sr%02s_%to_mod3.root", 
                        "SelectEvents" : {
                            "SelectEvents" : [
                                "pmod3"
                            ]
                        }, 
                        "compressionLevel" : 0
                    }
                }, 
                "physics" : {
                    "analyzers" : {

                    }, 
                    "producers" : {
                        "BuildInfo" : {
                            "module_type" : "ArtdaqDemoBuildInfo", 
                            "instance_name" : "ArtdaqDemo"
                        }
                    }, 
                    "filters" : {
                        "prescaleMod2" : {
                            "module_type" : "NthEvent", 
                            "nth" : 2
                        }, 
                        "prescaleMod3" : {
                            "module_type" : "NthEvent", 
                            "nth" : 3
                        }
                    }, 
                    "p1" : [

                    ], 
                    "p2" : [
                        "BuildInfo"
                    ], 
                    "pmod2" : [
                        "prescaleMod2"
                    ], 
                    "pmod3" : [
                        "prescaleMod3"
                    ], 
                    "my_output_modules" : [
                        "normalOutputMod2", 
   
05-12 17:27:17.386528  1 12 StorageProvider::FileSystemDB generate_oid=01262512155342efae539682
05-12 17:27:17.389629  1  4 StorageProvider::FileSystemDB::store() using generated oid=<01262512155342efae539682>.
05-12 17:27:17.389676  1  4 StorageProvider::FileSystemDB::store() collection_path=<file:///home/lukhanin/databases/filesystemdb/testLoadStore/>.
05-12 17:27:17.389709  1 11 StorageProvider::FileSystemDB mkdir dir=</home/lukhanin/databases/filesystemdb/testLoadStore/>
05-12 17:27:17.389752  1 11 StorageProvider::FileSystemDB Directory exists, checking permissions; path=</home/lukhanin/databases/filesystemdb/testLoadStore/>
05-12 17:27:17.389923  1  4 StorageProvider::FileSystemDB::store() filename=</home/lukhanin/databases/filesystemdb/testLoadStore/01262512155342efae539682.json>.
05-12 17:27:17.461326  1  3 StorageProvider::FileSystemDB::index::_open() begin
05-12 17:27:17.461352  1  3 StorageProvider::FileSystemDB::index::_open() args index_path=</home/lukhanin/databases/filesystemdb/testLoadStore/index.json>.
05-12 17:27:17.461838  1  3 StorageProvider::FileSystemDB::index::_open() json=<{
"version" : {
"versionA01749" : [
"94adcd1f5f6748cda59d13f6"
],
"versionB01749" : [
"0e0fcfb7044d4e91bbdf55e4"
],
"versionC01749" : [
"c5db7ef3aeae498db2a59caf"
],
"versionA38249" : [
"290ce4a4e0e74acfba4cf107"
],
"versionB38249" : [
"b9a1eb0a4c5d4ed1a6f3191d"
],
"versionC38249" : [
"462d4002a531489a94659025"
],
"versionA65272" : [
"d869fc26dff64c6fbe132357"
],
"versionB65272" : [
"33ae84a3b7054a61b8097407"
],
"versionC65272" : [
"339f0b2d469742b487dad30a"
],
"versionA51307" : [
"8f0f2deb56fc497e9df95cdc",
"b7cbfe9fa6824b6986f11961"
],
"versionB51307" : [
"37de50d6d24f425f82438214",
"69e4ec12f4004fd78279d7a4"
],
"versionC51307" : [
"1ac8123cca4d41e18ae5469a",
"5d7e5964c8db4094951f6c1a"
],
"versionD51307" : [
"a01e6f4de48b422c93b12d30",
"cbf93bfbb758457987a4ca7b"
],
"versionA47065" : [
"760547e4ab514d93a427723d"
],
"versionB47065" : [
"028bfcd6db994914a8bcd3c0"
],
"versionC47065" : [
"a9d35909c11f4e2088258de0"
],
"versionD47065" : [
"e6970a8af1ae46cb96f3b04e"
],
"versionA92247" : [
"931c9a2d3d6f492eae64a77a"
],
"versionB92247" : [
"6b3f830500e5408aa6202838"
],
"versionC92247" : [
"0a23f9c1bbe549eaba705411"
],
"versionD92247" : [
"248c18638534478d901aab15"
],
"versionA99672" : [
"e177642f644647f681a94b6c"
],
"versionB99672" : [
"5e4cf05d610b4b2b9d3d4634"
],
"versionC99672" : [
"897b402366a64975af0e15ce"
],
"versionD99672" : [
"a4d730ba9ed542a8b774c32a"
],
"versionA66670" : [
"959bfef9ec7740359a2fc892"
],
"versionB66670" : [
"77024268186043f7b8235cd4"
],
"versionC66670" : [
"c3925021720444ef9fa48362"
],
"versionD66670" : [
"fd76d2e20794456bbe0bc0be"
],
"versionA31346" : [
"9e41c7cd6c7344f2ac476d67"
],
"versionB31346" : [
"6bf1f423713e4425b6eda75a"
],
"versionC31346" : [
"479291d726964adea0a53ed4"
],
"versionD31346" : [
"e3deafbb081b488b931e901a"
],
"versionA94231" : [
"db2b80f3953d4d219edebb4a"
],
"versionB94231" : [
"5c13c931c85d4a2f92e31337"
],
"versionC94231" : [
"48c8e3bbb25945c889814e97"
],
"versionD94231" : [
"8c743796e37f4dd4aafe2de7"
],
"versionA44404" : [
"b9fe06644d14477fa728b736"
],
"versionB44404" : [
"42244dab6a0445f1a9b2d4a4"
],
"versionC44404" : [
"30e9297b394745d4a3fa8f2d"
],
"versionD44404" : [
"b1ca25d59d1743d38b261668"
],
"versionA85525" : [
"5899f8b64221476ca2fe0254"
],
"versionB85525" : [
"0503e7681d474f648dc0f46a"
],
"versionC85525" : [
"20bc3beef6034e7bab80807a"
],
"versionD85525" : [
"0fa4e196a38c46e490fdbb75"
],
"versionA98933" : [
"5d871d9c11b34dfbb87b2587"
],
"versionB98933" : [
"baf8cd287f264b9693991d11"
],
"versionC98933" : [
"b7554f8abd574792a881d5cb"
],
"versionD98933" : [
"31d11dd8a2a4457cb83a8576"
],
"versionA21637" : [
"f35d80227494480993721277"
]
},
"configurations.name" : {
"notprovided" : [
"028bfcd6db994914a8bcd3c0",
"0503e7681d474f648dc0f46a",
"0a23f9c1bbe549eaba705411",
"0e0fcfb7044d4e91bbdf55e4",
"0fa4e196a38c46e490fdbb75",
"1ac8123cca4d41e18ae5469a",
"20bc3beef6034e7bab80807a",
"248c18638534478d901aab15",
"290ce4a4e0e74acfba4cf107",
"30e9297b394745d4a3fa8f2d",
"31d11dd8a2a4457cb83a8576",
"339f0b2d469742b487dad30a",
"33ae84a3b7054a61b8097407",
"37de50d6d24f425f82438214",
"42244dab6a0445f1a9b2d4a4",
"462d4002a531489a94659025",
"479291d726964adea0a53ed4",
"48c8e3bbb25945c889814e97",
"5899f8b64221476ca2fe0254",
"5c13c931c85d4a2f92e31337",
"5d7e5964c8db4094951f6c1a",
"5d871d9c11b34dfbb87b2587",
"5e4cf05d610b4b2b9d3d4634",
"69e4ec12f4004fd78279d7a4",
"6b3f830500e5408aa6202838",
"6bf1f423713e4425b6eda75a",
"760547e4ab514d93a427723d",
"77024268186043f7b8235cd4",
"897b402366a64975af0e15ce",
"8c743796e37f4dd4aafe2de7",
"8f0f2deb56fc497e9df95cdc",
"931c9a2d3d6f492eae64a77a",
"94adcd1f5f6748cda59d13f6",
"959bfef9ec7740359a2fc892",
"9e41c7cd6c7344f2ac476d67",
"a01e6f4de48b422c93b12d30",
"a4d730ba9ed542a8b774c32a",
"a9d35909c11f4e2088258de0",
"b1ca25d59d1743d38b261668",
"b7554f8abd574792a881d5cb",
"b7cbfe9fa6824b6986f11961",
"b9a1eb0a4c5d4ed1a6f3191d",
"b9fe06644d14477fa728b736",
"baf8cd287f264b9693991d11",
"c3925021720444ef9fa48362",
"c5db7ef3aeae498db2a59caf",
"cbf93bfbb758457987a4ca7b",
"d869fc26dff64c6fbe132357
05-12 17:27:17.467245  1  5 StorageProvider::FileSystemDB::index::addDocument() begin
05-12 17:27:17.467364  1  5 StorageProvider::FileSystemDB::index::addDocument() args document=<{
        "document" : {
            "data" : {
                "prolog" : {

                }, 
                "main" : {
                    "services" : {
                        "scheduler" : {
                            "fileMode" : "NOMERGE"
                        }, 
                        "NetMonTransportServiceInterface" : {
                            "service_provider" : "NetMonTransportService", 
                            "max_fragment_size_words" : 2097152
                        }
                    }, 
                    "daq" : {
                        "max_fragment_size_words" : 2097152, 
                        "aggregator" : {
                            "mpi_buffer_count" : 8, 
                            "first_event_builder_rank" : 2, 
                            "event_builder_count" : 2, 
                            "expected_events_per_bunch" : 1, 
                            "print_event_store_stats" : true, 
                            "event_queue_depth" : 20, 
                            "event_queue_wait_time" : 5, 
                            "onmon_event_prescale" : 1, 
                            "xmlrpc_client_list" : ";http://topol.fnal.gov:5205/RPC2,3;http://topol.fnal.gov:5206/RPC2,3;http://topol.fnal.gov:5235/RPC2,4;http://topol.fnal.gov:5236/RPC2,4;http://topol.fnal.gov:5265/RPC2,5;http://topol.fnal.gov:5266/RPC2,5", 
                            "file_size_MB" : 8000, 
                            "file_duration" : 0, 
                            "file_event_count" : 0
                        }, 
                        "metrics" : {
                            "aggFile" : {
                                "metricPluginType" : "file", 
                                "level" : 3, 
                                "fileName" : "/tmp/aggregator/agg_%UID%_metrics.log", 
                                "uniquify" : true
                            }
                        }
                    }, 
                    "source" : {
                        "module_type" : "NetMonInput"
                    }, 
                    "outputs" : {
                        "normalOutputMod2" : {
                            "module_type" : "RootOutput", 
                            "fileName" : "/tmp/artdaqdemo_r%06r_sr%02s_%to_mod2.root", 
                            "SelectEvents" : {
                                "SelectEvents" : [
                                    "pmod2"
                                ]
                            }, 
                            "compressionLevel" : 0
                        }, 
                        "normalOutputMod3" : {
                            "module_type" : "RootOutput", 
                            "fileName" : "/tmp/artdaqdemo_r%06r_sr%02s_%to_mod3.root", 
                            "SelectEvents" : {
                                "SelectEvents" : [
                                    "pmod3"
                                ]
                            }, 
                            "compressionLevel" : 0
                        }
                    }, 
                    "physics" : {
                        "analyzers" : {

                        }, 
                        "producers" : {
                            "BuildInfo" : {
                                "module_type" : "ArtdaqDemoBuildInfo", 
                                "instance_name" : "ArtdaqDemo"
                            }
                        }, 
                        "filters" : {
                            "prescaleMod2" : {
                                "module_type" : "NthEvent", 
                                "nth" : 2
                            }, 
                            "prescaleMod3" : {
                                "module_type" : "NthEvent", 
                                "nth" : 3
                            }
                        }, 
                        "p1" : [

                        ], 
                        "p
05-12 17:27:17.467459  1  5 StorageProvider::FileSystemDB::index::addDocument() args ouid=<01262512155342efae539682>.
05-12 17:27:17.480811  1  5 StorageProvider::FileSystemDB::index::addDocument() found 9 keys.
05-12 17:27:17.480836  1  7 StorageProvider::FileSystemDB::index::_addVersion() begin
05-12 17:27:17.480843  1  7 StorageProvider::FileSystemDB::index::_addVersion() args ouid=<01262512155342efae539682>.
05-12 17:27:17.480851  1  7 StorageProvider::FileSystemDB::index::_addVersion() args version=<versionB21637>.
05-12 17:27:17.481024  1  7 StorageProvider::FileSystemDB::index::_addConfiguration() begin
05-12 17:27:17.481033  1  7 StorageProvider::FileSystemDB::index::_addConfiguration() args ouid=<01262512155342efae539682>.
05-12 17:27:17.481039  1  7 StorageProvider::FileSystemDB::index::_addConfiguration() args configuration=<notprovided>.
05-12 17:27:17.481189  1  7 StorageProvider::FileSystemDB::index::_addConfigurableEntity() begin
05-12 17:27:17.481199  1  7 StorageProvider::FileSystemDB::index::_addConfigurableEntity() args ouid=<01262512155342efae539682>.
05-12 17:27:17.481208  1  7 StorageProvider::FileSystemDB::index::_addConfigurableEntity() args entity=<notprovided>.
05-12 17:27:17.481495  1  4 StorageProvider::FileSystemDB::index::_close() begin
05-12 17:27:17.487170  1  4 StorageProvider::FileSystemDB::index::_close() json=<{
"version" : {
"versionA01749" : [
"94adcd1f5f6748cda59d13f6"
],
"versionB01749" : [
"0e0fcfb7044d4e91bbdf55e4"
],
"versionC01749" : [
"c5db7ef3aeae498db2a59caf"
],
"versionA38249" : [
"290ce4a4e0e74acfba4cf107"
],
"versionB38249" : [
"b9a1eb0a4c5d4ed1a6f3191d"
],
"versionC38249" : [
"462d4002a531489a94659025"
],
"versionA65272" : [
"d869fc26dff64c6fbe132357"
],
"versionB65272" : [
"33ae84a3b7054a61b8097407"
],
"versionC65272" : [
"339f0b2d469742b487dad30a"
],
"versionA51307" : [
"8f0f2deb56fc497e9df95cdc",
"b7cbfe9fa6824b6986f11961"
],
"versionB51307" : [
"37de50d6d24f425f82438214",
"69e4ec12f4004fd78279d7a4"
],
"versionC51307" : [
"1ac8123cca4d41e18ae5469a",
"5d7e5964c8db4094951f6c1a"
],
"versionD51307" : [
"a01e6f4de48b422c93b12d30",
"cbf93bfbb758457987a4ca7b"
],
"versionA47065" : [
"760547e4ab514d93a427723d"
],
"versionB47065" : [
"028bfcd6db994914a8bcd3c0"
],
"versionC47065" : [
"a9d35909c11f4e2088258de0"
],
"versionD47065" : [
"e6970a8af1ae46cb96f3b04e"
],
"versionA92247" : [
"931c9a2d3d6f492eae64a77a"
],
"versionB92247" : [
"6b3f830500e5408aa6202838"
],
"versionC92247" : [
"0a23f9c1bbe549eaba705411"
],
"versionD92247" : [
"248c18638534478d901aab15"
],
"versionA99672" : [
"e177642f644647f681a94b6c"
],
"versionB99672" : [
"5e4cf05d610b4b2b9d3d4634"
],
"versionC99672" : [
"897b402366a64975af0e15ce"
],
"versionD99672" : [
"a4d730ba9ed542a8b774c32a"
],
"versionA66670" : [
"959bfef9ec7740359a2fc892"
],
"versionB66670" : [
"77024268186043f7b8235cd4"
],
"versionC66670" : [
"c3925021720444ef9fa48362"
],
"versionD66670" : [
"fd76d2e20794456bbe0bc0be"
],
"versionA31346" : [
"9e41c7cd6c7344f2ac476d67"
],
"versionB31346" : [
"6bf1f423713e4425b6eda75a"
],
"versionC31346" : [
"479291d726964adea0a53ed4"
],
"versionD31346" : [
"e3deafbb081b488b931e901a"
],
"versionA94231" : [
"db2b80f3953d4d219edebb4a"
],
"versionB94231" : [
"5c13c931c85d4a2f92e31337"
],
"versionC94231" : [
"48c8e3bbb25945c889814e97"
],
"versionD94231" : [
"8c743796e37f4dd4aafe2de7"
],
"versionA44404" : [
"b9fe06644d14477fa728b736"
],
"versionB44404" : [
"42244dab6a0445f1a9b2d4a4"
],
"versionC44404" : [
"30e9297b394745d4a3fa8f2d"
],
"versionD44404" : [
"b1ca25d59d1743d38b261668"
],
"versionA85525" : [
"5899f8b64221476ca2fe0254"
],
"versionB85525" : [
"0503e7681d474f648dc0f46a"
],
"versionC85525" : [
"20bc3beef6034e7bab80807a"
],
"versionD85525" : [
"0fa4e196a38c46e490fdbb75"
],
"versionA98933" : [
"5d871d9c11b34dfbb87b2587"
],
"versionB98933" : [
"baf8cd287f264b9693991d11"
],
"versionC98933" : [
"b7554f8abd574792a881d5cb"
],
"versionD98933" : [
"31d11dd8a2a4457cb83a8576"
],
"versionA21637" : [
"f35d80227494480993721277"
],
"versionB21637" : [
"01262512155342efae539682"
]
},
"configurations.name" : {
"notprovided" : [
"01262512155342efae539682",
"028bfcd6db994914a8bcd3c0",
"0503e7681d474f648dc0f46a",
"0a23f9c1bbe549eaba705411",
"0e0fcfb7044d4e91bbdf55e4",
"0fa4e196a38c46e490fdbb75",
"1ac8123cca4d41e18ae5469a",
"20bc3beef6034e7bab80807a",
"248c18638534478d901aab15",
"290ce4a4e0e74acfba4cf107",
"30e9297b394745d4a3fa8f2d",
"31d11dd8a2a4457cb83a8576",
"339f0b2d469742b487dad30a",
"33ae84a3b7054a61b8097407",
"37de50d6d24f425f82438214",
"42244dab6a0445f1a9b2d4a4",
"462d4002a531489a94659025",
"479291d726964adea0a53ed4",
"48c8e3bbb25945c889814e97",
"5899f8b64221476ca2fe0254",
"5c13c931c85d4a2f92e31337",
"5d7e5964c8db4094951f6c1a",
"5d871d9c11b34dfbb87b2587",
"5e4cf05d610b4b2b9d3d4634",
"69e4ec12f4004fd78279d7a4",
"6b3f830500e5408aa6202838",
"6bf1f423713e4425b6eda75a",
"760547e4ab514d93a427723d",
"77024268186043f7b8235cd4",
"897b402366a64975af0e15ce",
"8c743796e37f4dd4aafe2de7",
"8f0f2deb56fc497e9df95cdc",
"931c9a2d3d6f492eae64a77a",
"94adcd1f5f6748cda59d13f6",
"959bfef9ec7740359a2fc892",
"9e41c7cd6c7344f2ac476d67",
"a01e6f4de48b422c93b12d30",
"a4d730ba9ed542a8b774c32a",
"a9d35909c11f4e2088258de0",
"b1ca25d59d1743d38b261668",
"b7554f8abd574792a881d5cb",
"b7cbfe9fa6824b6986f11961",
"b9a1eb0a4c5d4ed1a6f3191d",
"b9fe06644d14477fa728b736",
"baf8cd287f264b9693991d11",
"c3925021720444ef9fa48362",
"c
05-12 17:27:17.487528  1  4 StorageProvider::FileSystemDB::index::_close() Closed SearchIndex.
05-12 17:27:17.487712  1 15 store_configuration: end
Parsed options:
{
"filter" : {
"version" : "versionB21637"
},
"dbprovider" : "filesystem",
"operation" : "store",
"collection" : "testLoadStore",
"dataformat" : "fhicl"
}
Running test:<store>
returned:
 
services: {
 
scheduler: {
 
fileMode: NOMERGE  

} 
NetMonTransportServiceInterface: {
 
service_provider: NetMonTransportService  
 
max_fragment_size_words: 2097152  

}
} 
daq: {
 
max_fragment_size_words: 2097152  
 
aggregator: {
 
mpi_buffer_count: 8  
 
first_event_builder_rank: 2  
 
event_builder_count: 2  
 
expected_events_per_bunch: 1  
 
print_event_store_stats: true  
 
event_queue_depth: 20  
 
event_queue_wait_time: 5  
 
onmon_event_prescale: 1  
 
xmlrpc_client_list: ";http://topol.fnal.gov:5205/RPC2,3;http://topol.fnal.gov:5206/RPC2,3;http://topol.fnal.gov:5235/RPC2,4;http://topol.fnal.gov:5236/RPC2,4;http://topol.fnal.gov:5265/RPC2,5;http://topol.fnal.gov:5266/RPC2,5"  
 
file_size_MB: 8000  
 
file_duration: 0  
 
file_event_count: 0  

} 
metrics: {
 
aggFile: {
 
metricPluginType: file  
 
level: 3  
 
fileName: "/tmp/aggregator/agg_%UID%_metrics.log"  
 
uniquify: true  

}
}
} 
source: {
 
module_type: NetMonInput  

} 
outputs: {
 
normalOutputMod2: {
 
module_type: RootOutput  
 
fileName: "/tmp/artdaqdemo_r%06r_sr%02s_%to_mod2.root"  
 
SelectEvents: {
 
SelectEvents: [pmod2]  

} 
compressionLevel: 0  

} 
normalOutputMod3: {
 
module_type: RootOutput  
 
fileName: "/tmp/artdaqdemo_r%06r_sr%02s_%to_mod3.root"  
 
SelectEvents: {
 
SelectEvents: [pmod3]  

} 
compressionLevel: 0  

}
} 
physics: {
 
analyzers: {

} 
producers: {
 
BuildInfo: {
 
module_type: ArtdaqDemoBuildInfo  
 
instance_name: ArtdaqDemo  

}
} 
filters: {
 
prescaleMod2: {
 
module_type: NthEvent  
 
nth: 2  

} 
prescaleMod3: {
 
module_type: NthEvent  
 
nth: 3  

}
} 
p1: []  
 
p2: [BuildInfo]  
 
pmod2: [prescaleMod2]  
 
pmod3: [prescaleMod3]  
#my_output_modules: [ normalOutput ]
my_output_modules: [normalOutputMod2, normalOutputMod3]  

} 
process_name: DAQAG  

<end of output>
Test time =   0.32 sec
----------------------------------------------------------
Test Passed.
"LoadStore_store_filesystem_002_t" end time: May 12 17:27 CDT
"LoadStore_store_filesystem_002_t" time elapsed: 00:00:00
----------------------------------------------------------

6/28 Testing: LoadStore_store_mongo_002_t
6/28 Test: LoadStore_store_mongo_002_t
Command: "/home/lukhanin/scratch/current/artdaq-demo-base/products/cetbuildtools/v4_18_02/bin/cet_exec_test" "--wd" "/home/lukhanin/scratch/current/artdaq-demo-base/build_artdaq-utilities-database/test/ConfigurationDB/LoadStore/test002/LoadStore_store_mongo_002_t.d" "--required-files" "" "--datafiles" "/home/lukhanin/scratch/current/artdaq-demo-base/build_artdaq-utilities-database/test/ConfigurationDB/LoadStore/test002/test001.src.516.fcl;/home/lukhanin/scratch/current/artdaq-demo-base/build_artdaq-utilities-database/test/ConfigurationDB/LoadStore/test002/test001.cmp.516.fcl" "--skip-return-code" "247" "LoadStore_t" "-o" "store" "-d" "mongo" "-c" "testLoadStore" "-f" "fhicl" "-v" "versionB21637" "-s" "test001.src.516.fcl" "-r" "test001.cmp.516.fcl"
Directory: /home/lukhanin/scratch/current/artdaq-demo-base/build_artdaq-utilities-database/test/ConfigurationDB/LoadStore/test002/LoadStore_store_mongo_002_t.d
"LoadStore_store_mongo_002_t" start time: May 12 17:27 CDT
Output:
----------------------------------------------------------
removed ‘test001.cmp.994.fcl’
removed ‘test001.src.994.fcl’
05-12 17:27:17.533946  1  0 artdaq::database::filesystem trace_enable
05-12 17:27:17.534103  1  0 artdaq::database::filesystem::index trace_enable
05-12 17:27:17.534161  1  0 artdaq::database::mongo trace_enable
05-12 17:27:17.534225  1  0 artdaq::database::configuration::LoadStoreOperation trace_enable
05-12 17:27:17.534269  1  0 artdaq::database::configuration::options::OperationBase trace_enable
05-12 17:27:17.534294  1  0 artdaq::database::configuration::options::OperationLoadStore trace_enable
05-12 17:27:17.534320  1  0 artdaq::database::configuration::LoadStoreOperationDetail trace_enable
05-12 17:27:17.536727  1 12 Options: Updating provider from filesystem to mongo.
05-12 17:27:17.536750  1 10 Options: Updating operation from load to store.
05-12 17:27:17.536764  1 14 Options: dataFormat args format=<fhicl>.
05-12 17:27:17.536784  1 11 Options: Updating collection_name from notprovided to testLoadStore.
05-12 17:27:17.536798  1 10 Options: Updating version from notprovided to versionB21637.
05-12 17:27:17.544133  1 12 Options: Updating provider from filesystem to mongo.
05-12 17:27:17.544169  1 10 Options: Updating operation from load to store.
05-12 17:27:17.544181  1 14 Options: dataFormat args format=<fhicl>.
05-12 17:27:17.544191  1 11 Options: Updating collection_name from notprovided to testLoadStore.
05-12 17:27:17.544325  1 15 Options: searchFilter args search_filter=<{
"version" : "versionB21637"
}>.
05-12 17:27:17.544659  1 15 Options: searchFilter args search_filter=<notprovided>.
05-12 17:27:17.544691  1 10 Options: Updating version from notprovided to versionB21637.
05-12 17:27:17.544946  1 15 store_configuration: begin
05-12 17:27:17.678823  1 17 store_configuration: Converted json data to fcl; json=<{
"document" : {
"data" : {
"prolog" : {

},
"main" : {
"services" : {
"scheduler" : {
"fileMode" : "NOMERGE"
},
"NetMonTransportServiceInterface" : {
"service_provider" : "NetMonTransportService",
"max_fragment_size_words" : 2097152
}
},
"daq" : {
"max_fragment_size_words" : 2097152,
"aggregator" : {
"mpi_buffer_count" : 8,
"first_event_builder_rank" : 2,
"event_builder_count" : 2,
"expected_events_per_bunch" : 1,
"print_event_store_stats" : true,
"event_queue_depth" : 20,
"event_queue_wait_time" : 5,
"onmon_event_prescale" : 1,
"xmlrpc_client_list" : ";http://topol.fnal.gov:5205/RPC2,3;http://topol.fnal.gov:5206/RPC2,3;http://topol.fnal.gov:5235/RPC2,4;http://topol.fnal.gov:5236/RPC2,4;http://topol.fnal.gov:5265/RPC2,5;http://topol.fnal.gov:5266/RPC2,5",
"file_size_MB" : 8000,
"file_duration" : 0,
"file_event_count" : 0
},
"metrics" : {
"aggFile" : {
"metricPluginType" : "file",
"level" : 3,
"fileName" : "/tmp/aggregator/agg_%UID%_metrics.log",
"uniquify" : true
}
}
},
"source" : {
"module_type" : "NetMonInput"
},
"outputs" : {
"normalOutputMod2" : {
"module_type" : "RootOutput",
"fileName" : "/tmp/artdaqdemo_r%06r_sr%02s_%to_mod2.root",
"SelectEvents" : {
"SelectEvents" : [
"pmod2"
]
},
"compressionLevel" : 0
},
"normalOutputMod3" : {
"module_type" : "RootOutput",
"fileName" : "/tmp/artdaqdemo_r%06r_sr%02s_%to_mod3.root",
"SelectEvents" : {
"SelectEvents" : [
"pmod3"
]
},
"compressionLevel" : 0
}
},
"physics" : {
"analyzers" : {

},
"producers" : {
"BuildInfo" : {
"module_type" : "ArtdaqDemoBuildInfo",
"instance_name" : "ArtdaqDemo"
}
},
"filters" : {
"prescaleMod2" : {
"module_type" : "NthEvent",
"nth" : 2
},
"prescaleMod3" : {
"module_type" : "NthEvent",
"nth" : 3
}
},
"p1" : [

],
"p2" : [
"BuildInfo"
],
"pmod2" : [
"prescaleMod2"
],
"pmod3" : [
"prescaleMod3"
],
"my_output_modules" : [
"normalOutputMod2",
"normalOutputMod3"
]
},
"process_name" : "DAQAG"
}
},
"metadata" : {
"prolog" : {

},
"main" : {
"services" : {
"type" : "table",
"comment" : " ",
"children" : {
"scheduler" : {
"type" : "table",
"comment" : " ",
"children" : {
"fileMode" : {
"type" : "string",
"comment" : " ",
"annotation" : " "
}
}
},
"NetMonTransportServiceInterface" : {
"type" : "table",
"comment" : " ",
"children" : {
"service_provider" : {
"type" : "string",
"comment" : " ",
"annotation" : " "
},
"max_fragment_size_words" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
}
}
}
}
},
"daq" : {
"type" : "table",
"comment" : " ",
"children" : {
"max_fragment_size_words" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"aggregator" : {
"type" : "table",
"comment" : " ",
"children" : {
"mpi_buffer_count" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"first_event_builder_rank" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"event_builder_count" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"expected_events_per_bunch" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"print_event_store_stats" : {
"type" : "bool",
"comment" : " ",
"annotation" : " "
},
"event_queue_depth" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"event_queue_wait_time" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"onmon_event_prescale" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"xmlrpc_client_list" : {
"type" : "string",
"comment" : " ",
"annotation" : " "
},
"file_size_MB" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"file_duration" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"file_event_count" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
}
}
},
"metrics" : {
"type" : "table",
"comment" : " ",
"children" : {
"aggFile" : {
"type" : "table",
"comment" : " ",
"children" : {
"metricPluginType" : {
"type" : "string",
"comment" : " ",
"annotation" : " "
},
"level" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"fileName" : {
"type" : "string",
"comment" : " ",
"annotation" : " "
},
"uniquify" : {
"type" : "
05-12 17:27:17.678888  1 17 store_configuration: Converted json data to fcl; fcl=< 
services: {
 
scheduler: {
 
fileMode: NOMERGE  

} 
NetMonTransportServiceInterface: {
 
service_provider: NetMonTransportService  
 
max_fragment_size_words: 2097152  

}
} 
daq: {
 
max_fragment_size_words: 2097152  
 
aggregator: {
 
mpi_buffer_count: 8  
 
first_event_builder_rank: 2  
 
event_builder_count: 2  
 
expected_events_per_bunch: 1  
 
print_event_store_stats: true  
 
event_queue_depth: 20  
 
event_queue_wait_time: 5  
 
onmon_event_prescale: 1  
 
xmlrpc_client_list: ";http://topol.fnal.gov:5205/RPC2,3;http://topol.fnal.gov:5206/RPC2,3;http://topol.fnal.gov:5235/RPC2,4;http://topol.fnal.gov:5236/RPC2,4;http://topol.fnal.gov:5265/RPC2,5;http://topol.fnal.gov:5266/RPC2,5"  
 
file_size_MB: 8000  
 
file_duration: 0  
 
file_event_count: 0  

} 
metrics: {
 
aggFile: {
 
metricPluginType: file  
 
level: 3  
 
fileName: "/tmp/aggregator/agg_%UID%_metrics.log"  
 
uniquify: true  

}
}
} 
source: {
 
module_type: NetMonInput  

} 
outputs: {
 
normalOutputMod2: {
 
module_type: RootOutput  
 
fileName: "/tmp/artdaqdemo_r%06r_sr%02s_%to_mod2.root"  
 
SelectEvents: {
 
SelectEvents: [pmod2]  

} 
compressionLevel: 0  

} 
normalOutputMod3: {
 
module_type: RootOutput  
 
fileName: "/tmp/artdaqdemo_r%06r_sr%02s_%to_mod3.root"  
 
SelectEvents: {
 
SelectEvents: [pmod3]  

} 
compressionLevel: 0  

}
} 
physics: {
 
analyzers: {

} 
producers: {
 
BuildInfo: {
 
module_type: ArtdaqDemoBuildInfo  
 
instance_name: ArtdaqDemo  

}
} 
filters: {
 
prescaleMod2: {
 
module_type: NthEvent  
 
nth: 2  

} 
prescaleMod3: {
 
module_type: NthEvent  
 
nth: 3  

}
} 
p1: []  
 
p2: [BuildInfo]  
 
pmod2: [prescaleMod2]  
 
pmod3: [prescaleMod3]  
#my_output_modules: [ normalOutput ]
my_output_modules: [normalOutputMod2, normalOutputMod3]  

} 
process_name: DAQAG  
>
05-12 17:27:17.678929  1 15 store_configuration: json_buffer=<{
"document" : {
"data" : {
"prolog" : {

},
"main" : {
"services" : {
"scheduler" : {
"fileMode" : "NOMERGE"
},
"NetMonTransportServiceInterface" : {
"service_provider" : "NetMonTransportService",
"max_fragment_size_words" : 2097152
}
},
"daq" : {
"max_fragment_size_words" : 2097152,
"aggregator" : {
"mpi_buffer_count" : 8,
"first_event_builder_rank" : 2,
"event_builder_count" : 2,
"expected_events_per_bunch" : 1,
"print_event_store_stats" : true,
"event_queue_depth" : 20,
"event_queue_wait_time" : 5,
"onmon_event_prescale" : 1,
"xmlrpc_client_list" : ";http://topol.fnal.gov:5205/RPC2,3;http://topol.fnal.gov:5206/RPC2,3;http://topol.fnal.gov:5235/RPC2,4;http://topol.fnal.gov:5236/RPC2,4;http://topol.fnal.gov:5265/RPC2,5;http://topol.fnal.gov:5266/RPC2,5",
"file_size_MB" : 8000,
"file_duration" : 0,
"file_event_count" : 0
},
"metrics" : {
"aggFile" : {
"metricPluginType" : "file",
"level" : 3,
"fileName" : "/tmp/aggregator/agg_%UID%_metrics.log",
"uniquify" : true
}
}
},
"source" : {
"module_type" : "NetMonInput"
},
"outputs" : {
"normalOutputMod2" : {
"module_type" : "RootOutput",
"fileName" : "/tmp/artdaqdemo_r%06r_sr%02s_%to_mod2.root",
"SelectEvents" : {
"SelectEvents" : [
"pmod2"
]
},
"compressionLevel" : 0
},
"normalOutputMod3" : {
"module_type" : "RootOutput",
"fileName" : "/tmp/artdaqdemo_r%06r_sr%02s_%to_mod3.root",
"SelectEvents" : {
"SelectEvents" : [
"pmod3"
]
},
"compressionLevel" : 0
}
},
"physics" : {
"analyzers" : {

},
"producers" : {
"BuildInfo" : {
"module_type" : "ArtdaqDemoBuildInfo",
"instance_name" : "ArtdaqDemo"
}
},
"filters" : {
"prescaleMod2" : {
"module_type" : "NthEvent",
"nth" : 2
},
"prescaleMod3" : {
"module_type" : "NthEvent",
"nth" : 3
}
},
"p1" : [

],
"p2" : [
"BuildInfo"
],
"pmod2" : [
"prescaleMod2"
],
"pmod3" : [
"prescaleMod3"
],
"my_output_modules" : [
"normalOutputMod2",
"normalOutputMod3"
]
},
"process_name" : "DAQAG"
}
},
"metadata" : {
"prolog" : {

},
"main" : {
"services" : {
"type" : "table",
"comment" : " ",
"children" : {
"scheduler" : {
"type" : "table",
"comment" : " ",
"children" : {
"fileMode" : {
"type" : "string",
"comment" : " ",
"annotation" : " "
}
}
},
"NetMonTransportServiceInterface" : {
"type" : "table",
"comment" : " ",
"children" : {
"service_provider" : {
"type" : "string",
"comment" : " ",
"annotation" : " "
},
"max_fragment_size_words" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
}
}
}
}
},
"daq" : {
"type" : "table",
"comment" : " ",
"children" : {
"max_fragment_size_words" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"aggregator" : {
"type" : "table",
"comment" : " ",
"children" : {
"mpi_buffer_count" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"first_event_builder_rank" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"event_builder_count" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"expected_events_per_bunch" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"print_event_store_stats" : {
"type" : "bool",
"comment" : " ",
"annotation" : " "
},
"event_queue_depth" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"event_queue_wait_time" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"onmon_event_prescale" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"xmlrpc_client_list" : {
"type" : "string",
"comment" : " ",
"annotation" : " "
},
"file_size_MB" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"file_duration" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"file_event_count" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
}
}
},
"metrics" : {
"type" : "table",
"comment" : " ",
"children" : {
"aggFile" : {
"type" : "table",
"comment" : " ",
"children" : {
"metricPluginType" : {
"type" : "string",
"comment" : " ",
"annotation" : " "
},
"level" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"fileName" : {
"type" : "string",
"comment" : " ",
"annotation" : " "
},
"uniquify" : {
"type" : "bool",
"comment" : " 
05-12 17:27:17.694743  1 15 store_configuration: insert_payload=<{"document":{
    "document" : {
        "data" : {
            "prolog" : {

            }, 
            "main" : {
                "services" : {
                    "scheduler" : {
                        "fileMode" : "NOMERGE"
                    }, 
                    "NetMonTransportServiceInterface" : {
                        "service_provider" : "NetMonTransportService", 
                        "max_fragment_size_words" : 2097152
                    }
                }, 
                "daq" : {
                    "max_fragment_size_words" : 2097152, 
                    "aggregator" : {
                        "mpi_buffer_count" : 8, 
                        "first_event_builder_rank" : 2, 
                        "event_builder_count" : 2, 
                        "expected_events_per_bunch" : 1, 
                        "print_event_store_stats" : true, 
                        "event_queue_depth" : 20, 
                        "event_queue_wait_time" : 5, 
                        "onmon_event_prescale" : 1, 
                        "xmlrpc_client_list" : ";http://topol.fnal.gov:5205/RPC2,3;http://topol.fnal.gov:5206/RPC2,3;http://topol.fnal.gov:5235/RPC2,4;http://topol.fnal.gov:5236/RPC2,4;http://topol.fnal.gov:5265/RPC2,5;http://topol.fnal.gov:5266/RPC2,5", 
                        "file_size_MB" : 8000, 
                        "file_duration" : 0, 
                        "file_event_count" : 0
                    }, 
                    "metrics" : {
                        "aggFile" : {
                            "metricPluginType" : "file", 
                            "level" : 3, 
                            "fileName" : "/tmp/aggregator/agg_%UID%_metrics.log", 
                            "uniquify" : true
                        }
                    }
                }, 
                "source" : {
                    "module_type" : "NetMonInput"
                }, 
                "outputs" : {
                    "normalOutputMod2" : {
                        "module_type" : "RootOutput", 
                        "fileName" : "/tmp/artdaqdemo_r%06r_sr%02s_%to_mod2.root", 
                        "SelectEvents" : {
                            "SelectEvents" : [
                                "pmod2"
                            ]
                        }, 
                        "compressionLevel" : 0
                    }, 
                    "normalOutputMod3" : {
                        "module_type" : "RootOutput", 
                        "fileName" : "/tmp/artdaqdemo_r%06r_sr%02s_%to_mod3.root", 
                        "SelectEvents" : {
                            "SelectEvents" : [
                                "pmod3"
                            ]
                        }, 
                        "compressionLevel" : 0
                    }
                }, 
                "physics" : {
                    "analyzers" : {

                    }, 
                    "producers" : {
                        "BuildInfo" : {
                            "module_type" : "ArtdaqDemoBuildInfo", 
                            "instance_name" : "ArtdaqDemo"
                        }
                    }, 
                    "filters" : {
                        "prescaleMod2" : {
                            "module_type" : "NthEvent", 
                            "nth" : 2
                        }, 
                        "prescaleMod3" : {
                            "module_type" : "NthEvent", 
                            "nth" : 3
                        }
                    }, 
                    "p1" : [

                    ], 
                    "p2" : [
                        "BuildInfo"
                    ], 
                    "pmod2" : [
                        "prescaleMod2"
                    ], 
                    "pmod3" : [
                        "prescaleMod3"
                    ], 
                    "my_output_modules" : [
                        "normalOutputMod2", 
                
05-12 17:27:17.695775  1  4 StorageProvider::MongoDB::store() begin
05-12 17:27:17.696238  1  4 Search filter is missing, proceeding with insert.
05-12 17:27:17.712405  1  5 inserted_id={
    "$oid" : "573503451a72ba50272e9f11"
}
05-12 17:27:17.712710  1 15 store_configuration: end
Parsed options:
{
"filter" : {
"version" : "versionB21637"
},
"dbprovider" : "mongo",
"operation" : "store",
"collection" : "testLoadStore",
"dataformat" : "fhicl"
}
Running test:<store>
returned:
 
services: {
 
scheduler: {
 
fileMode: NOMERGE  

} 
NetMonTransportServiceInterface: {
 
service_provider: NetMonTransportService  
 
max_fragment_size_words: 2097152  

}
} 
daq: {
 
max_fragment_size_words: 2097152  
 
aggregator: {
 
mpi_buffer_count: 8  
 
first_event_builder_rank: 2  
 
event_builder_count: 2  
 
expected_events_per_bunch: 1  
 
print_event_store_stats: true  
 
event_queue_depth: 20  
 
event_queue_wait_time: 5  
 
onmon_event_prescale: 1  
 
xmlrpc_client_list: ";http://topol.fnal.gov:5205/RPC2,3;http://topol.fnal.gov:5206/RPC2,3;http://topol.fnal.gov:5235/RPC2,4;http://topol.fnal.gov:5236/RPC2,4;http://topol.fnal.gov:5265/RPC2,5;http://topol.fnal.gov:5266/RPC2,5"  
 
file_size_MB: 8000  
 
file_duration: 0  
 
file_event_count: 0  

} 
metrics: {
 
aggFile: {
 
metricPluginType: file  
 
level: 3  
 
fileName: "/tmp/aggregator/agg_%UID%_metrics.log"  
 
uniquify: true  

}
}
} 
source: {
 
module_type: NetMonInput  

} 
outputs: {
 
normalOutputMod2: {
 
module_type: RootOutput  
 
fileName: "/tmp/artdaqdemo_r%06r_sr%02s_%to_mod2.root"  
 
SelectEvents: {
 
SelectEvents: [pmod2]  

} 
compressionLevel: 0  

} 
normalOutputMod3: {
 
module_type: RootOutput  
 
fileName: "/tmp/artdaqdemo_r%06r_sr%02s_%to_mod3.root"  
 
SelectEvents: {
 
SelectEvents: [pmod3]  

} 
compressionLevel: 0  

}
} 
physics: {
 
analyzers: {

} 
producers: {
 
BuildInfo: {
 
module_type: ArtdaqDemoBuildInfo  
 
instance_name: ArtdaqDemo  

}
} 
filters: {
 
prescaleMod2: {
 
module_type: NthEvent  
 
nth: 2  

} 
prescaleMod3: {
 
module_type: NthEvent  
 
nth: 3  

}
} 
p1: []  
 
p2: [BuildInfo]  
 
pmod2: [prescaleMod2]  
 
pmod3: [prescaleMod3]  
#my_output_modules: [ normalOutput ]
my_output_modules: [normalOutputMod2, normalOutputMod3]  

} 
process_name: DAQAG  

<end of output>
Test time =   0.22 sec
----------------------------------------------------------
Test Passed.
"LoadStore_store_mongo_002_t" end time: May 12 17:27 CDT
"LoadStore_store_mongo_002_t" time elapsed: 00:00:00
----------------------------------------------------------

7/28 Testing: LoadStore_load_filesystem_004_t
7/28 Test: LoadStore_load_filesystem_004_t
Command: "/home/lukhanin/scratch/current/artdaq-demo-base/products/cetbuildtools/v4_18_02/bin/cet_exec_test" "--wd" "/home/lukhanin/scratch/current/artdaq-demo-base/build_artdaq-utilities-database/test/ConfigurationDB/LoadStore/test004/LoadStore_load_filesystem_004_t.d" "--required-files" "" "--datafiles" "/home/lukhanin/scratch/current/artdaq-demo-base/build_artdaq-utilities-database/test/ConfigurationDB/LoadStore/test004/test001.cmp.321.fcl" "--skip-return-code" "247" "LoadStore_t" "-o" "load" "-d" "filesystem" "-c" "testLoadStore" "-f" "fhicl" "-v" "versionB21637" "-r" "test001.cmp.321.fcl"
Directory: /home/lukhanin/scratch/current/artdaq-demo-base/build_artdaq-utilities-database/test/ConfigurationDB/LoadStore/test004/LoadStore_load_filesystem_004_t.d
"LoadStore_load_filesystem_004_t" start time: May 12 17:27 CDT
Output:
----------------------------------------------------------
removed ‘test001.cmp.916.fcl’
05-12 17:27:17.757685  1  0 artdaq::database::filesystem trace_enable
05-12 17:27:17.757855  1  0 artdaq::database::filesystem::index trace_enable
05-12 17:27:17.757938  1  0 artdaq::database::mongo trace_enable
05-12 17:27:17.758023  1  0 artdaq::database::configuration::LoadStoreOperation trace_enable
05-12 17:27:17.758075  1  0 artdaq::database::configuration::options::OperationBase trace_enable
05-12 17:27:17.758104  1  0 artdaq::database::configuration::options::OperationLoadStore trace_enable
05-12 17:27:17.758131  1  0 artdaq::database::configuration::LoadStoreOperationDetail trace_enable
05-12 17:27:17.760238  1 12 Options: Updating provider from filesystem to filesystem.
05-12 17:27:17.760271  1 10 Options: Updating operation from load to load.
05-12 17:27:17.760283  1 14 Options: dataFormat args format=<fhicl>.
05-12 17:27:17.760309  1 11 Options: Updating collection_name from notprovided to testLoadStore.
05-12 17:27:17.760328  1 10 Options: Updating version from notprovided to versionB21637.
05-12 17:27:17.767363  1 12 Options: Updating provider from filesystem to filesystem.
05-12 17:27:17.767397  1 10 Options: Updating operation from load to load.
05-12 17:27:17.767409  1 14 Options: dataFormat args format=<fhicl>.
05-12 17:27:17.767418  1 11 Options: Updating collection_name from notprovided to testLoadStore.
05-12 17:27:17.767540  1 15 Options: searchFilter args search_filter=<{
"version" : "versionB21637"
}>.
05-12 17:27:17.767779  1 15 Options: searchFilter args search_filter=<notprovided>.
05-12 17:27:17.767793  1 10 Options: Updating version from notprovided to versionB21637.
05-12 17:27:17.768046  1 16 load_configuration: begin
05-12 17:27:17.768250  1 16 load_configuration: search_payload=<{"filter":{
"version" : "versionB21637"
}, "collection":"testLoadStore"}>
05-12 17:27:17.768519  1  3 StorageProvider::FileSystemDB::load() begin
05-12 17:27:17.768554  1  3 StorageProvider::FileSystemDB::load() args search=<{"filter":{
"version" : "versionB21637"
}, "collection":"testLoadStore"}>
05-12 17:27:17.775358  1  3 StorageProvider::FileSystemDB::load() collection_path=<file:///home/lukhanin/databases/filesystemdb/testLoadStore/>.
05-12 17:27:17.775421  1 11 StorageProvider::FileSystemDB mkdir dir=</home/lukhanin/databases/filesystemdb/testLoadStore/>
05-12 17:27:17.775485  1 11 StorageProvider::FileSystemDB Directory exists, checking permissions; path=</home/lukhanin/databases/filesystemdb/testLoadStore/>
05-12 17:27:17.775735  1  3 StorageProvider::FileSystemDB::index::_open() begin
05-12 17:27:17.775747  1  3 StorageProvider::FileSystemDB::index::_open() args index_path=</home/lukhanin/databases/filesystemdb/testLoadStore/index.json>.
05-12 17:27:17.776253  1  3 StorageProvider::FileSystemDB::index::_open() json=<{
"version" : {
"versionA01749" : [
"94adcd1f5f6748cda59d13f6"
],
"versionB01749" : [
"0e0fcfb7044d4e91bbdf55e4"
],
"versionC01749" : [
"c5db7ef3aeae498db2a59caf"
],
"versionA38249" : [
"290ce4a4e0e74acfba4cf107"
],
"versionB38249" : [
"b9a1eb0a4c5d4ed1a6f3191d"
],
"versionC38249" : [
"462d4002a531489a94659025"
],
"versionA65272" : [
"d869fc26dff64c6fbe132357"
],
"versionB65272" : [
"33ae84a3b7054a61b8097407"
],
"versionC65272" : [
"339f0b2d469742b487dad30a"
],
"versionA51307" : [
"8f0f2deb56fc497e9df95cdc",
"b7cbfe9fa6824b6986f11961"
],
"versionB51307" : [
"37de50d6d24f425f82438214",
"69e4ec12f4004fd78279d7a4"
],
"versionC51307" : [
"1ac8123cca4d41e18ae5469a",
"5d7e5964c8db4094951f6c1a"
],
"versionD51307" : [
"a01e6f4de48b422c93b12d30",
"cbf93bfbb758457987a4ca7b"
],
"versionA47065" : [
"760547e4ab514d93a427723d"
],
"versionB47065" : [
"028bfcd6db994914a8bcd3c0"
],
"versionC47065" : [
"a9d35909c11f4e2088258de0"
],
"versionD47065" : [
"e6970a8af1ae46cb96f3b04e"
],
"versionA92247" : [
"931c9a2d3d6f492eae64a77a"
],
"versionB92247" : [
"6b3f830500e5408aa6202838"
],
"versionC92247" : [
"0a23f9c1bbe549eaba705411"
],
"versionD92247" : [
"248c18638534478d901aab15"
],
"versionA99672" : [
"e177642f644647f681a94b6c"
],
"versionB99672" : [
"5e4cf05d610b4b2b9d3d4634"
],
"versionC99672" : [
"897b402366a64975af0e15ce"
],
"versionD99672" : [
"a4d730ba9ed542a8b774c32a"
],
"versionA66670" : [
"959bfef9ec7740359a2fc892"
],
"versionB66670" : [
"77024268186043f7b8235cd4"
],
"versionC66670" : [
"c3925021720444ef9fa48362"
],
"versionD66670" : [
"fd76d2e20794456bbe0bc0be"
],
"versionA31346" : [
"9e41c7cd6c7344f2ac476d67"
],
"versionB31346" : [
"6bf1f423713e4425b6eda75a"
],
"versionC31346" : [
"479291d726964adea0a53ed4"
],
"versionD31346" : [
"e3deafbb081b488b931e901a"
],
"versionA94231" : [
"db2b80f3953d4d219edebb4a"
],
"versionB94231" : [
"5c13c931c85d4a2f92e31337"
],
"versionC94231" : [
"48c8e3bbb25945c889814e97"
],
"versionD94231" : [
"8c743796e37f4dd4aafe2de7"
],
"versionA44404" : [
"b9fe06644d14477fa728b736"
],
"versionB44404" : [
"42244dab6a0445f1a9b2d4a4"
],
"versionC44404" : [
"30e9297b394745d4a3fa8f2d"
],
"versionD44404" : [
"b1ca25d59d1743d38b261668"
],
"versionA85525" : [
"5899f8b64221476ca2fe0254"
],
"versionB85525" : [
"0503e7681d474f648dc0f46a"
],
"versionC85525" : [
"20bc3beef6034e7bab80807a"
],
"versionD85525" : [
"0fa4e196a38c46e490fdbb75"
],
"versionA98933" : [
"5d871d9c11b34dfbb87b2587"
],
"versionB98933" : [
"baf8cd287f264b9693991d11"
],
"versionC98933" : [
"b7554f8abd574792a881d5cb"
],
"versionD98933" : [
"31d11dd8a2a4457cb83a8576"
],
"versionA21637" : [
"f35d80227494480993721277"
],
"versionB21637" : [
"01262512155342efae539682"
]
},
"configurations.name" : {
"notprovided" : [
"01262512155342efae539682",
"028bfcd6db994914a8bcd3c0",
"0503e7681d474f648dc0f46a",
"0a23f9c1bbe549eaba705411",
"0e0fcfb7044d4e91bbdf55e4",
"0fa4e196a38c46e490fdbb75",
"1ac8123cca4d41e18ae5469a",
"20bc3beef6034e7bab80807a",
"248c18638534478d901aab15",
"290ce4a4e0e74acfba4cf107",
"30e9297b394745d4a3fa8f2d",
"31d11dd8a2a4457cb83a8576",
"339f0b2d469742b487dad30a",
"33ae84a3b7054a61b8097407",
"37de50d6d24f425f82438214",
"42244dab6a0445f1a9b2d4a4",
"462d4002a531489a94659025",
"479291d726964adea0a53ed4",
"48c8e3bbb25945c889814e97",
"5899f8b64221476ca2fe0254",
"5c13c931c85d4a2f92e31337",
"5d7e5964c8db4094951f6c1a",
"5d871d9c11b34dfbb87b2587",
"5e4cf05d610b4b2b9d3d4634",
"69e4ec12f4004fd78279d7a4",
"6b3f830500e5408aa6202838",
"6bf1f423713e4425b6eda75a",
"760547e4ab514d93a427723d",
"77024268186043f7b8235cd4",
"897b402366a64975af0e15ce",
"8c743796e37f4dd4aafe2de7",
"8f0f2deb56fc497e9df95cdc",
"931c9a2d3d6f492eae64a77a",
"94adcd1f5f6748cda59d13f6",
"959bfef9ec7740359a2fc892",
"9e41c7cd6c7344f2ac476d67",
"a01e6f4de48b422c93b12d30",
"a4d730ba9ed542a8b774c32a",
"a9d35909c11f4e2088258de0",
"b1ca25d59d1743d38b261668",
"b7554f8abd574792a881d5cb",
"b7cbfe9fa6824b6986f11961",
"b9a1eb0a4c5d4ed1a6f3191d",
"b9fe06644d14477fa728b736",
"baf8cd287f264b9693991d11",
"c3925021720444ef9fa48362",
"c5
05-12 17:27:17.782287  1  2 StorageProvider::FileSystemDB::index::findDocumentIDs() begin
05-12 17:27:17.782298  1  2 StorageProvider::FileSystemDB::index::findDocumentIDs() args search=<{
        "version" : "versionB21637"
    }>.
05-12 17:27:17.782424  1  5 StorageProvider::FileSystemDB::index::findDocumentIDs() found 1 search criteria.
05-12 17:27:17.782638  1 14 StorageProvider::FileSystemDB::index::_matchVersion() begin
05-12 17:27:17.782647  1 14 StorageProvider::FileSystemDB::index::_matchVersion() args version=<versionB21637>.
05-12 17:27:17.782702  1 15 StorageProvider::FileSystemDB::index::_matchConfiguration() Found 1 documents where version=versionB21637
05-12 17:27:17.782760  1  3 StorageProvider::FileSystemDB::load() search returned 1 documents.
05-12 17:27:17.782897  1  3 StorageProvider::FileSystemDB::load() reading document </home/lukhanin/databases/filesystemdb/testLoadStore/01262512155342efae539682.json>.
05-12 17:27:17.784692  1  4 StorageProvider::FileSystemDB::index::_close() begin
05-12 17:27:17.790978  1  4 StorageProvider::FileSystemDB::index::_close() json=<{
"version" : {
"versionA01749" : [
"94adcd1f5f6748cda59d13f6"
],
"versionB01749" : [
"0e0fcfb7044d4e91bbdf55e4"
],
"versionC01749" : [
"c5db7ef3aeae498db2a59caf"
],
"versionA38249" : [
"290ce4a4e0e74acfba4cf107"
],
"versionB38249" : [
"b9a1eb0a4c5d4ed1a6f3191d"
],
"versionC38249" : [
"462d4002a531489a94659025"
],
"versionA65272" : [
"d869fc26dff64c6fbe132357"
],
"versionB65272" : [
"33ae84a3b7054a61b8097407"
],
"versionC65272" : [
"339f0b2d469742b487dad30a"
],
"versionA51307" : [
"8f0f2deb56fc497e9df95cdc",
"b7cbfe9fa6824b6986f11961"
],
"versionB51307" : [
"37de50d6d24f425f82438214",
"69e4ec12f4004fd78279d7a4"
],
"versionC51307" : [
"1ac8123cca4d41e18ae5469a",
"5d7e5964c8db4094951f6c1a"
],
"versionD51307" : [
"a01e6f4de48b422c93b12d30",
"cbf93bfbb758457987a4ca7b"
],
"versionA47065" : [
"760547e4ab514d93a427723d"
],
"versionB47065" : [
"028bfcd6db994914a8bcd3c0"
],
"versionC47065" : [
"a9d35909c11f4e2088258de0"
],
"versionD47065" : [
"e6970a8af1ae46cb96f3b04e"
],
"versionA92247" : [
"931c9a2d3d6f492eae64a77a"
],
"versionB92247" : [
"6b3f830500e5408aa6202838"
],
"versionC92247" : [
"0a23f9c1bbe549eaba705411"
],
"versionD92247" : [
"248c18638534478d901aab15"
],
"versionA99672" : [
"e177642f644647f681a94b6c"
],
"versionB99672" : [
"5e4cf05d610b4b2b9d3d4634"
],
"versionC99672" : [
"897b402366a64975af0e15ce"
],
"versionD99672" : [
"a4d730ba9ed542a8b774c32a"
],
"versionA66670" : [
"959bfef9ec7740359a2fc892"
],
"versionB66670" : [
"77024268186043f7b8235cd4"
],
"versionC66670" : [
"c3925021720444ef9fa48362"
],
"versionD66670" : [
"fd76d2e20794456bbe0bc0be"
],
"versionA31346" : [
"9e41c7cd6c7344f2ac476d67"
],
"versionB31346" : [
"6bf1f423713e4425b6eda75a"
],
"versionC31346" : [
"479291d726964adea0a53ed4"
],
"versionD31346" : [
"e3deafbb081b488b931e901a"
],
"versionA94231" : [
"db2b80f3953d4d219edebb4a"
],
"versionB94231" : [
"5c13c931c85d4a2f92e31337"
],
"versionC94231" : [
"48c8e3bbb25945c889814e97"
],
"versionD94231" : [
"8c743796e37f4dd4aafe2de7"
],
"versionA44404" : [
"b9fe06644d14477fa728b736"
],
"versionB44404" : [
"42244dab6a0445f1a9b2d4a4"
],
"versionC44404" : [
"30e9297b394745d4a3fa8f2d"
],
"versionD44404" : [
"b1ca25d59d1743d38b261668"
],
"versionA85525" : [
"5899f8b64221476ca2fe0254"
],
"versionB85525" : [
"0503e7681d474f648dc0f46a"
],
"versionC85525" : [
"20bc3beef6034e7bab80807a"
],
"versionD85525" : [
"0fa4e196a38c46e490fdbb75"
],
"versionA98933" : [
"5d871d9c11b34dfbb87b2587"
],
"versionB98933" : [
"baf8cd287f264b9693991d11"
],
"versionC98933" : [
"b7554f8abd574792a881d5cb"
],
"versionD98933" : [
"31d11dd8a2a4457cb83a8576"
],
"versionA21637" : [
"f35d80227494480993721277"
],
"versionB21637" : [
"01262512155342efae539682"
]
},
"configurations.name" : {
"notprovided" : [
"01262512155342efae539682",
"028bfcd6db994914a8bcd3c0",
"0503e7681d474f648dc0f46a",
"0a23f9c1bbe549eaba705411",
"0e0fcfb7044d4e91bbdf55e4",
"0fa4e196a38c46e490fdbb75",
"1ac8123cca4d41e18ae5469a",
"20bc3beef6034e7bab80807a",
"248c18638534478d901aab15",
"290ce4a4e0e74acfba4cf107",
"30e9297b394745d4a3fa8f2d",
"31d11dd8a2a4457cb83a8576",
"339f0b2d469742b487dad30a",
"33ae84a3b7054a61b8097407",
"37de50d6d24f425f82438214",
"42244dab6a0445f1a9b2d4a4",
"462d4002a531489a94659025",
"479291d726964adea0a53ed4",
"48c8e3bbb25945c889814e97",
"5899f8b64221476ca2fe0254",
"5c13c931c85d4a2f92e31337",
"5d7e5964c8db4094951f6c1a",
"5d871d9c11b34dfbb87b2587",
"5e4cf05d610b4b2b9d3d4634",
"69e4ec12f4004fd78279d7a4",
"6b3f830500e5408aa6202838",
"6bf1f423713e4425b6eda75a",
"760547e4ab514d93a427723d",
"77024268186043f7b8235cd4",
"897b402366a64975af0e15ce",
"8c743796e37f4dd4aafe2de7",
"8f0f2deb56fc497e9df95cdc",
"931c9a2d3d6f492eae64a77a",
"94adcd1f5f6748cda59d13f6",
"959bfef9ec7740359a2fc892",
"9e41c7cd6c7344f2ac476d67",
"a01e6f4de48b422c93b12d30",
"a4d730ba9ed542a8b774c32a",
"a9d35909c11f4e2088258de0",
"b1ca25d59d1743d38b261668",
"b7554f8abd574792a881d5cb",
"b7cbfe9fa6824b6986f11961",
"b9a1eb0a4c5d4ed1a6f3191d",
"b9fe06644d14477fa728b736",
"baf8cd287f264b9693991d11",
"c3925021720444ef9fa48362",
"c
05-12 17:27:17.791331  1  4 StorageProvider::FileSystemDB::index::_close() Closed SearchIndex.
05-12 17:27:17.824417  1 15 load_configuration: end
Parsed options:
{
"filter" : {
"version" : "versionB21637"
},
"dbprovider" : "filesystem",
"operation" : "load",
"collection" : "testLoadStore",
"dataformat" : "fhicl"
}
Running test:<load>
returned:
 
services: {
 
scheduler: {
 
fileMode: NOMERGE  

} 
NetMonTransportServiceInterface: {
 
service_provider: NetMonTransportService  
 
max_fragment_size_words: 2097152  

}
} 
daq: {
 
max_fragment_size_words: 2097152  
 
aggregator: {
 
mpi_buffer_count: 8  
 
first_event_builder_rank: 2  
 
event_builder_count: 2  
 
expected_events_per_bunch: 1  
 
print_event_store_stats: true  
 
event_queue_depth: 20  
 
event_queue_wait_time: 5  
 
onmon_event_prescale: 1  
 
xmlrpc_client_list: ";http://topol.fnal.gov:5205/RPC2,3;http://topol.fnal.gov:5206/RPC2,3;http://topol.fnal.gov:5235/RPC2,4;http://topol.fnal.gov:5236/RPC2,4;http://topol.fnal.gov:5265/RPC2,5;http://topol.fnal.gov:5266/RPC2,5"  
 
file_size_MB: 8000  
 
file_duration: 0  
 
file_event_count: 0  

} 
metrics: {
 
aggFile: {
 
metricPluginType: file  
 
level: 3  
 
fileName: "/tmp/aggregator/agg_%UID%_metrics.log"  
 
uniquify: true  

}
}
} 
source: {
 
module_type: NetMonInput  

} 
outputs: {
 
normalOutputMod2: {
 
module_type: RootOutput  
 
fileName: "/tmp/artdaqdemo_r%06r_sr%02s_%to_mod2.root"  
 
SelectEvents: {
 
SelectEvents: [pmod2]  

} 
compressionLevel: 0  

} 
normalOutputMod3: {
 
module_type: RootOutput  
 
fileName: "/tmp/artdaqdemo_r%06r_sr%02s_%to_mod3.root"  
 
SelectEvents: {
 
SelectEvents: [pmod3]  

} 
compressionLevel: 0  

}
} 
physics: {
 
analyzers: {

} 
producers: {
 
BuildInfo: {
 
module_type: ArtdaqDemoBuildInfo  
 
instance_name: ArtdaqDemo  

}
} 
filters: {
 
prescaleMod2: {
 
module_type: NthEvent  
 
nth: 2  

} 
prescaleMod3: {
 
module_type: NthEvent  
 
nth: 3  

}
} 
p1: []  
 
p2: [BuildInfo]  
 
pmod2: [prescaleMod2]  
 
pmod3: [prescaleMod3]  
#my_output_modules: [ normalOutput ]
my_output_modules: [normalOutputMod2, normalOutputMod3]  

} 
process_name: DAQAG  

<end of output>
Test time =   0.11 sec
----------------------------------------------------------
Test Passed.
"LoadStore_load_filesystem_004_t" end time: May 12 17:27 CDT
"LoadStore_load_filesystem_004_t" time elapsed: 00:00:00
----------------------------------------------------------

8/28 Testing: LoadStore_load_mongo_004_t
8/28 Test: LoadStore_load_mongo_004_t
Command: "/home/lukhanin/scratch/current/artdaq-demo-base/products/cetbuildtools/v4_18_02/bin/cet_exec_test" "--wd" "/home/lukhanin/scratch/current/artdaq-demo-base/build_artdaq-utilities-database/test/ConfigurationDB/LoadStore/test004/LoadStore_load_mongo_004_t.d" "--required-files" "" "--datafiles" "/home/lukhanin/scratch/current/artdaq-demo-base/build_artdaq-utilities-database/test/ConfigurationDB/LoadStore/test004/test001.cmp.277.fcl" "--skip-return-code" "247" "LoadStore_t" "-o" "load" "-d" "mongo" "-c" "testLoadStore" "-f" "fhicl" "-v" "versionB21637" "-r" "test001.cmp.277.fcl"
Directory: /home/lukhanin/scratch/current/artdaq-demo-base/build_artdaq-utilities-database/test/ConfigurationDB/LoadStore/test004/LoadStore_load_mongo_004_t.d
"LoadStore_load_mongo_004_t" start time: May 12 17:27 CDT
Output:
----------------------------------------------------------
removed ‘test001.cmp.590.fcl’
05-12 17:27:17.867619  1  0 artdaq::database::filesystem trace_enable
05-12 17:27:17.867777  1  0 artdaq::database::filesystem::index trace_enable
05-12 17:27:17.867835  1  0 artdaq::database::mongo trace_enable
05-12 17:27:17.867898  1  0 artdaq::database::configuration::LoadStoreOperation trace_enable
05-12 17:27:17.867940  1  0 artdaq::database::configuration::options::OperationBase trace_enable
05-12 17:27:17.867971  1  0 artdaq::database::configuration::options::OperationLoadStore trace_enable
05-12 17:27:17.867998  1  0 artdaq::database::configuration::LoadStoreOperationDetail trace_enable
05-12 17:27:17.870155  1 12 Options: Updating provider from filesystem to mongo.
05-12 17:27:17.870181  1 10 Options: Updating operation from load to load.
05-12 17:27:17.870194  1 14 Options: dataFormat args format=<fhicl>.
05-12 17:27:17.870213  1 11 Options: Updating collection_name from notprovided to testLoadStore.
05-12 17:27:17.870230  1 10 Options: Updating version from notprovided to versionB21637.
05-12 17:27:17.877278  1 12 Options: Updating provider from filesystem to mongo.
05-12 17:27:17.877310  1 10 Options: Updating operation from load to load.
05-12 17:27:17.877322  1 14 Options: dataFormat args format=<fhicl>.
05-12 17:27:17.877333  1 11 Options: Updating collection_name from notprovided to testLoadStore.
05-12 17:27:17.877477  1 15 Options: searchFilter args search_filter=<{
"version" : "versionB21637"
}>.
05-12 17:27:17.877743  1 15 Options: searchFilter args search_filter=<notprovided>.
05-12 17:27:17.877758  1 10 Options: Updating version from notprovided to versionB21637.
05-12 17:27:17.878011  1 16 load_configuration: begin
05-12 17:27:17.878239  1 16 load_configuration: search_payload=<{"filter":{
"version" : "versionB21637"
}, "collection":"testLoadStore"}>
05-12 17:27:17.879422  1  3 StorageProvider::MongoDB::load() begin
05-12 17:27:17.879446  1  3 StorageProvider::MongoDB::load() args search=<{"filter":{
"version" : "versionB21637"
}, "collection":"testLoadStore"}>
05-12 17:27:17.880296  1  3 StorageProvider::MongoDB::load() user provided filter=<{
    "version" : "versionB21637"
}>
05-12 17:27:17.880357  1  2 search filter=<{
    "version" : "versionB21637"
}>
05-12 17:27:17.882796  1  3 found_count=1
05-12 17:27:17.924325  1 15 load_configuration: end
Parsed options:
{
"filter" : {
"version" : "versionB21637"
},
"dbprovider" : "mongo",
"operation" : "load",
"collection" : "testLoadStore",
"dataformat" : "fhicl"
}
Running test:<load>
returned:
 
services: {
 
scheduler: {
 
fileMode: NOMERGE  

} 
NetMonTransportServiceInterface: {
 
service_provider: NetMonTransportService  
 
max_fragment_size_words: 2097152  

}
} 
daq: {
 
max_fragment_size_words: 2097152  
 
aggregator: {
 
mpi_buffer_count: 8  
 
first_event_builder_rank: 2  
 
event_builder_count: 2  
 
expected_events_per_bunch: 1  
 
print_event_store_stats: true  
 
event_queue_depth: 20  
 
event_queue_wait_time: 5  
 
onmon_event_prescale: 1  
 
xmlrpc_client_list: ";http://topol.fnal.gov:5205/RPC2,3;http://topol.fnal.gov:5206/RPC2,3;http://topol.fnal.gov:5235/RPC2,4;http://topol.fnal.gov:5236/RPC2,4;http://topol.fnal.gov:5265/RPC2,5;http://topol.fnal.gov:5266/RPC2,5"  
 
file_size_MB: 8000  
 
file_duration: 0  
 
file_event_count: 0  

} 
metrics: {
 
aggFile: {
 
metricPluginType: file  
 
level: 3  
 
fileName: "/tmp/aggregator/agg_%UID%_metrics.log"  
 
uniquify: true  

}
}
} 
source: {
 
module_type: NetMonInput  

} 
outputs: {
 
normalOutputMod2: {
 
module_type: RootOutput  
 
fileName: "/tmp/artdaqdemo_r%06r_sr%02s_%to_mod2.root"  
 
SelectEvents: {
 
SelectEvents: [pmod2]  

} 
compressionLevel: 0  

} 
normalOutputMod3: {
 
module_type: RootOutput  
 
fileName: "/tmp/artdaqdemo_r%06r_sr%02s_%to_mod3.root"  
 
SelectEvents: {
 
SelectEvents: [pmod3]  

} 
compressionLevel: 0  

}
} 
physics: {
 
analyzers: {

} 
producers: {
 
BuildInfo: {
 
module_type: ArtdaqDemoBuildInfo  
 
instance_name: ArtdaqDemo  

}
} 
filters: {
 
prescaleMod2: {
 
module_type: NthEvent  
 
nth: 2  

} 
prescaleMod3: {
 
module_type: NthEvent  
 
nth: 3  

}
} 
p1: []  
 
p2: [BuildInfo]  
 
pmod2: [prescaleMod2]  
 
pmod3: [prescaleMod3]  
#my_output_modules: [ normalOutput ]
my_output_modules: [normalOutputMod2, normalOutputMod3]  

} 
process_name: DAQAG  

<end of output>
Test time =   0.10 sec
----------------------------------------------------------
Test Passed.
"LoadStore_load_mongo_004_t" end time: May 12 17:27 CDT
"LoadStore_load_mongo_004_t" time elapsed: 00:00:00
----------------------------------------------------------

9/28 Testing: LoadStore_store_filesystem_011_t
9/28 Test: LoadStore_store_filesystem_011_t
Command: "/home/lukhanin/scratch/current/artdaq-demo-base/products/cetbuildtools/v4_18_02/bin/cet_exec_test" "--wd" "/home/lukhanin/scratch/current/artdaq-demo-base/build_artdaq-utilities-database/test/ConfigurationDB/LoadStore/test011/LoadStore_store_filesystem_011_t.d" "--required-files" "" "--datafiles" "/home/lukhanin/scratch/current/artdaq-demo-base/build_artdaq-utilities-database/test/ConfigurationDB/LoadStore/test011/test011.src.590.json;/home/lukhanin/scratch/current/artdaq-demo-base/build_artdaq-utilities-database/test/ConfigurationDB/LoadStore/test011/test011.cmp.590.json;/home/lukhanin/scratch/current/artdaq-demo-base/build_artdaq-utilities-database/test/ConfigurationDB/LoadStore/test011/test011.flt.590.json" "--skip-return-code" "247" "LoadStore_t" "--searchquery=test011.flt.590.json" "-s" "test011.src.590.json" "-r" "test011.cmp.590.json"
Directory: /home/lukhanin/scratch/current/artdaq-demo-base/build_artdaq-utilities-database/test/ConfigurationDB/LoadStore/test011/LoadStore_store_filesystem_011_t.d
"LoadStore_store_filesystem_011_t" start time: May 12 17:27 CDT
Output:
----------------------------------------------------------
removed ‘test011.cmp.419.json’
removed ‘test011.flt.419.json’
removed ‘test011.src.419.json’
05-12 17:27:17.971853  1  0 artdaq::database::filesystem trace_enable
05-12 17:27:17.972013  1  0 artdaq::database::filesystem::index trace_enable
05-12 17:27:17.972072  1  0 artdaq::database::mongo trace_enable
05-12 17:27:17.972135  1  0 artdaq::database::configuration::LoadStoreOperation trace_enable
05-12 17:27:17.972180  1  0 artdaq::database::configuration::options::OperationBase trace_enable
05-12 17:27:17.972211  1  0 artdaq::database::configuration::options::OperationLoadStore trace_enable
05-12 17:27:17.972241  1  0 artdaq::database::configuration::LoadStoreOperationDetail trace_enable
05-12 17:27:17.974193  1 14 Options: json query= <{
    "filter":{"version":"versionC21637", "configurable_entity.name":"ENTITY-testLoadStore"},
    "collection":"testLoadStore",
    "dbprovider":"filesystem",
    "operation":"store",
    "dataformat":"json"
}
>
05-12 17:27:17.977723  1 12 Options: Updating provider from filesystem to filesystem.
05-12 17:27:17.977755  1 10 Options: Updating operation from load to store.
05-12 17:27:17.977770  1 14 Options: dataFormat args format=<json>.
05-12 17:27:17.977788  1 11 Options: Updating collection_name from notprovided to testLoadStore.
05-12 17:27:17.980520  1 15 Options: searchFilter args search_filter=<{
"version" : "versionC21637",
"configurable_entity.name" : "ENTITY-testLoadStore"
}>.
05-12 17:27:17.980857  1 15 Options: searchFilter args search_filter=<notprovided>.
05-12 17:27:17.980883  1 10 Options: Updating version from notprovided to versionC21637.
05-12 17:27:17.980899  1 11 Options: Updating entity from notprovided to ENTITY-testLoadStore.
05-12 17:27:17.983136  1 12 Options: Updating provider from filesystem to filesystem.
05-12 17:27:17.983164  1 10 Options: Updating operation from load to store.
05-12 17:27:17.983175  1 14 Options: dataFormat args format=<json>.
05-12 17:27:17.983189  1 11 Options: Updating collection_name from notprovided to testLoadStore.
05-12 17:27:17.983356  1 15 Options: searchFilter args search_filter=<{
"version" : "versionC21637",
"configurable_entity.name" : "ENTITY-testLoadStore"
}>.
05-12 17:27:17.983657  1 15 Options: searchFilter args search_filter=<notprovided>.
05-12 17:27:17.983672  1 10 Options: Updating version from notprovided to versionC21637.
05-12 17:27:17.983682  1 11 Options: Updating entity from notprovided to ENTITY-testLoadStore.
05-12 17:27:17.983759  1 15 store_configuration: begin
05-12 17:27:17.983776  1 15 store_configuration: json_buffer=<{"data":{
"daq" : {
"event_builder" : {

"expected_fragments_per_event" : 2,

"first_fragment_receiver_rank" : 0,

"fragment_receiver_count" : 2,

"mpi_buffer_count" : 16,

"print_event_store_stats" : true,

"use_art" : true,

"verbose" : false
}
}
}
}>
05-12 17:27:17.994128  1 15 store_configuration: insert_payload=<{"document":{
    "document" : {
        "data" : {
            "daq" : {
                "event_builder" : {
                    "expected_fragments_per_event" : 2, 
                    "first_fragment_receiver_rank" : 0, 
                    "fragment_receiver_count" : 2, 
                    "mpi_buffer_count" : 16, 
                    "print_event_store_stats" : true, 
                    "use_art" : true, 
                    "verbose" : false
                }
            }
        }, 
        "metadata" : {
            "comments" : {
                "empty" : "empty"
            }
        }, 
        "search" : [
            {
                "name" : "find any", 
                "query" : "not defined"
            }
        ]
    }, 
    "source" : {
        "encoding" : "base64", 
        "format" : "json", 
        "rawdata" : "as"
    }, 
    "version" : "versionC21637", 
    "configurations" : [
        {
            "name" : "notprovided", 
            "assigned" : "Thu May 12 17:27:17 2016"
        }
    ], 
    "aliases" : {
        "active" : [

        ], 
        "history" : [

        ]
    }, 
    "changelog" : "empty", 
    "bookkeeping" : {
        "isdeleted" : false, 
        "isreadonly" : true, 
        "created" : "Tue Dec 29 18:19:25 2015", 
        "updates" : [
            {
                "addToGlobalConfig" : "Thu May 12 17:27:17 2016"
            }, 
            {
                "setVersion" : "Thu May 12 17:27:17 2016"
            }, 
            {
                "setConfigurableEntity" : "Thu May 12 17:27:17 2016"
            }
        ]
    }, 
    "configurable_entity" : {
        "name" : "ENTITY-testLoadStore"
    }
}, "collection":"testLoadStore"}>
05-12 17:27:17.994390  1  4 StorageProvider::FileSystemDB::store() begin
05-12 17:27:17.994416  1  4 StorageProvider::FileSystemDB::store() args data=<{"document":{
    "document" : {
        "data" : {
            "daq" : {
                "event_builder" : {
                    "expected_fragments_per_event" : 2, 
                    "first_fragment_receiver_rank" : 0, 
                    "fragment_receiver_count" : 2, 
                    "mpi_buffer_count" : 16, 
                    "print_event_store_stats" : true, 
                    "use_art" : true, 
                    "verbose" : false
                }
            }
        }, 
        "metadata" : {
            "comments" : {
                "empty" : "empty"
            }
        }, 
        "search" : [
            {
                "name" : "find any", 
                "query" : "not defined"
            }
        ]
    }, 
    "source" : {
        "encoding" : "base64", 
        "format" : "json", 
        "rawdata" : "as"
    }, 
    "version" : "versionC21637", 
    "configurations" : [
        {
            "name" : "notprovided", 
            "assigned" : "Thu May 12 17:27:17 2016"
        }
    ], 
    "aliases" : {
        "active" : [

        ], 
        "history" : [

        ]
    }, 
    "changelog" : "empty", 
    "bookkeeping" : {
        "isdeleted" : false, 
        "isreadonly" : true, 
        "created" : "Tue Dec 29 18:19:25 2015", 
        "updates" : [
            {
                "addToGlobalConfig" : "Thu May 12 17:27:17 2016"
            }, 
            {
                "setVersion" : "Thu May 12 17:27:17 2016"
            }, 
            {
                "setConfigurableEntity" : "Thu May 12 17:27:17 2016"
            }
        ]
    }, 
    "configurable_entity" : {
        "name" : "ENTITY-testLoadStore"
    }
}, "collection":"testLoadStore"}>
05-12 17:27:17.997661  1 12 StorageProvider::FileSystemDB generate_oid=83b7d7d9ed61422d901c02f3
05-12 17:27:18.000294  1  4 StorageProvider::FileSystemDB::store() using generated oid=<83b7d7d9ed61422d901c02f3>.
05-12 17:27:18.000349  1  4 StorageProvider::FileSystemDB::store() collection_path=<file:///home/lukhanin/databases/filesystemdb/testLoadStore/>.
05-12 17:27:18.000394  1 11 StorageProvider::FileSystemDB mkdir dir=</home/lukhanin/databases/filesystemdb/testLoadStore/>
05-12 17:27:18.000449  1 11 StorageProvider::FileSystemDB Directory exists, checking permissions; path=</home/lukhanin/databases/filesystemdb/testLoadStore/>
05-12 17:27:18.000626  1  4 StorageProvider::FileSystemDB::store() filename=</home/lukhanin/databases/filesystemdb/testLoadStore/83b7d7d9ed61422d901c02f3.json>.
05-12 17:27:18.010050  1  3 StorageProvider::FileSystemDB::index::_open() begin
05-12 17:27:18.010065  1  3 StorageProvider::FileSystemDB::index::_open() args index_path=</home/lukhanin/databases/filesystemdb/testLoadStore/index.json>.
05-12 17:27:18.010546  1  3 StorageProvider::FileSystemDB::index::_open() json=<{
"version" : {
"versionA01749" : [
"94adcd1f5f6748cda59d13f6"
],
"versionB01749" : [
"0e0fcfb7044d4e91bbdf55e4"
],
"versionC01749" : [
"c5db7ef3aeae498db2a59caf"
],
"versionA38249" : [
"290ce4a4e0e74acfba4cf107"
],
"versionB38249" : [
"b9a1eb0a4c5d4ed1a6f3191d"
],
"versionC38249" : [
"462d4002a531489a94659025"
],
"versionA65272" : [
"d869fc26dff64c6fbe132357"
],
"versionB65272" : [
"33ae84a3b7054a61b8097407"
],
"versionC65272" : [
"339f0b2d469742b487dad30a"
],
"versionA51307" : [
"8f0f2deb56fc497e9df95cdc",
"b7cbfe9fa6824b6986f11961"
],
"versionB51307" : [
"37de50d6d24f425f82438214",
"69e4ec12f4004fd78279d7a4"
],
"versionC51307" : [
"1ac8123cca4d41e18ae5469a",
"5d7e5964c8db4094951f6c1a"
],
"versionD51307" : [
"a01e6f4de48b422c93b12d30",
"cbf93bfbb758457987a4ca7b"
],
"versionA47065" : [
"760547e4ab514d93a427723d"
],
"versionB47065" : [
"028bfcd6db994914a8bcd3c0"
],
"versionC47065" : [
"a9d35909c11f4e2088258de0"
],
"versionD47065" : [
"e6970a8af1ae46cb96f3b04e"
],
"versionA92247" : [
"931c9a2d3d6f492eae64a77a"
],
"versionB92247" : [
"6b3f830500e5408aa6202838"
],
"versionC92247" : [
"0a23f9c1bbe549eaba705411"
],
"versionD92247" : [
"248c18638534478d901aab15"
],
"versionA99672" : [
"e177642f644647f681a94b6c"
],
"versionB99672" : [
"5e4cf05d610b4b2b9d3d4634"
],
"versionC99672" : [
"897b402366a64975af0e15ce"
],
"versionD99672" : [
"a4d730ba9ed542a8b774c32a"
],
"versionA66670" : [
"959bfef9ec7740359a2fc892"
],
"versionB66670" : [
"77024268186043f7b8235cd4"
],
"versionC66670" : [
"c3925021720444ef9fa48362"
],
"versionD66670" : [
"fd76d2e20794456bbe0bc0be"
],
"versionA31346" : [
"9e41c7cd6c7344f2ac476d67"
],
"versionB31346" : [
"6bf1f423713e4425b6eda75a"
],
"versionC31346" : [
"479291d726964adea0a53ed4"
],
"versionD31346" : [
"e3deafbb081b488b931e901a"
],
"versionA94231" : [
"db2b80f3953d4d219edebb4a"
],
"versionB94231" : [
"5c13c931c85d4a2f92e31337"
],
"versionC94231" : [
"48c8e3bbb25945c889814e97"
],
"versionD94231" : [
"8c743796e37f4dd4aafe2de7"
],
"versionA44404" : [
"b9fe06644d14477fa728b736"
],
"versionB44404" : [
"42244dab6a0445f1a9b2d4a4"
],
"versionC44404" : [
"30e9297b394745d4a3fa8f2d"
],
"versionD44404" : [
"b1ca25d59d1743d38b261668"
],
"versionA85525" : [
"5899f8b64221476ca2fe0254"
],
"versionB85525" : [
"0503e7681d474f648dc0f46a"
],
"versionC85525" : [
"20bc3beef6034e7bab80807a"
],
"versionD85525" : [
"0fa4e196a38c46e490fdbb75"
],
"versionA98933" : [
"5d871d9c11b34dfbb87b2587"
],
"versionB98933" : [
"baf8cd287f264b9693991d11"
],
"versionC98933" : [
"b7554f8abd574792a881d5cb"
],
"versionD98933" : [
"31d11dd8a2a4457cb83a8576"
],
"versionA21637" : [
"f35d80227494480993721277"
],
"versionB21637" : [
"01262512155342efae539682"
]
},
"configurations.name" : {
"notprovided" : [
"01262512155342efae539682",
"028bfcd6db994914a8bcd3c0",
"0503e7681d474f648dc0f46a",
"0a23f9c1bbe549eaba705411",
"0e0fcfb7044d4e91bbdf55e4",
"0fa4e196a38c46e490fdbb75",
"1ac8123cca4d41e18ae5469a",
"20bc3beef6034e7bab80807a",
"248c18638534478d901aab15",
"290ce4a4e0e74acfba4cf107",
"30e9297b394745d4a3fa8f2d",
"31d11dd8a2a4457cb83a8576",
"339f0b2d469742b487dad30a",
"33ae84a3b7054a61b8097407",
"37de50d6d24f425f82438214",
"42244dab6a0445f1a9b2d4a4",
"462d4002a531489a94659025",
"479291d726964adea0a53ed4",
"48c8e3bbb25945c889814e97",
"5899f8b64221476ca2fe0254",
"5c13c931c85d4a2f92e31337",
"5d7e5964c8db4094951f6c1a",
"5d871d9c11b34dfbb87b2587",
"5e4cf05d610b4b2b9d3d4634",
"69e4ec12f4004fd78279d7a4",
"6b3f830500e5408aa6202838",
"6bf1f423713e4425b6eda75a",
"760547e4ab514d93a427723d",
"77024268186043f7b8235cd4",
"897b402366a64975af0e15ce",
"8c743796e37f4dd4aafe2de7",
"8f0f2deb56fc497e9df95cdc",
"931c9a2d3d6f492eae64a77a",
"94adcd1f5f6748cda59d13f6",
"959bfef9ec7740359a2fc892",
"9e41c7cd6c7344f2ac476d67",
"a01e6f4de48b422c93b12d30",
"a4d730ba9ed542a8b774c32a",
"a9d35909c11f4e2088258de0",
"b1ca25d59d1743d38b261668",
"b7554f8abd574792a881d5cb",
"b7cbfe9fa6824b6986f11961",
"b9a1eb0a4c5d4ed1a6f3191d",
"b9fe06644d14477fa728b736",
"baf8cd287f264b9693991d11",
"c3925021720444ef9fa48362",
"c5
05-12 17:27:18.016079  1  5 StorageProvider::FileSystemDB::index::addDocument() begin
05-12 17:27:18.016098  1  5 StorageProvider::FileSystemDB::index::addDocument() args document=<{
        "document" : {
            "data" : {
                "daq" : {
                    "event_builder" : {
                        "expected_fragments_per_event" : 2, 
                        "first_fragment_receiver_rank" : 0, 
                        "fragment_receiver_count" : 2, 
                        "mpi_buffer_count" : 16, 
                        "print_event_store_stats" : true, 
                        "use_art" : true, 
                        "verbose" : false
                    }
                }
            }, 
            "metadata" : {
                "comments" : {
                    "empty" : "empty"
                }
            }, 
            "search" : [
                {
                    "name" : "find any", 
                    "query" : "not defined"
                }
            ]
        }, 
        "source" : {
            "encoding" : "base64", 
            "format" : "json", 
            "rawdata" : "as"
        }, 
        "version" : "versionC21637", 
        "configurations" : [
            {
                "name" : "notprovided", 
                "assigned" : "Thu May 12 17:27:17 2016"
            }
        ], 
        "aliases" : {
            "active" : [

            ], 
            "history" : [

            ]
        }, 
        "changelog" : "empty", 
        "bookkeeping" : {
            "isdeleted" : false, 
            "isreadonly" : true, 
            "created" : "Tue Dec 29 18:19:25 2015", 
            "updates" : [
                {
                    "addToGlobalConfig" : "Thu May 12 17:27:17 2016"
                }, 
                {
                    "setVersion" : "Thu May 12 17:27:17 2016"
                }, 
                {
                    "setConfigurableEntity" : "Thu May 12 17:27:17 2016"
                }
            ]
        }, 
        "configurable_entity" : {
            "name" : "ENTITY-testLoadStore"
        }, 
        "_id" : {
            "_oid" : "83b7d7d9ed61422d901c02f3"
        }
    }>.
05-12 17:27:18.016113  1  5 StorageProvider::FileSystemDB::index::addDocument() args ouid=<83b7d7d9ed61422d901c02f3>.
05-12 17:27:18.018025  1  5 StorageProvider::FileSystemDB::index::addDocument() found 9 keys.
05-12 17:27:18.018046  1  7 StorageProvider::FileSystemDB::index::_addVersion() begin
05-12 17:27:18.018054  1  7 StorageProvider::FileSystemDB::index::_addVersion() args ouid=<83b7d7d9ed61422d901c02f3>.
05-12 17:27:18.018060  1  7 StorageProvider::FileSystemDB::index::_addVersion() args version=<versionC21637>.
05-12 17:27:18.018254  1  7 StorageProvider::FileSystemDB::index::_addConfiguration() begin
05-12 17:27:18.018268  1  7 StorageProvider::FileSystemDB::index::_addConfiguration() args ouid=<83b7d7d9ed61422d901c02f3>.
05-12 17:27:18.018275  1  7 StorageProvider::FileSystemDB::index::_addConfiguration() args configuration=<notprovided>.
05-12 17:27:18.018396  1  7 StorageProvider::FileSystemDB::index::_addConfigurableEntity() begin
05-12 17:27:18.018407  1  7 StorageProvider::FileSystemDB::index::_addConfigurableEntity() args ouid=<83b7d7d9ed61422d901c02f3>.
05-12 17:27:18.018413  1  7 StorageProvider::FileSystemDB::index::_addConfigurableEntity() args entity=<ENTITY-testLoadStore>.
05-12 17:27:18.018498  1  4 StorageProvider::FileSystemDB::index::_close() begin
05-12 17:27:18.025413  1  4 StorageProvider::FileSystemDB::index::_close() json=<{
"version" : {
"versionA01749" : [
"94adcd1f5f6748cda59d13f6"
],
"versionB01749" : [
"0e0fcfb7044d4e91bbdf55e4"
],
"versionC01749" : [
"c5db7ef3aeae498db2a59caf"
],
"versionA38249" : [
"290ce4a4e0e74acfba4cf107"
],
"versionB38249" : [
"b9a1eb0a4c5d4ed1a6f3191d"
],
"versionC38249" : [
"462d4002a531489a94659025"
],
"versionA65272" : [
"d869fc26dff64c6fbe132357"
],
"versionB65272" : [
"33ae84a3b7054a61b8097407"
],
"versionC65272" : [
"339f0b2d469742b487dad30a"
],
"versionA51307" : [
"8f0f2deb56fc497e9df95cdc",
"b7cbfe9fa6824b6986f11961"
],
"versionB51307" : [
"37de50d6d24f425f82438214",
"69e4ec12f4004fd78279d7a4"
],
"versionC51307" : [
"1ac8123cca4d41e18ae5469a",
"5d7e5964c8db4094951f6c1a"
],
"versionD51307" : [
"a01e6f4de48b422c93b12d30",
"cbf93bfbb758457987a4ca7b"
],
"versionA47065" : [
"760547e4ab514d93a427723d"
],
"versionB47065" : [
"028bfcd6db994914a8bcd3c0"
],
"versionC47065" : [
"a9d35909c11f4e2088258de0"
],
"versionD47065" : [
"e6970a8af1ae46cb96f3b04e"
],
"versionA92247" : [
"931c9a2d3d6f492eae64a77a"
],
"versionB92247" : [
"6b3f830500e5408aa6202838"
],
"versionC92247" : [
"0a23f9c1bbe549eaba705411"
],
"versionD92247" : [
"248c18638534478d901aab15"
],
"versionA99672" : [
"e177642f644647f681a94b6c"
],
"versionB99672" : [
"5e4cf05d610b4b2b9d3d4634"
],
"versionC99672" : [
"897b402366a64975af0e15ce"
],
"versionD99672" : [
"a4d730ba9ed542a8b774c32a"
],
"versionA66670" : [
"959bfef9ec7740359a2fc892"
],
"versionB66670" : [
"77024268186043f7b8235cd4"
],
"versionC66670" : [
"c3925021720444ef9fa48362"
],
"versionD66670" : [
"fd76d2e20794456bbe0bc0be"
],
"versionA31346" : [
"9e41c7cd6c7344f2ac476d67"
],
"versionB31346" : [
"6bf1f423713e4425b6eda75a"
],
"versionC31346" : [
"479291d726964adea0a53ed4"
],
"versionD31346" : [
"e3deafbb081b488b931e901a"
],
"versionA94231" : [
"db2b80f3953d4d219edebb4a"
],
"versionB94231" : [
"5c13c931c85d4a2f92e31337"
],
"versionC94231" : [
"48c8e3bbb25945c889814e97"
],
"versionD94231" : [
"8c743796e37f4dd4aafe2de7"
],
"versionA44404" : [
"b9fe06644d14477fa728b736"
],
"versionB44404" : [
"42244dab6a0445f1a9b2d4a4"
],
"versionC44404" : [
"30e9297b394745d4a3fa8f2d"
],
"versionD44404" : [
"b1ca25d59d1743d38b261668"
],
"versionA85525" : [
"5899f8b64221476ca2fe0254"
],
"versionB85525" : [
"0503e7681d474f648dc0f46a"
],
"versionC85525" : [
"20bc3beef6034e7bab80807a"
],
"versionD85525" : [
"0fa4e196a38c46e490fdbb75"
],
"versionA98933" : [
"5d871d9c11b34dfbb87b2587"
],
"versionB98933" : [
"baf8cd287f264b9693991d11"
],
"versionC98933" : [
"b7554f8abd574792a881d5cb"
],
"versionD98933" : [
"31d11dd8a2a4457cb83a8576"
],
"versionA21637" : [
"f35d80227494480993721277"
],
"versionB21637" : [
"01262512155342efae539682"
],
"versionC21637" : [
"83b7d7d9ed61422d901c02f3"
]
},
"configurations.name" : {
"notprovided" : [
"01262512155342efae539682",
"028bfcd6db994914a8bcd3c0",
"0503e7681d474f648dc0f46a",
"0a23f9c1bbe549eaba705411",
"0e0fcfb7044d4e91bbdf55e4",
"0fa4e196a38c46e490fdbb75",
"1ac8123cca4d41e18ae5469a",
"20bc3beef6034e7bab80807a",
"248c18638534478d901aab15",
"290ce4a4e0e74acfba4cf107",
"30e9297b394745d4a3fa8f2d",
"31d11dd8a2a4457cb83a8576",
"339f0b2d469742b487dad30a",
"33ae84a3b7054a61b8097407",
"37de50d6d24f425f82438214",
"42244dab6a0445f1a9b2d4a4",
"462d4002a531489a94659025",
"479291d726964adea0a53ed4",
"48c8e3bbb25945c889814e97",
"5899f8b64221476ca2fe0254",
"5c13c931c85d4a2f92e31337",
"5d7e5964c8db4094951f6c1a",
"5d871d9c11b34dfbb87b2587",
"5e4cf05d610b4b2b9d3d4634",
"69e4ec12f4004fd78279d7a4",
"6b3f830500e5408aa6202838",
"6bf1f423713e4425b6eda75a",
"760547e4ab514d93a427723d",
"77024268186043f7b8235cd4",
"83b7d7d9ed61422d901c02f3",
"897b402366a64975af0e15ce",
"8c743796e37f4dd4aafe2de7",
"8f0f2deb56fc497e9df95cdc",
"931c9a2d3d6f492eae64a77a",
"94adcd1f5f6748cda59d13f6",
"959bfef9ec7740359a2fc892",
"9e41c7cd6c7344f2ac476d67",
"a01e6f4de48b422c93b12d30",
"a4d730ba9ed542a8b774c32a",
"a9d35909c11f4e2088258de0",
"b1ca25d59d1743d38b261668",
"b7554f8abd574792a881d5cb",
"b7cbfe9fa6824b6986f11961",
"b9a1eb0a4c5d4ed1a6f3191d",
"b9fe066
05-12 17:27:18.025896  1  4 StorageProvider::FileSystemDB::index::_close() Closed SearchIndex.
05-12 17:27:18.026066  1 15 store_configuration: end
Parsed options:
{
"filter" : {
"version" : "versionC21637",
"configurable_entity.name" : "ENTITY-testLoadStore"
},
"dbprovider" : "filesystem",
"operation" : "store",
"collection" : "testLoadStore",
"dataformat" : "json"
}
Running test:<store>
returned:
{
"daq" : {
"event_builder" : {

"expected_fragments_per_event" : 2,

"first_fragment_receiver_rank" : 0,

"fragment_receiver_count" : 2,

"mpi_buffer_count" : 16,

"print_event_store_stats" : true,

"use_art" : true,

"verbose" : false
}
}
}

<end of output>
Test time =   0.10 sec
----------------------------------------------------------
Test Passed.
"LoadStore_store_filesystem_011_t" end time: May 12 17:27 CDT
"LoadStore_store_filesystem_011_t" time elapsed: 00:00:00
----------------------------------------------------------

10/28 Testing: LoadStore_store_mongo_011_t
10/28 Test: LoadStore_store_mongo_011_t
Command: "/home/lukhanin/scratch/current/artdaq-demo-base/products/cetbuildtools/v4_18_02/bin/cet_exec_test" "--wd" "/home/lukhanin/scratch/current/artdaq-demo-base/build_artdaq-utilities-database/test/ConfigurationDB/LoadStore/test011/LoadStore_store_mongo_011_t.d" "--required-files" "" "--datafiles" "/home/lukhanin/scratch/current/artdaq-demo-base/build_artdaq-utilities-database/test/ConfigurationDB/LoadStore/test011/test011.src.654.json;/home/lukhanin/scratch/current/artdaq-demo-base/build_artdaq-utilities-database/test/ConfigurationDB/LoadStore/test011/test011.cmp.654.json;/home/lukhanin/scratch/current/artdaq-demo-base/build_artdaq-utilities-database/test/ConfigurationDB/LoadStore/test011/test011.flt.654.json" "--skip-return-code" "247" "LoadStore_t" "--searchquery=test011.flt.654.json" "-s" "test011.src.654.json" "-r" "test011.cmp.654.json"
Directory: /home/lukhanin/scratch/current/artdaq-demo-base/build_artdaq-utilities-database/test/ConfigurationDB/LoadStore/test011/LoadStore_store_mongo_011_t.d
"LoadStore_store_mongo_011_t" start time: May 12 17:27 CDT
Output:
----------------------------------------------------------
removed ‘test011.cmp.303.json’
removed ‘test011.flt.303.json’
removed ‘test011.src.303.json’
05-12 17:27:18.094540  1  0 artdaq::database::filesystem trace_enable
05-12 17:27:18.094785  1  0 artdaq::database::filesystem::index trace_enable
05-12 17:27:18.094884  1  0 artdaq::database::mongo trace_enable
05-12 17:27:18.094997  1  0 artdaq::database::configuration::LoadStoreOperation trace_enable
05-12 17:27:18.095073  1  0 artdaq::database::configuration::options::OperationBase trace_enable
05-12 17:27:18.095128  1  0 artdaq::database::configuration::options::OperationLoadStore trace_enable
05-12 17:27:18.095184  1  0 artdaq::database::configuration::LoadStoreOperationDetail trace_enable
05-12 17:27:18.097800  1 14 Options: json query= <{
    "filter":{"version":"versionC21637", "configurable_entity.name":"ENTITY-testLoadStore"},
    "collection":"testLoadStore",
    "dbprovider":"mongo",
    "operation":"store",
    "dataformat":"json"
}
>
05-12 17:27:18.102749  1 12 Options: Updating provider from filesystem to mongo.
05-12 17:27:18.102784  1 10 Options: Updating operation from load to store.
05-12 17:27:18.102812  1 14 Options: dataFormat args format=<json>.
05-12 17:27:18.102856  1 11 Options: Updating collection_name from notprovided to testLoadStore.
05-12 17:27:18.106494  1 15 Options: searchFilter args search_filter=<{
"version" : "versionC21637",
"configurable_entity.name" : "ENTITY-testLoadStore"
}>.
05-12 17:27:18.106932  1 15 Options: searchFilter args search_filter=<notprovided>.
05-12 17:27:18.106962  1 10 Options: Updating version from notprovided to versionC21637.
05-12 17:27:18.106994  1 11 Options: Updating entity from notprovided to ENTITY-testLoadStore.
05-12 17:27:18.109774  1 12 Options: Updating provider from filesystem to mongo.
05-12 17:27:18.109799  1 10 Options: Updating operation from load to store.
05-12 17:27:18.109820  1 14 Options: dataFormat args format=<json>.
05-12 17:27:18.109850  1 11 Options: Updating collection_name from notprovided to testLoadStore.
05-12 17:27:18.110085  1 15 Options: searchFilter args search_filter=<{
"version" : "versionC21637",
"configurable_entity.name" : "ENTITY-testLoadStore"
}>.
05-12 17:27:18.110522  1 15 Options: searchFilter args search_filter=<notprovided>.
05-12 17:27:18.110546  1 10 Options: Updating version from notprovided to versionC21637.
05-12 17:27:18.110568  1 11 Options: Updating entity from notprovided to ENTITY-testLoadStore.
05-12 17:27:18.110656  1 15 store_configuration: begin
05-12 17:27:18.110692  1 15 store_configuration: json_buffer=<{"data":{
"daq" : {
"event_builder" : {

"expected_fragments_per_event" : 2,

"first_fragment_receiver_rank" : 0,

"fragment_receiver_count" : 2,

"mpi_buffer_count" : 16,

"print_event_store_stats" : true,

"use_art" : true,

"verbose" : false
}
}
}
}>
05-12 17:27:18.124515  1 15 store_configuration: insert_payload=<{"document":{
    "document" : {
        "data" : {
            "daq" : {
                "event_builder" : {
                    "expected_fragments_per_event" : 2, 
                    "first_fragment_receiver_rank" : 0, 
                    "fragment_receiver_count" : 2, 
                    "mpi_buffer_count" : 16, 
                    "print_event_store_stats" : true, 
                    "use_art" : true, 
                    "verbose" : false
                }
            }
        }, 
        "metadata" : {
            "comments" : {
                "empty" : "empty"
            }
        }, 
        "search" : [
            {
                "name" : "find any", 
                "query" : "not defined"
            }
        ]
    }, 
    "source" : {
        "encoding" : "base64", 
        "format" : "json", 
        "rawdata" : "as"
    }, 
    "version" : "versionC21637", 
    "configurations" : [
        {
            "name" : "notprovided", 
            "assigned" : "Thu May 12 17:27:18 2016"
        }
    ], 
    "aliases" : {
        "active" : [

        ], 
        "history" : [

        ]
    }, 
    "changelog" : "empty", 
    "bookkeeping" : {
        "isdeleted" : false, 
        "isreadonly" : true, 
        "created" : "Tue Dec 29 18:19:25 2015", 
        "updates" : [
            {
                "addToGlobalConfig" : "Thu May 12 17:27:18 2016"
            }, 
            {
                "setVersion" : "Thu May 12 17:27:18 2016"
            }, 
            {
                "setConfigurableEntity" : "Thu May 12 17:27:18 2016"
            }
        ]
    }, 
    "configurable_entity" : {
        "name" : "ENTITY-testLoadStore"
    }
}, "collection":"testLoadStore"}>
05-12 17:27:18.125865  1  4 StorageProvider::MongoDB::store() begin
05-12 17:27:18.126230  1  4 Search filter is missing, proceeding with insert.
05-12 17:27:18.131971  1  5 inserted_id={
    "$oid" : "573503461a72ba50530363e1"
}
05-12 17:27:18.132296  1 15 store_configuration: end
Parsed options:
{
"filter" : {
"version" : "versionC21637",
"configurable_entity.name" : "ENTITY-testLoadStore"
},
"dbprovider" : "mongo",
"operation" : "store",
"collection" : "testLoadStore",
"dataformat" : "json"
}
Running test:<store>
returned:
{
"daq" : {
"event_builder" : {

"expected_fragments_per_event" : 2,

"first_fragment_receiver_rank" : 0,

"fragment_receiver_count" : 2,

"mpi_buffer_count" : 16,

"print_event_store_stats" : true,

"use_art" : true,

"verbose" : false
}
}
}

<end of output>
Test time =   0.11 sec
----------------------------------------------------------
Test Passed.
"LoadStore_store_mongo_011_t" end time: May 12 17:27 CDT
"LoadStore_store_mongo_011_t" time elapsed: 00:00:00
----------------------------------------------------------

11/28 Testing: LoadStore_load_filesystem_013_t
11/28 Test: LoadStore_load_filesystem_013_t
Command: "/home/lukhanin/scratch/current/artdaq-demo-base/products/cetbuildtools/v4_18_02/bin/cet_exec_test" "--wd" "/home/lukhanin/scratch/current/artdaq-demo-base/build_artdaq-utilities-database/test/ConfigurationDB/LoadStore/test013/LoadStore_load_filesystem_013_t.d" "--required-files" "" "--datafiles" "/home/lukhanin/scratch/current/artdaq-demo-base/build_artdaq-utilities-database/test/ConfigurationDB/LoadStore/test013/test011.cmp.463.json;/home/lukhanin/scratch/current/artdaq-demo-base/build_artdaq-utilities-database/test/ConfigurationDB/LoadStore/test013/test011.flt.463.json" "--skip-return-code" "247" "LoadStore_t" "--searchquery=test011.flt.463.json" "-r" "test011.cmp.463.json"
Directory: /home/lukhanin/scratch/current/artdaq-demo-base/build_artdaq-utilities-database/test/ConfigurationDB/LoadStore/test013/LoadStore_load_filesystem_013_t.d
"LoadStore_load_filesystem_013_t" start time: May 12 17:27 CDT
Output:
----------------------------------------------------------
removed ‘test011.cmp.677.json’
removed ‘test011.flt.677.json’
05-12 17:27:18.195126  1  0 artdaq::database::filesystem trace_enable
05-12 17:27:18.195400  1  0 artdaq::database::filesystem::index trace_enable
05-12 17:27:18.195532  1  0 artdaq::database::mongo trace_enable
05-12 17:27:18.195666  1  0 artdaq::database::configuration::LoadStoreOperation trace_enable
05-12 17:27:18.195749  1  0 artdaq::database::configuration::options::OperationBase trace_enable
05-12 17:27:18.195805  1  0 artdaq::database::configuration::options::OperationLoadStore trace_enable
05-12 17:27:18.195858  1  0 artdaq::database::configuration::LoadStoreOperationDetail trace_enable
05-12 17:27:18.199225  1 14 Options: json query= <{
    "filter":{"version":"versionC21637", "configurable_entity.name":"ENTITY-testLoadStore"},
    "collection":"testLoadStore",
    "dbprovider":"filesystem",
    "operation":"load",
    "dataformat":"json"
}
>
05-12 17:27:18.204564  1 12 Options: Updating provider from filesystem to filesystem.
05-12 17:27:18.204604  1 10 Options: Updating operation from load to load.
05-12 17:27:18.204625  1 14 Options: dataFormat args format=<json>.
05-12 17:27:18.204661  1 11 Options: Updating collection_name from notprovided to testLoadStore.
05-12 17:27:18.208494  1 15 Options: searchFilter args search_filter=<{
"version" : "versionC21637",
"configurable_entity.name" : "ENTITY-testLoadStore"
}>.
05-12 17:27:18.208934  1 15 Options: searchFilter args search_filter=<notprovided>.
05-12 17:27:18.208959  1 10 Options: Updating version from notprovided to versionC21637.
05-12 17:27:18.208982  1 11 Options: Updating entity from notprovided to ENTITY-testLoadStore.
05-12 17:27:18.211769  1 12 Options: Updating provider from filesystem to filesystem.
05-12 17:27:18.211790  1 10 Options: Updating operation from load to load.
05-12 17:27:18.211806  1 14 Options: dataFormat args format=<json>.
05-12 17:27:18.211820  1 11 Options: Updating collection_name from notprovided to testLoadStore.
05-12 17:27:18.212045  1 15 Options: searchFilter args search_filter=<{
"version" : "versionC21637",
"configurable_entity.name" : "ENTITY-testLoadStore"
}>.
05-12 17:27:18.212478  1 15 Options: searchFilter args search_filter=<notprovided>.
05-12 17:27:18.212496  1 10 Options: Updating version from notprovided to versionC21637.
05-12 17:27:18.212507  1 11 Options: Updating entity from notprovided to ENTITY-testLoadStore.
05-12 17:27:18.212588  1 16 load_configuration: begin
05-12 17:27:18.213091  1 16 load_configuration: search_payload=<{"filter":{
"version" : "versionC21637",
"configurable_entity.name" : "ENTITY-testLoadStore"
}, "collection":"testLoadStore"}>
05-12 17:27:18.213422  1  3 StorageProvider::FileSystemDB::load() begin
05-12 17:27:18.213448  1  3 StorageProvider::FileSystemDB::load() args search=<{"filter":{
"version" : "versionC21637",
"configurable_entity.name" : "ENTITY-testLoadStore"
}, "collection":"testLoadStore"}>
05-12 17:27:18.222576  1  3 StorageProvider::FileSystemDB::load() collection_path=<file:///home/lukhanin/databases/filesystemdb/testLoadStore/>.
05-12 17:27:18.222615  1 11 StorageProvider::FileSystemDB mkdir dir=</home/lukhanin/databases/filesystemdb/testLoadStore/>
05-12 17:27:18.222693  1 11 StorageProvider::FileSystemDB Directory exists, checking permissions; path=</home/lukhanin/databases/filesystemdb/testLoadStore/>
05-12 17:27:18.222971  1  3 StorageProvider::FileSystemDB::index::_open() begin
05-12 17:27:18.222992  1  3 StorageProvider::FileSystemDB::index::_open() args index_path=</home/lukhanin/databases/filesystemdb/testLoadStore/index.json>.
05-12 17:27:18.223737  1  3 StorageProvider::FileSystemDB::index::_open() json=<{
"version" : {
"versionA01749" : [
"94adcd1f5f6748cda59d13f6"
],
"versionB01749" : [
"0e0fcfb7044d4e91bbdf55e4"
],
"versionC01749" : [
"c5db7ef3aeae498db2a59caf"
],
"versionA38249" : [
"290ce4a4e0e74acfba4cf107"
],
"versionB38249" : [
"b9a1eb0a4c5d4ed1a6f3191d"
],
"versionC38249" : [
"462d4002a531489a94659025"
],
"versionA65272" : [
"d869fc26dff64c6fbe132357"
],
"versionB65272" : [
"33ae84a3b7054a61b8097407"
],
"versionC65272" : [
"339f0b2d469742b487dad30a"
],
"versionA51307" : [
"8f0f2deb56fc497e9df95cdc",
"b7cbfe9fa6824b6986f11961"
],
"versionB51307" : [
"37de50d6d24f425f82438214",
"69e4ec12f4004fd78279d7a4"
],
"versionC51307" : [
"1ac8123cca4d41e18ae5469a",
"5d7e5964c8db4094951f6c1a"
],
"versionD51307" : [
"a01e6f4de48b422c93b12d30",
"cbf93bfbb758457987a4ca7b"
],
"versionA47065" : [
"760547e4ab514d93a427723d"
],
"versionB47065" : [
"028bfcd6db994914a8bcd3c0"
],
"versionC47065" : [
"a9d35909c11f4e2088258de0"
],
"versionD47065" : [
"e6970a8af1ae46cb96f3b04e"
],
"versionA92247" : [
"931c9a2d3d6f492eae64a77a"
],
"versionB92247" : [
"6b3f830500e5408aa6202838"
],
"versionC92247" : [
"0a23f9c1bbe549eaba705411"
],
"versionD92247" : [
"248c18638534478d901aab15"
],
"versionA99672" : [
"e177642f644647f681a94b6c"
],
"versionB99672" : [
"5e4cf05d610b4b2b9d3d4634"
],
"versionC99672" : [
"897b402366a64975af0e15ce"
],
"versionD99672" : [
"a4d730ba9ed542a8b774c32a"
],
"versionA66670" : [
"959bfef9ec7740359a2fc892"
],
"versionB66670" : [
"77024268186043f7b8235cd4"
],
"versionC66670" : [
"c3925021720444ef9fa48362"
],
"versionD66670" : [
"fd76d2e20794456bbe0bc0be"
],
"versionA31346" : [
"9e41c7cd6c7344f2ac476d67"
],
"versionB31346" : [
"6bf1f423713e4425b6eda75a"
],
"versionC31346" : [
"479291d726964adea0a53ed4"
],
"versionD31346" : [
"e3deafbb081b488b931e901a"
],
"versionA94231" : [
"db2b80f3953d4d219edebb4a"
],
"versionB94231" : [
"5c13c931c85d4a2f92e31337"
],
"versionC94231" : [
"48c8e3bbb25945c889814e97"
],
"versionD94231" : [
"8c743796e37f4dd4aafe2de7"
],
"versionA44404" : [
"b9fe06644d14477fa728b736"
],
"versionB44404" : [
"42244dab6a0445f1a9b2d4a4"
],
"versionC44404" : [
"30e9297b394745d4a3fa8f2d"
],
"versionD44404" : [
"b1ca25d59d1743d38b261668"
],
"versionA85525" : [
"5899f8b64221476ca2fe0254"
],
"versionB85525" : [
"0503e7681d474f648dc0f46a"
],
"versionC85525" : [
"20bc3beef6034e7bab80807a"
],
"versionD85525" : [
"0fa4e196a38c46e490fdbb75"
],
"versionA98933" : [
"5d871d9c11b34dfbb87b2587"
],
"versionB98933" : [
"baf8cd287f264b9693991d11"
],
"versionC98933" : [
"b7554f8abd574792a881d5cb"
],
"versionD98933" : [
"31d11dd8a2a4457cb83a8576"
],
"versionA21637" : [
"f35d80227494480993721277"
],
"versionB21637" : [
"01262512155342efae539682"
],
"versionC21637" : [
"83b7d7d9ed61422d901c02f3"
]
},
"configurations.name" : {
"notprovided" : [
"01262512155342efae539682",
"028bfcd6db994914a8bcd3c0",
"0503e7681d474f648dc0f46a",
"0a23f9c1bbe549eaba705411",
"0e0fcfb7044d4e91bbdf55e4",
"0fa4e196a38c46e490fdbb75",
"1ac8123cca4d41e18ae5469a",
"20bc3beef6034e7bab80807a",
"248c18638534478d901aab15",
"290ce4a4e0e74acfba4cf107",
"30e9297b394745d4a3fa8f2d",
"31d11dd8a2a4457cb83a8576",
"339f0b2d469742b487dad30a",
"33ae84a3b7054a61b8097407",
"37de50d6d24f425f82438214",
"42244dab6a0445f1a9b2d4a4",
"462d4002a531489a94659025",
"479291d726964adea0a53ed4",
"48c8e3bbb25945c889814e97",
"5899f8b64221476ca2fe0254",
"5c13c931c85d4a2f92e31337",
"5d7e5964c8db4094951f6c1a",
"5d871d9c11b34dfbb87b2587",
"5e4cf05d610b4b2b9d3d4634",
"69e4ec12f4004fd78279d7a4",
"6b3f830500e5408aa6202838",
"6bf1f423713e4425b6eda75a",
"760547e4ab514d93a427723d",
"77024268186043f7b8235cd4",
"83b7d7d9ed61422d901c02f3",
"897b402366a64975af0e15ce",
"8c743796e37f4dd4aafe2de7",
"8f0f2deb56fc497e9df95cdc",
"931c9a2d3d6f492eae64a77a",
"94adcd1f5f6748cda59d13f6",
"959bfef9ec7740359a2fc892",
"9e41c7cd6c7344f2ac476d67",
"a01e6f4de48b422c93b12d30",
"a4d730ba9ed542a8b774c32a",
"a9d35909c11f4e2088258de0",
"b1ca25d59d1743d38b261668",
"b7554f8abd574792a881d5cb",
"b7cbfe9fa6824b6986f11961",
"b9a1eb0a4c5d4ed1a6f3191d",
"b9fe0664
05-12 17:27:18.231409  1  2 StorageProvider::FileSystemDB::index::findDocumentIDs() begin
05-12 17:27:18.231424  1  2 StorageProvider::FileSystemDB::index::findDocumentIDs() args search=<{
        "version" : "versionC21637", 
        "configurable_entity.name" : "ENTITY-testLoadStore"
    }>.
05-12 17:27:18.231637  1  5 StorageProvider::FileSystemDB::index::findDocumentIDs() found 2 search criteria.
05-12 17:27:18.231862  1 14 StorageProvider::FileSystemDB::index::_matchVersion() begin
05-12 17:27:18.231876  1 14 StorageProvider::FileSystemDB::index::_matchVersion() args version=<versionC21637>.
05-12 17:27:18.231949  1 15 StorageProvider::FileSystemDB::index::_matchConfiguration() Found 1 documents where version=versionC21637
05-12 17:27:18.232021  1 15 StorageProvider::FileSystemDB::index::_matchConfigurableEntity() begin
05-12 17:27:18.232034  1 15 StorageProvider::FileSystemDB::index::_matchConfigurableEntity() args configurable_entity=<ENTITY-testLoadStore>.
05-12 17:27:18.232054  1 15 StorageProvider::FileSystemDB::index::_matchConfigurableEntity() Found 25 documents where entity=ENTITY-testLoadStore
05-12 17:27:18.232250  1  5 StorageProvider::FileSystemDB::index::findDocumentIDs() criteria_count=2, max_count=2, found 1 documents.
05-12 17:27:18.232299  1  5 StorageProvider::FileSystemDB::index::findDocumentIDs() returning 1 documents.
05-12 17:27:18.232326  1  3 StorageProvider::FileSystemDB::load() search returned 1 documents.
05-12 17:27:18.232489  1  3 StorageProvider::FileSystemDB::load() reading document </home/lukhanin/databases/filesystemdb/testLoadStore/83b7d7d9ed61422d901c02f3.json>.
05-12 17:27:18.232775  1  4 StorageProvider::FileSystemDB::index::_close() begin
05-12 17:27:18.241101  1  4 StorageProvider::FileSystemDB::index::_close() json=<{
"version" : {
"versionA01749" : [
"94adcd1f5f6748cda59d13f6"
],
"versionB01749" : [
"0e0fcfb7044d4e91bbdf55e4"
],
"versionC01749" : [
"c5db7ef3aeae498db2a59caf"
],
"versionA38249" : [
"290ce4a4e0e74acfba4cf107"
],
"versionB38249" : [
"b9a1eb0a4c5d4ed1a6f3191d"
],
"versionC38249" : [
"462d4002a531489a94659025"
],
"versionA65272" : [
"d869fc26dff64c6fbe132357"
],
"versionB65272" : [
"33ae84a3b7054a61b8097407"
],
"versionC65272" : [
"339f0b2d469742b487dad30a"
],
"versionA51307" : [
"8f0f2deb56fc497e9df95cdc",
"b7cbfe9fa6824b6986f11961"
],
"versionB51307" : [
"37de50d6d24f425f82438214",
"69e4ec12f4004fd78279d7a4"
],
"versionC51307" : [
"1ac8123cca4d41e18ae5469a",
"5d7e5964c8db4094951f6c1a"
],
"versionD51307" : [
"a01e6f4de48b422c93b12d30",
"cbf93bfbb758457987a4ca7b"
],
"versionA47065" : [
"760547e4ab514d93a427723d"
],
"versionB47065" : [
"028bfcd6db994914a8bcd3c0"
],
"versionC47065" : [
"a9d35909c11f4e2088258de0"
],
"versionD47065" : [
"e6970a8af1ae46cb96f3b04e"
],
"versionA92247" : [
"931c9a2d3d6f492eae64a77a"
],
"versionB92247" : [
"6b3f830500e5408aa6202838"
],
"versionC92247" : [
"0a23f9c1bbe549eaba705411"
],
"versionD92247" : [
"248c18638534478d901aab15"
],
"versionA99672" : [
"e177642f644647f681a94b6c"
],
"versionB99672" : [
"5e4cf05d610b4b2b9d3d4634"
],
"versionC99672" : [
"897b402366a64975af0e15ce"
],
"versionD99672" : [
"a4d730ba9ed542a8b774c32a"
],
"versionA66670" : [
"959bfef9ec7740359a2fc892"
],
"versionB66670" : [
"77024268186043f7b8235cd4"
],
"versionC66670" : [
"c3925021720444ef9fa48362"
],
"versionD66670" : [
"fd76d2e20794456bbe0bc0be"
],
"versionA31346" : [
"9e41c7cd6c7344f2ac476d67"
],
"versionB31346" : [
"6bf1f423713e4425b6eda75a"
],
"versionC31346" : [
"479291d726964adea0a53ed4"
],
"versionD31346" : [
"e3deafbb081b488b931e901a"
],
"versionA94231" : [
"db2b80f3953d4d219edebb4a"
],
"versionB94231" : [
"5c13c931c85d4a2f92e31337"
],
"versionC94231" : [
"48c8e3bbb25945c889814e97"
],
"versionD94231" : [
"8c743796e37f4dd4aafe2de7"
],
"versionA44404" : [
"b9fe06644d14477fa728b736"
],
"versionB44404" : [
"42244dab6a0445f1a9b2d4a4"
],
"versionC44404" : [
"30e9297b394745d4a3fa8f2d"
],
"versionD44404" : [
"b1ca25d59d1743d38b261668"
],
"versionA85525" : [
"5899f8b64221476ca2fe0254"
],
"versionB85525" : [
"0503e7681d474f648dc0f46a"
],
"versionC85525" : [
"20bc3beef6034e7bab80807a"
],
"versionD85525" : [
"0fa4e196a38c46e490fdbb75"
],
"versionA98933" : [
"5d871d9c11b34dfbb87b2587"
],
"versionB98933" : [
"baf8cd287f264b9693991d11"
],
"versionC98933" : [
"b7554f8abd574792a881d5cb"
],
"versionD98933" : [
"31d11dd8a2a4457cb83a8576"
],
"versionA21637" : [
"f35d80227494480993721277"
],
"versionB21637" : [
"01262512155342efae539682"
],
"versionC21637" : [
"83b7d7d9ed61422d901c02f3"
]
},
"configurations.name" : {
"notprovided" : [
"01262512155342efae539682",
"028bfcd6db994914a8bcd3c0",
"0503e7681d474f648dc0f46a",
"0a23f9c1bbe549eaba705411",
"0e0fcfb7044d4e91bbdf55e4",
"0fa4e196a38c46e490fdbb75",
"1ac8123cca4d41e18ae5469a",
"20bc3beef6034e7bab80807a",
"248c18638534478d901aab15",
"290ce4a4e0e74acfba4cf107",
"30e9297b394745d4a3fa8f2d",
"31d11dd8a2a4457cb83a8576",
"339f0b2d469742b487dad30a",
"33ae84a3b7054a61b8097407",
"37de50d6d24f425f82438214",
"42244dab6a0445f1a9b2d4a4",
"462d4002a531489a94659025",
"479291d726964adea0a53ed4",
"48c8e3bbb25945c889814e97",
"5899f8b64221476ca2fe0254",
"5c13c931c85d4a2f92e31337",
"5d7e5964c8db4094951f6c1a",
"5d871d9c11b34dfbb87b2587",
"5e4cf05d610b4b2b9d3d4634",
"69e4ec12f4004fd78279d7a4",
"6b3f830500e5408aa6202838",
"6bf1f423713e4425b6eda75a",
"760547e4ab514d93a427723d",
"77024268186043f7b8235cd4",
"83b7d7d9ed61422d901c02f3",
"897b402366a64975af0e15ce",
"8c743796e37f4dd4aafe2de7",
"8f0f2deb56fc497e9df95cdc",
"931c9a2d3d6f492eae64a77a",
"94adcd1f5f6748cda59d13f6",
"959bfef9ec7740359a2fc892",
"9e41c7cd6c7344f2ac476d67",
"a01e6f4de48b422c93b12d30",
"a4d730ba9ed542a8b774c32a",
"a9d35909c11f4e2088258de0",
"b1ca25d59d1743d38b261668",
"b7554f8abd574792a881d5cb",
"b7cbfe9fa6824b6986f11961",
"b9a1eb0a4c5d4ed1a6f3191d",
"b9fe066
05-12 17:27:18.241571  1  4 StorageProvider::FileSystemDB::index::_close() Closed SearchIndex.
05-12 17:27:18.244968  1 15 load_configuration: end
Parsed options:
{
"filter" : {
"version" : "versionC21637",
"configurable_entity.name" : "ENTITY-testLoadStore"
},
"dbprovider" : "filesystem",
"operation" : "load",
"collection" : "testLoadStore",
"dataformat" : "json"
}
Running test:<load>
returned:
{
"daq" : {
"event_builder" : {
"expected_fragments_per_event" : 2,
"first_fragment_receiver_rank" : 0,
"fragment_receiver_count" : 2,
"mpi_buffer_count" : 16,
"print_event_store_stats" : true,
"use_art" : true,
"verbose" : false
}
}
}
<end of output>
Test time =   0.11 sec
----------------------------------------------------------
Test Passed.
"LoadStore_load_filesystem_013_t" end time: May 12 17:27 CDT
"LoadStore_load_filesystem_013_t" time elapsed: 00:00:00
----------------------------------------------------------

12/28 Testing: LoadStore_load_mongo_013_t
12/28 Test: LoadStore_load_mongo_013_t
Command: "/home/lukhanin/scratch/current/artdaq-demo-base/products/cetbuildtools/v4_18_02/bin/cet_exec_test" "--wd" "/home/lukhanin/scratch/current/artdaq-demo-base/build_artdaq-utilities-database/test/ConfigurationDB/LoadStore/test013/LoadStore_load_mongo_013_t.d" "--required-files" "" "--datafiles" "/home/lukhanin/scratch/current/artdaq-demo-base/build_artdaq-utilities-database/test/ConfigurationDB/LoadStore/test013/test011.cmp.345.json;/home/lukhanin/scratch/current/artdaq-demo-base/build_artdaq-utilities-database/test/ConfigurationDB/LoadStore/test013/test011.flt.345.json" "--skip-return-code" "247" "LoadStore_t" "--searchquery=test011.flt.345.json" "-r" "test011.cmp.345.json"
Directory: /home/lukhanin/scratch/current/artdaq-demo-base/build_artdaq-utilities-database/test/ConfigurationDB/LoadStore/test013/LoadStore_load_mongo_013_t.d
"LoadStore_load_mongo_013_t" start time: May 12 17:27 CDT
Output:
----------------------------------------------------------
removed ‘test011.cmp.980.json’
removed ‘test011.flt.980.json’
05-12 17:27:18.311909  1  0 artdaq::database::filesystem trace_enable
05-12 17:27:18.312107  1  0 artdaq::database::filesystem::index trace_enable
05-12 17:27:18.312186  1  0 artdaq::database::mongo trace_enable
05-12 17:27:18.312278  1  0 artdaq::database::configuration::LoadStoreOperation trace_enable
05-12 17:27:18.312338  1  0 artdaq::database::configuration::options::OperationBase trace_enable
05-12 17:27:18.312375  1  0 artdaq::database::configuration::options::OperationLoadStore trace_enable
05-12 17:27:18.312442  1  0 artdaq::database::configuration::LoadStoreOperationDetail trace_enable
05-12 17:27:18.314843  1 14 Options: json query= <{
    "filter":{"version":"versionC21637", "configurable_entity.name":"ENTITY-testLoadStore"},
    "collection":"testLoadStore",
    "dbprovider":"mongo",
    "operation":"load",
    "dataformat":"json"
}
>
05-12 17:27:18.319827  1 12 Options: Updating provider from filesystem to mongo.
05-12 17:27:18.319862  1 10 Options: Updating operation from load to load.
05-12 17:27:18.319876  1 14 Options: dataFormat args format=<json>.
05-12 17:27:18.319911  1 11 Options: Updating collection_name from notprovided to testLoadStore.
05-12 17:27:18.323413  1 15 Options: searchFilter args search_filter=<{
"version" : "versionC21637",
"configurable_entity.name" : "ENTITY-testLoadStore"
}>.
05-12 17:27:18.323825  1 15 Options: searchFilter args search_filter=<notprovided>.
05-12 17:27:18.323847  1 10 Options: Updating version from notprovided to versionC21637.
05-12 17:27:18.323864  1 11 Options: Updating entity from notprovided to ENTITY-testLoadStore.
05-12 17:27:18.326474  1 12 Options: Updating provider from filesystem to mongo.
05-12 17:27:18.326494  1 10 Options: Updating operation from load to load.
05-12 17:27:18.326505  1 14 Options: dataFormat args format=<json>.
05-12 17:27:18.326519  1 11 Options: Updating collection_name from notprovided to testLoadStore.
05-12 17:27:18.326712  1 15 Options: searchFilter args search_filter=<{
"version" : "versionC21637",
"configurable_entity.name" : "ENTITY-testLoadStore"
}>.
05-12 17:27:18.327090  1 15 Options: searchFilter args search_filter=<notprovided>.
05-12 17:27:18.327106  1 10 Options: Updating version from notprovided to versionC21637.
05-12 17:27:18.327117  1 11 Options: Updating entity from notprovided to ENTITY-testLoadStore.
05-12 17:27:18.327176  1 16 load_configuration: begin
05-12 17:27:18.327655  1 16 load_configuration: search_payload=<{"filter":{
"version" : "versionC21637",
"configurable_entity.name" : "ENTITY-testLoadStore"
}, "collection":"testLoadStore"}>
05-12 17:27:18.328914  1  3 StorageProvider::MongoDB::load() begin
05-12 17:27:18.328939  1  3 StorageProvider::MongoDB::load() args search=<{"filter":{
"version" : "versionC21637",
"configurable_entity.name" : "ENTITY-testLoadStore"
}, "collection":"testLoadStore"}>
05-12 17:27:18.329738  1  3 StorageProvider::MongoDB::load() user provided filter=<{
    "version" : "versionC21637", 
    "configurable_entity.name" : "ENTITY-testLoadStore"
}>
05-12 17:27:18.329822  1  2 search filter=<{
    "version" : "versionC21637", 
    "configurable_entity.name" : "ENTITY-testLoadStore"
}>
05-12 17:27:18.332686  1  3 found_count=1
05-12 17:27:18.339601  1 15 load_configuration: end
Parsed options:
{
"filter" : {
"version" : "versionC21637",
"configurable_entity.name" : "ENTITY-testLoadStore"
},
"dbprovider" : "mongo",
"operation" : "load",
"collection" : "testLoadStore",
"dataformat" : "json"
}
Running test:<load>
returned:
{
"daq" : {
"event_builder" : {
"expected_fragments_per_event" : 2,
"first_fragment_receiver_rank" : 0,
"fragment_receiver_count" : 2,
"mpi_buffer_count" : 16,
"print_event_store_stats" : true,
"use_art" : true,
"verbose" : false
}
}
}
<end of output>
Test time =   0.09 sec
----------------------------------------------------------
Test Passed.
"LoadStore_load_mongo_013_t" end time: May 12 17:27 CDT
"LoadStore_load_mongo_013_t" time elapsed: 00:00:00
----------------------------------------------------------

13/28 Testing: LoadStore_store_filesystem_012_t
13/28 Test: LoadStore_store_filesystem_012_t
Command: "/home/lukhanin/scratch/current/artdaq-demo-base/products/cetbuildtools/v4_18_02/bin/cet_exec_test" "--wd" "/home/lukhanin/scratch/current/artdaq-demo-base/build_artdaq-utilities-database/test/ConfigurationDB/LoadStore/test012/LoadStore_store_filesystem_012_t.d" "--required-files" "" "--datafiles" "/home/lukhanin/scratch/current/artdaq-demo-base/build_artdaq-utilities-database/test/ConfigurationDB/LoadStore/test012/test011.src.127.fcl;/home/lukhanin/scratch/current/artdaq-demo-base/build_artdaq-utilities-database/test/ConfigurationDB/LoadStore/test012/test011.cmp.127.fcl;/home/lukhanin/scratch/current/artdaq-demo-base/build_artdaq-utilities-database/test/ConfigurationDB/LoadStore/test012/test011.flt.127.json" "--skip-return-code" "247" "LoadStore_t" "--searchquery=test011.flt.127.json" "-s" "test011.src.127.fcl" "-r" "test011.cmp.127.fcl"
Directory: /home/lukhanin/scratch/current/artdaq-demo-base/build_artdaq-utilities-database/test/ConfigurationDB/LoadStore/test012/LoadStore_store_filesystem_012_t.d
"LoadStore_store_filesystem_012_t" start time: May 12 17:27 CDT
Output:
----------------------------------------------------------
removed ‘test011.cmp.514.fcl’
removed ‘test011.flt.514.json’
removed ‘test011.src.514.fcl’
05-12 17:27:18.395439  1  0 artdaq::database::filesystem trace_enable
05-12 17:27:18.395634  1  0 artdaq::database::filesystem::index trace_enable
05-12 17:27:18.395709  1  0 artdaq::database::mongo trace_enable
05-12 17:27:18.395789  1  0 artdaq::database::configuration::LoadStoreOperation trace_enable
05-12 17:27:18.395841  1  0 artdaq::database::configuration::options::OperationBase trace_enable
05-12 17:27:18.395875  1  0 artdaq::database::configuration::options::OperationLoadStore trace_enable
05-12 17:27:18.395908  1  0 artdaq::database::configuration::LoadStoreOperationDetail trace_enable
05-12 17:27:18.398406  1 14 Options: json query= <{
    "filter":{"version":"versionD21637", "configurable_entity.name":"ENTITY-testLoadStore"},
    "collection":"testLoadStore",
    "dbprovider":"filesystem",
    "operation":"store",
    "dataformat":"fhicl"
}
>
05-12 17:27:18.402886  1 12 Options: Updating provider from filesystem to filesystem.
05-12 17:27:18.402922  1 10 Options: Updating operation from load to store.
05-12 17:27:18.402936  1 14 Options: dataFormat args format=<fhicl>.
05-12 17:27:18.402955  1 11 Options: Updating collection_name from notprovided to testLoadStore.
05-12 17:27:18.406294  1 15 Options: searchFilter args search_filter=<{
"version" : "versionD21637",
"configurable_entity.name" : "ENTITY-testLoadStore"
}>.
05-12 17:27:18.406822  1 15 Options: searchFilter args search_filter=<notprovided>.
05-12 17:27:18.406846  1 10 Options: Updating version from notprovided to versionD21637.
05-12 17:27:18.406867  1 11 Options: Updating entity from notprovided to ENTITY-testLoadStore.
05-12 17:27:18.409482  1 12 Options: Updating provider from filesystem to filesystem.
05-12 17:27:18.409500  1 10 Options: Updating operation from load to store.
05-12 17:27:18.409515  1 14 Options: dataFormat args format=<fhicl>.
05-12 17:27:18.409524  1 11 Options: Updating collection_name from notprovided to testLoadStore.
05-12 17:27:18.409677  1 15 Options: searchFilter args search_filter=<{
"version" : "versionD21637",
"configurable_entity.name" : "ENTITY-testLoadStore"
}>.
05-12 17:27:18.409982  1 15 Options: searchFilter args search_filter=<notprovided>.
05-12 17:27:18.409996  1 10 Options: Updating version from notprovided to versionD21637.
05-12 17:27:18.410012  1 11 Options: Updating entity from notprovided to ENTITY-testLoadStore.
05-12 17:27:18.410057  1 15 store_configuration: begin
05-12 17:27:18.550155  1 17 store_configuration: Converted json data to fcl; json=<{
"document" : {
"data" : {
"prolog" : {

},
"main" : {
"services" : {
"scheduler" : {
"fileMode" : "NOMERGE"
},
"NetMonTransportServiceInterface" : {
"service_provider" : "NetMonTransportService",
"max_fragment_size_words" : 2097152
}
},
"daq" : {
"max_fragment_size_words" : 2097152,
"aggregator" : {
"mpi_buffer_count" : 8,
"first_event_builder_rank" : 2,
"event_builder_count" : 2,
"expected_events_per_bunch" : 1,
"print_event_store_stats" : true,
"event_queue_depth" : 20,
"event_queue_wait_time" : 5,
"onmon_event_prescale" : 1,
"xmlrpc_client_list" : ";http://topol.fnal.gov:5205/RPC2,3;http://topol.fnal.gov:5206/RPC2,3;http://topol.fnal.gov:5235/RPC2,4;http://topol.fnal.gov:5236/RPC2,4;http://topol.fnal.gov:5265/RPC2,5;http://topol.fnal.gov:5266/RPC2,5",
"file_size_MB" : 8000,
"file_duration" : 0,
"file_event_count" : 0
},
"metrics" : {
"aggFile" : {
"metricPluginType" : "file",
"level" : 3,
"fileName" : "/tmp/aggregator/agg_%UID%_metrics.log",
"uniquify" : true
}
}
},
"source" : {
"module_type" : "NetMonInput"
},
"outputs" : {
"normalOutputMod2" : {
"module_type" : "RootOutput",
"fileName" : "/tmp/artdaqdemo_r%06r_sr%02s_%to_mod2.root",
"SelectEvents" : {
"SelectEvents" : [
"pmod2"
]
},
"compressionLevel" : 0
},
"normalOutputMod3" : {
"module_type" : "RootOutput",
"fileName" : "/tmp/artdaqdemo_r%06r_sr%02s_%to_mod3.root",
"SelectEvents" : {
"SelectEvents" : [
"pmod3"
]
},
"compressionLevel" : 0
}
},
"physics" : {
"analyzers" : {

},
"producers" : {
"BuildInfo" : {
"module_type" : "ArtdaqDemoBuildInfo",
"instance_name" : "ArtdaqDemo"
}
},
"filters" : {
"prescaleMod2" : {
"module_type" : "NthEvent",
"nth" : 2
},
"prescaleMod3" : {
"module_type" : "NthEvent",
"nth" : 3
}
},
"p1" : [

],
"p2" : [
"BuildInfo"
],
"pmod2" : [
"prescaleMod2"
],
"pmod3" : [
"prescaleMod3"
],
"my_output_modules" : [
"normalOutputMod2",
"normalOutputMod3"
]
},
"process_name" : "DAQAG"
}
},
"metadata" : {
"prolog" : {

},
"main" : {
"services" : {
"type" : "table",
"comment" : " ",
"children" : {
"scheduler" : {
"type" : "table",
"comment" : " ",
"children" : {
"fileMode" : {
"type" : "string",
"comment" : " ",
"annotation" : " "
}
}
},
"NetMonTransportServiceInterface" : {
"type" : "table",
"comment" : " ",
"children" : {
"service_provider" : {
"type" : "string",
"comment" : " ",
"annotation" : " "
},
"max_fragment_size_words" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
}
}
}
}
},
"daq" : {
"type" : "table",
"comment" : " ",
"children" : {
"max_fragment_size_words" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"aggregator" : {
"type" : "table",
"comment" : " ",
"children" : {
"mpi_buffer_count" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"first_event_builder_rank" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"event_builder_count" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"expected_events_per_bunch" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"print_event_store_stats" : {
"type" : "bool",
"comment" : " ",
"annotation" : " "
},
"event_queue_depth" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"event_queue_wait_time" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"onmon_event_prescale" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"xmlrpc_client_list" : {
"type" : "string",
"comment" : " ",
"annotation" : " "
},
"file_size_MB" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"file_duration" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"file_event_count" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
}
}
},
"metrics" : {
"type" : "table",
"comment" : " ",
"children" : {
"aggFile" : {
"type" : "table",
"comment" : " ",
"children" : {
"metricPluginType" : {
"type" : "string",
"comment" : " ",
"annotation" : " "
},
"level" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"fileName" : {
"type" : "string",
"comment" : " ",
"annotation" : " "
},
"uniquify" : {
"type" : "
05-12 17:27:18.550204  1 17 store_configuration: Converted json data to fcl; fcl=< 
services: {
 
scheduler: {
 
fileMode: NOMERGE  

} 
NetMonTransportServiceInterface: {
 
service_provider: NetMonTransportService  
 
max_fragment_size_words: 2097152  

}
} 
daq: {
 
max_fragment_size_words: 2097152  
 
aggregator: {
 
mpi_buffer_count: 8  
 
first_event_builder_rank: 2  
 
event_builder_count: 2  
 
expected_events_per_bunch: 1  
 
print_event_store_stats: true  
 
event_queue_depth: 20  
 
event_queue_wait_time: 5  
 
onmon_event_prescale: 1  
 
xmlrpc_client_list: ";http://topol.fnal.gov:5205/RPC2,3;http://topol.fnal.gov:5206/RPC2,3;http://topol.fnal.gov:5235/RPC2,4;http://topol.fnal.gov:5236/RPC2,4;http://topol.fnal.gov:5265/RPC2,5;http://topol.fnal.gov:5266/RPC2,5"  
 
file_size_MB: 8000  
 
file_duration: 0  
 
file_event_count: 0  

} 
metrics: {
 
aggFile: {
 
metricPluginType: file  
 
level: 3  
 
fileName: "/tmp/aggregator/agg_%UID%_metrics.log"  
 
uniquify: true  

}
}
} 
source: {
 
module_type: NetMonInput  

} 
outputs: {
 
normalOutputMod2: {
 
module_type: RootOutput  
 
fileName: "/tmp/artdaqdemo_r%06r_sr%02s_%to_mod2.root"  
 
SelectEvents: {
 
SelectEvents: [pmod2]  

} 
compressionLevel: 0  

} 
normalOutputMod3: {
 
module_type: RootOutput  
 
fileName: "/tmp/artdaqdemo_r%06r_sr%02s_%to_mod3.root"  
 
SelectEvents: {
 
SelectEvents: [pmod3]  

} 
compressionLevel: 0  

}
} 
physics: {
 
analyzers: {

} 
producers: {
 
BuildInfo: {
 
module_type: ArtdaqDemoBuildInfo  
 
instance_name: ArtdaqDemo  

}
} 
filters: {
 
prescaleMod2: {
 
module_type: NthEvent  
 
nth: 2  

} 
prescaleMod3: {
 
module_type: NthEvent  
 
nth: 3  

}
} 
p1: []  
 
p2: [BuildInfo]  
 
pmod2: [prescaleMod2]  
 
pmod3: [prescaleMod3]  
#my_output_modules: [ normalOutput ]
my_output_modules: [normalOutputMod2, normalOutputMod3]  

} 
process_name: DAQAG  
>
05-12 17:27:18.550236  1 15 store_configuration: json_buffer=<{
"document" : {
"data" : {
"prolog" : {

},
"main" : {
"services" : {
"scheduler" : {
"fileMode" : "NOMERGE"
},
"NetMonTransportServiceInterface" : {
"service_provider" : "NetMonTransportService",
"max_fragment_size_words" : 2097152
}
},
"daq" : {
"max_fragment_size_words" : 2097152,
"aggregator" : {
"mpi_buffer_count" : 8,
"first_event_builder_rank" : 2,
"event_builder_count" : 2,
"expected_events_per_bunch" : 1,
"print_event_store_stats" : true,
"event_queue_depth" : 20,
"event_queue_wait_time" : 5,
"onmon_event_prescale" : 1,
"xmlrpc_client_list" : ";http://topol.fnal.gov:5205/RPC2,3;http://topol.fnal.gov:5206/RPC2,3;http://topol.fnal.gov:5235/RPC2,4;http://topol.fnal.gov:5236/RPC2,4;http://topol.fnal.gov:5265/RPC2,5;http://topol.fnal.gov:5266/RPC2,5",
"file_size_MB" : 8000,
"file_duration" : 0,
"file_event_count" : 0
},
"metrics" : {
"aggFile" : {
"metricPluginType" : "file",
"level" : 3,
"fileName" : "/tmp/aggregator/agg_%UID%_metrics.log",
"uniquify" : true
}
}
},
"source" : {
"module_type" : "NetMonInput"
},
"outputs" : {
"normalOutputMod2" : {
"module_type" : "RootOutput",
"fileName" : "/tmp/artdaqdemo_r%06r_sr%02s_%to_mod2.root",
"SelectEvents" : {
"SelectEvents" : [
"pmod2"
]
},
"compressionLevel" : 0
},
"normalOutputMod3" : {
"module_type" : "RootOutput",
"fileName" : "/tmp/artdaqdemo_r%06r_sr%02s_%to_mod3.root",
"SelectEvents" : {
"SelectEvents" : [
"pmod3"
]
},
"compressionLevel" : 0
}
},
"physics" : {
"analyzers" : {

},
"producers" : {
"BuildInfo" : {
"module_type" : "ArtdaqDemoBuildInfo",
"instance_name" : "ArtdaqDemo"
}
},
"filters" : {
"prescaleMod2" : {
"module_type" : "NthEvent",
"nth" : 2
},
"prescaleMod3" : {
"module_type" : "NthEvent",
"nth" : 3
}
},
"p1" : [

],
"p2" : [
"BuildInfo"
],
"pmod2" : [
"prescaleMod2"
],
"pmod3" : [
"prescaleMod3"
],
"my_output_modules" : [
"normalOutputMod2",
"normalOutputMod3"
]
},
"process_name" : "DAQAG"
}
},
"metadata" : {
"prolog" : {

},
"main" : {
"services" : {
"type" : "table",
"comment" : " ",
"children" : {
"scheduler" : {
"type" : "table",
"comment" : " ",
"children" : {
"fileMode" : {
"type" : "string",
"comment" : " ",
"annotation" : " "
}
}
},
"NetMonTransportServiceInterface" : {
"type" : "table",
"comment" : " ",
"children" : {
"service_provider" : {
"type" : "string",
"comment" : " ",
"annotation" : " "
},
"max_fragment_size_words" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
}
}
}
}
},
"daq" : {
"type" : "table",
"comment" : " ",
"children" : {
"max_fragment_size_words" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"aggregator" : {
"type" : "table",
"comment" : " ",
"children" : {
"mpi_buffer_count" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"first_event_builder_rank" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"event_builder_count" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"expected_events_per_bunch" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"print_event_store_stats" : {
"type" : "bool",
"comment" : " ",
"annotation" : " "
},
"event_queue_depth" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"event_queue_wait_time" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"onmon_event_prescale" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"xmlrpc_client_list" : {
"type" : "string",
"comment" : " ",
"annotation" : " "
},
"file_size_MB" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"file_duration" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"file_event_count" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
}
}
},
"metrics" : {
"type" : "table",
"comment" : " ",
"children" : {
"aggFile" : {
"type" : "table",
"comment" : " ",
"children" : {
"metricPluginType" : {
"type" : "string",
"comment" : " ",
"annotation" : " "
},
"level" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"fileName" : {
"type" : "string",
"comment" : " ",
"annotation" : " "
},
"uniquify" : {
"type" : "bool",
"comment" : " 
05-12 17:27:18.566045  1 15 store_configuration: insert_payload=<{"document":{
    "document" : {
        "data" : {
            "prolog" : {

            }, 
            "main" : {
                "services" : {
                    "scheduler" : {
                        "fileMode" : "NOMERGE"
                    }, 
                    "NetMonTransportServiceInterface" : {
                        "service_provider" : "NetMonTransportService", 
                        "max_fragment_size_words" : 2097152
                    }
                }, 
                "daq" : {
                    "max_fragment_size_words" : 2097152, 
                    "aggregator" : {
                        "mpi_buffer_count" : 8, 
                        "first_event_builder_rank" : 2, 
                        "event_builder_count" : 2, 
                        "expected_events_per_bunch" : 1, 
                        "print_event_store_stats" : true, 
                        "event_queue_depth" : 20, 
                        "event_queue_wait_time" : 5, 
                        "onmon_event_prescale" : 1, 
                        "xmlrpc_client_list" : ";http://topol.fnal.gov:5205/RPC2,3;http://topol.fnal.gov:5206/RPC2,3;http://topol.fnal.gov:5235/RPC2,4;http://topol.fnal.gov:5236/RPC2,4;http://topol.fnal.gov:5265/RPC2,5;http://topol.fnal.gov:5266/RPC2,5", 
                        "file_size_MB" : 8000, 
                        "file_duration" : 0, 
                        "file_event_count" : 0
                    }, 
                    "metrics" : {
                        "aggFile" : {
                            "metricPluginType" : "file", 
                            "level" : 3, 
                            "fileName" : "/tmp/aggregator/agg_%UID%_metrics.log", 
                            "uniquify" : true
                        }
                    }
                }, 
                "source" : {
                    "module_type" : "NetMonInput"
                }, 
                "outputs" : {
                    "normalOutputMod2" : {
                        "module_type" : "RootOutput", 
                        "fileName" : "/tmp/artdaqdemo_r%06r_sr%02s_%to_mod2.root", 
                        "SelectEvents" : {
                            "SelectEvents" : [
                                "pmod2"
                            ]
                        }, 
                        "compressionLevel" : 0
                    }, 
                    "normalOutputMod3" : {
                        "module_type" : "RootOutput", 
                        "fileName" : "/tmp/artdaqdemo_r%06r_sr%02s_%to_mod3.root", 
                        "SelectEvents" : {
                            "SelectEvents" : [
                                "pmod3"
                            ]
                        }, 
                        "compressionLevel" : 0
                    }
                }, 
                "physics" : {
                    "analyzers" : {

                    }, 
                    "producers" : {
                        "BuildInfo" : {
                            "module_type" : "ArtdaqDemoBuildInfo", 
                            "instance_name" : "ArtdaqDemo"
                        }
                    }, 
                    "filters" : {
                        "prescaleMod2" : {
                            "module_type" : "NthEvent", 
                            "nth" : 2
                        }, 
                        "prescaleMod3" : {
                            "module_type" : "NthEvent", 
                            "nth" : 3
                        }
                    }, 
                    "p1" : [

                    ], 
                    "p2" : [
                        "BuildInfo"
                    ], 
                    "pmod2" : [
                        "prescaleMod2"
                    ], 
                    "pmod3" : [
                        "prescaleMod3"
                    ], 
                    "my_output_modules" : [
                        "normalOutputMod2", 
                
05-12 17:27:18.566396  1  4 StorageProvider::FileSystemDB::store() begin
05-12 17:27:18.566489  1  4 StorageProvider::FileSystemDB::store() args data=<{"document":{
    "document" : {
        "data" : {
            "prolog" : {

            }, 
            "main" : {
                "services" : {
                    "scheduler" : {
                        "fileMode" : "NOMERGE"
                    }, 
                    "NetMonTransportServiceInterface" : {
                        "service_provider" : "NetMonTransportService", 
                        "max_fragment_size_words" : 2097152
                    }
                }, 
                "daq" : {
                    "max_fragment_size_words" : 2097152, 
                    "aggregator" : {
                        "mpi_buffer_count" : 8, 
                        "first_event_builder_rank" : 2, 
                        "event_builder_count" : 2, 
                        "expected_events_per_bunch" : 1, 
                        "print_event_store_stats" : true, 
                        "event_queue_depth" : 20, 
                        "event_queue_wait_time" : 5, 
                        "onmon_event_prescale" : 1, 
                        "xmlrpc_client_list" : ";http://topol.fnal.gov:5205/RPC2,3;http://topol.fnal.gov:5206/RPC2,3;http://topol.fnal.gov:5235/RPC2,4;http://topol.fnal.gov:5236/RPC2,4;http://topol.fnal.gov:5265/RPC2,5;http://topol.fnal.gov:5266/RPC2,5", 
                        "file_size_MB" : 8000, 
                        "file_duration" : 0, 
                        "file_event_count" : 0
                    }, 
                    "metrics" : {
                        "aggFile" : {
                            "metricPluginType" : "file", 
                            "level" : 3, 
                            "fileName" : "/tmp/aggregator/agg_%UID%_metrics.log", 
                            "uniquify" : true
                        }
                    }
                }, 
                "source" : {
                    "module_type" : "NetMonInput"
                }, 
                "outputs" : {
                    "normalOutputMod2" : {
                        "module_type" : "RootOutput", 
                        "fileName" : "/tmp/artdaqdemo_r%06r_sr%02s_%to_mod2.root", 
                        "SelectEvents" : {
                            "SelectEvents" : [
                                "pmod2"
                            ]
                        }, 
                        "compressionLevel" : 0
                    }, 
                    "normalOutputMod3" : {
                        "module_type" : "RootOutput", 
                        "fileName" : "/tmp/artdaqdemo_r%06r_sr%02s_%to_mod3.root", 
                        "SelectEvents" : {
                            "SelectEvents" : [
                                "pmod3"
                            ]
                        }, 
                        "compressionLevel" : 0
                    }
                }, 
                "physics" : {
                    "analyzers" : {

                    }, 
                    "producers" : {
                        "BuildInfo" : {
                            "module_type" : "ArtdaqDemoBuildInfo", 
                            "instance_name" : "ArtdaqDemo"
                        }
                    }, 
                    "filters" : {
                        "prescaleMod2" : {
                            "module_type" : "NthEvent", 
                            "nth" : 2
                        }, 
                        "prescaleMod3" : {
                            "module_type" : "NthEvent", 
                            "nth" : 3
                        }
                    }, 
                    "p1" : [

                    ], 
                    "p2" : [
                        "BuildInfo"
                    ], 
                    "pmod2" : [
                        "prescaleMod2"
                    ], 
                    "pmod3" : [
                        "prescaleMod3"
                    ], 
                    "my_output_modules" : [
                        "normalOutputMod2", 
   
05-12 17:27:18.570150  1 12 StorageProvider::FileSystemDB generate_oid=8c5c724500f84a7383daf97c
05-12 17:27:18.573292  1  4 StorageProvider::FileSystemDB::store() using generated oid=<8c5c724500f84a7383daf97c>.
05-12 17:27:18.573337  1  4 StorageProvider::FileSystemDB::store() collection_path=<file:///home/lukhanin/databases/filesystemdb/testLoadStore/>.
05-12 17:27:18.573366  1 11 StorageProvider::FileSystemDB mkdir dir=</home/lukhanin/databases/filesystemdb/testLoadStore/>
05-12 17:27:18.573413  1 11 StorageProvider::FileSystemDB Directory exists, checking permissions; path=</home/lukhanin/databases/filesystemdb/testLoadStore/>
05-12 17:27:18.573586  1  4 StorageProvider::FileSystemDB::store() filename=</home/lukhanin/databases/filesystemdb/testLoadStore/8c5c724500f84a7383daf97c.json>.
05-12 17:27:18.644805  1  3 StorageProvider::FileSystemDB::index::_open() begin
05-12 17:27:18.644827  1  3 StorageProvider::FileSystemDB::index::_open() args index_path=</home/lukhanin/databases/filesystemdb/testLoadStore/index.json>.
05-12 17:27:18.645338  1  3 StorageProvider::FileSystemDB::index::_open() json=<{
"version" : {
"versionA01749" : [
"94adcd1f5f6748cda59d13f6"
],
"versionB01749" : [
"0e0fcfb7044d4e91bbdf55e4"
],
"versionC01749" : [
"c5db7ef3aeae498db2a59caf"
],
"versionA38249" : [
"290ce4a4e0e74acfba4cf107"
],
"versionB38249" : [
"b9a1eb0a4c5d4ed1a6f3191d"
],
"versionC38249" : [
"462d4002a531489a94659025"
],
"versionA65272" : [
"d869fc26dff64c6fbe132357"
],
"versionB65272" : [
"33ae84a3b7054a61b8097407"
],
"versionC65272" : [
"339f0b2d469742b487dad30a"
],
"versionA51307" : [
"8f0f2deb56fc497e9df95cdc",
"b7cbfe9fa6824b6986f11961"
],
"versionB51307" : [
"37de50d6d24f425f82438214",
"69e4ec12f4004fd78279d7a4"
],
"versionC51307" : [
"1ac8123cca4d41e18ae5469a",
"5d7e5964c8db4094951f6c1a"
],
"versionD51307" : [
"a01e6f4de48b422c93b12d30",
"cbf93bfbb758457987a4ca7b"
],
"versionA47065" : [
"760547e4ab514d93a427723d"
],
"versionB47065" : [
"028bfcd6db994914a8bcd3c0"
],
"versionC47065" : [
"a9d35909c11f4e2088258de0"
],
"versionD47065" : [
"e6970a8af1ae46cb96f3b04e"
],
"versionA92247" : [
"931c9a2d3d6f492eae64a77a"
],
"versionB92247" : [
"6b3f830500e5408aa6202838"
],
"versionC92247" : [
"0a23f9c1bbe549eaba705411"
],
"versionD92247" : [
"248c18638534478d901aab15"
],
"versionA99672" : [
"e177642f644647f681a94b6c"
],
"versionB99672" : [
"5e4cf05d610b4b2b9d3d4634"
],
"versionC99672" : [
"897b402366a64975af0e15ce"
],
"versionD99672" : [
"a4d730ba9ed542a8b774c32a"
],
"versionA66670" : [
"959bfef9ec7740359a2fc892"
],
"versionB66670" : [
"77024268186043f7b8235cd4"
],
"versionC66670" : [
"c3925021720444ef9fa48362"
],
"versionD66670" : [
"fd76d2e20794456bbe0bc0be"
],
"versionA31346" : [
"9e41c7cd6c7344f2ac476d67"
],
"versionB31346" : [
"6bf1f423713e4425b6eda75a"
],
"versionC31346" : [
"479291d726964adea0a53ed4"
],
"versionD31346" : [
"e3deafbb081b488b931e901a"
],
"versionA94231" : [
"db2b80f3953d4d219edebb4a"
],
"versionB94231" : [
"5c13c931c85d4a2f92e31337"
],
"versionC94231" : [
"48c8e3bbb25945c889814e97"
],
"versionD94231" : [
"8c743796e37f4dd4aafe2de7"
],
"versionA44404" : [
"b9fe06644d14477fa728b736"
],
"versionB44404" : [
"42244dab6a0445f1a9b2d4a4"
],
"versionC44404" : [
"30e9297b394745d4a3fa8f2d"
],
"versionD44404" : [
"b1ca25d59d1743d38b261668"
],
"versionA85525" : [
"5899f8b64221476ca2fe0254"
],
"versionB85525" : [
"0503e7681d474f648dc0f46a"
],
"versionC85525" : [
"20bc3beef6034e7bab80807a"
],
"versionD85525" : [
"0fa4e196a38c46e490fdbb75"
],
"versionA98933" : [
"5d871d9c11b34dfbb87b2587"
],
"versionB98933" : [
"baf8cd287f264b9693991d11"
],
"versionC98933" : [
"b7554f8abd574792a881d5cb"
],
"versionD98933" : [
"31d11dd8a2a4457cb83a8576"
],
"versionA21637" : [
"f35d80227494480993721277"
],
"versionB21637" : [
"01262512155342efae539682"
],
"versionC21637" : [
"83b7d7d9ed61422d901c02f3"
]
},
"configurations.name" : {
"notprovided" : [
"01262512155342efae539682",
"028bfcd6db994914a8bcd3c0",
"0503e7681d474f648dc0f46a",
"0a23f9c1bbe549eaba705411",
"0e0fcfb7044d4e91bbdf55e4",
"0fa4e196a38c46e490fdbb75",
"1ac8123cca4d41e18ae5469a",
"20bc3beef6034e7bab80807a",
"248c18638534478d901aab15",
"290ce4a4e0e74acfba4cf107",
"30e9297b394745d4a3fa8f2d",
"31d11dd8a2a4457cb83a8576",
"339f0b2d469742b487dad30a",
"33ae84a3b7054a61b8097407",
"37de50d6d24f425f82438214",
"42244dab6a0445f1a9b2d4a4",
"462d4002a531489a94659025",
"479291d726964adea0a53ed4",
"48c8e3bbb25945c889814e97",
"5899f8b64221476ca2fe0254",
"5c13c931c85d4a2f92e31337",
"5d7e5964c8db4094951f6c1a",
"5d871d9c11b34dfbb87b2587",
"5e4cf05d610b4b2b9d3d4634",
"69e4ec12f4004fd78279d7a4",
"6b3f830500e5408aa6202838",
"6bf1f423713e4425b6eda75a",
"760547e4ab514d93a427723d",
"77024268186043f7b8235cd4",
"83b7d7d9ed61422d901c02f3",
"897b402366a64975af0e15ce",
"8c743796e37f4dd4aafe2de7",
"8f0f2deb56fc497e9df95cdc",
"931c9a2d3d6f492eae64a77a",
"94adcd1f5f6748cda59d13f6",
"959bfef9ec7740359a2fc892",
"9e41c7cd6c7344f2ac476d67",
"a01e6f4de48b422c93b12d30",
"a4d730ba9ed542a8b774c32a",
"a9d35909c11f4e2088258de0",
"b1ca25d59d1743d38b261668",
"b7554f8abd574792a881d5cb",
"b7cbfe9fa6824b6986f11961",
"b9a1eb0a4c5d4ed1a6f3191d",
"b9fe0664
05-12 17:27:18.650821  1  5 StorageProvider::FileSystemDB::index::addDocument() begin
05-12 17:27:18.650911  1  5 StorageProvider::FileSystemDB::index::addDocument() args document=<{
        "document" : {
            "data" : {
                "prolog" : {

                }, 
                "main" : {
                    "services" : {
                        "scheduler" : {
                            "fileMode" : "NOMERGE"
                        }, 
                        "NetMonTransportServiceInterface" : {
                            "service_provider" : "NetMonTransportService", 
                            "max_fragment_size_words" : 2097152
                        }
                    }, 
                    "daq" : {
                        "max_fragment_size_words" : 2097152, 
                        "aggregator" : {
                            "mpi_buffer_count" : 8, 
                            "first_event_builder_rank" : 2, 
                            "event_builder_count" : 2, 
                            "expected_events_per_bunch" : 1, 
                            "print_event_store_stats" : true, 
                            "event_queue_depth" : 20, 
                            "event_queue_wait_time" : 5, 
                            "onmon_event_prescale" : 1, 
                            "xmlrpc_client_list" : ";http://topol.fnal.gov:5205/RPC2,3;http://topol.fnal.gov:5206/RPC2,3;http://topol.fnal.gov:5235/RPC2,4;http://topol.fnal.gov:5236/RPC2,4;http://topol.fnal.gov:5265/RPC2,5;http://topol.fnal.gov:5266/RPC2,5", 
                            "file_size_MB" : 8000, 
                            "file_duration" : 0, 
                            "file_event_count" : 0
                        }, 
                        "metrics" : {
                            "aggFile" : {
                                "metricPluginType" : "file", 
                                "level" : 3, 
                                "fileName" : "/tmp/aggregator/agg_%UID%_metrics.log", 
                                "uniquify" : true
                            }
                        }
                    }, 
                    "source" : {
                        "module_type" : "NetMonInput"
                    }, 
                    "outputs" : {
                        "normalOutputMod2" : {
                            "module_type" : "RootOutput", 
                            "fileName" : "/tmp/artdaqdemo_r%06r_sr%02s_%to_mod2.root", 
                            "SelectEvents" : {
                                "SelectEvents" : [
                                    "pmod2"
                                ]
                            }, 
                            "compressionLevel" : 0
                        }, 
                        "normalOutputMod3" : {
                            "module_type" : "RootOutput", 
                            "fileName" : "/tmp/artdaqdemo_r%06r_sr%02s_%to_mod3.root", 
                            "SelectEvents" : {
                                "SelectEvents" : [
                                    "pmod3"
                                ]
                            }, 
                            "compressionLevel" : 0
                        }
                    }, 
                    "physics" : {
                        "analyzers" : {

                        }, 
                        "producers" : {
                            "BuildInfo" : {
                                "module_type" : "ArtdaqDemoBuildInfo", 
                                "instance_name" : "ArtdaqDemo"
                            }
                        }, 
                        "filters" : {
                            "prescaleMod2" : {
                                "module_type" : "NthEvent", 
                                "nth" : 2
                            }, 
                            "prescaleMod3" : {
                                "module_type" : "NthEvent", 
                                "nth" : 3
                            }
                        }, 
                        "p1" : [

                        ], 
                        "p
05-12 17:27:18.651010  1  5 StorageProvider::FileSystemDB::index::addDocument() args ouid=<8c5c724500f84a7383daf97c>.
05-12 17:27:18.664333  1  5 StorageProvider::FileSystemDB::index::addDocument() found 9 keys.
05-12 17:27:18.664355  1  7 StorageProvider::FileSystemDB::index::_addVersion() begin
05-12 17:27:18.664361  1  7 StorageProvider::FileSystemDB::index::_addVersion() args ouid=<8c5c724500f84a7383daf97c>.
05-12 17:27:18.664369  1  7 StorageProvider::FileSystemDB::index::_addVersion() args version=<versionD21637>.
05-12 17:27:18.664543  1  7 StorageProvider::FileSystemDB::index::_addConfiguration() begin
05-12 17:27:18.664553  1  7 StorageProvider::FileSystemDB::index::_addConfiguration() args ouid=<8c5c724500f84a7383daf97c>.
05-12 17:27:18.664558  1  7 StorageProvider::FileSystemDB::index::_addConfiguration() args configuration=<notprovided>.
05-12 17:27:18.664688  1  7 StorageProvider::FileSystemDB::index::_addConfigurableEntity() begin
05-12 17:27:18.664700  1  7 StorageProvider::FileSystemDB::index::_addConfigurableEntity() args ouid=<8c5c724500f84a7383daf97c>.
05-12 17:27:18.664706  1  7 StorageProvider::FileSystemDB::index::_addConfigurableEntity() args entity=<ENTITY-testLoadStore>.
05-12 17:27:18.664962  1  4 StorageProvider::FileSystemDB::index::_close() begin
05-12 17:27:18.670914  1  4 StorageProvider::FileSystemDB::index::_close() json=<{
"version" : {
"versionA01749" : [
"94adcd1f5f6748cda59d13f6"
],
"versionB01749" : [
"0e0fcfb7044d4e91bbdf55e4"
],
"versionC01749" : [
"c5db7ef3aeae498db2a59caf"
],
"versionA38249" : [
"290ce4a4e0e74acfba4cf107"
],
"versionB38249" : [
"b9a1eb0a4c5d4ed1a6f3191d"
],
"versionC38249" : [
"462d4002a531489a94659025"
],
"versionA65272" : [
"d869fc26dff64c6fbe132357"
],
"versionB65272" : [
"33ae84a3b7054a61b8097407"
],
"versionC65272" : [
"339f0b2d469742b487dad30a"
],
"versionA51307" : [
"8f0f2deb56fc497e9df95cdc",
"b7cbfe9fa6824b6986f11961"
],
"versionB51307" : [
"37de50d6d24f425f82438214",
"69e4ec12f4004fd78279d7a4"
],
"versionC51307" : [
"1ac8123cca4d41e18ae5469a",
"5d7e5964c8db4094951f6c1a"
],
"versionD51307" : [
"a01e6f4de48b422c93b12d30",
"cbf93bfbb758457987a4ca7b"
],
"versionA47065" : [
"760547e4ab514d93a427723d"
],
"versionB47065" : [
"028bfcd6db994914a8bcd3c0"
],
"versionC47065" : [
"a9d35909c11f4e2088258de0"
],
"versionD47065" : [
"e6970a8af1ae46cb96f3b04e"
],
"versionA92247" : [
"931c9a2d3d6f492eae64a77a"
],
"versionB92247" : [
"6b3f830500e5408aa6202838"
],
"versionC92247" : [
"0a23f9c1bbe549eaba705411"
],
"versionD92247" : [
"248c18638534478d901aab15"
],
"versionA99672" : [
"e177642f644647f681a94b6c"
],
"versionB99672" : [
"5e4cf05d610b4b2b9d3d4634"
],
"versionC99672" : [
"897b402366a64975af0e15ce"
],
"versionD99672" : [
"a4d730ba9ed542a8b774c32a"
],
"versionA66670" : [
"959bfef9ec7740359a2fc892"
],
"versionB66670" : [
"77024268186043f7b8235cd4"
],
"versionC66670" : [
"c3925021720444ef9fa48362"
],
"versionD66670" : [
"fd76d2e20794456bbe0bc0be"
],
"versionA31346" : [
"9e41c7cd6c7344f2ac476d67"
],
"versionB31346" : [
"6bf1f423713e4425b6eda75a"
],
"versionC31346" : [
"479291d726964adea0a53ed4"
],
"versionD31346" : [
"e3deafbb081b488b931e901a"
],
"versionA94231" : [
"db2b80f3953d4d219edebb4a"
],
"versionB94231" : [
"5c13c931c85d4a2f92e31337"
],
"versionC94231" : [
"48c8e3bbb25945c889814e97"
],
"versionD94231" : [
"8c743796e37f4dd4aafe2de7"
],
"versionA44404" : [
"b9fe06644d14477fa728b736"
],
"versionB44404" : [
"42244dab6a0445f1a9b2d4a4"
],
"versionC44404" : [
"30e9297b394745d4a3fa8f2d"
],
"versionD44404" : [
"b1ca25d59d1743d38b261668"
],
"versionA85525" : [
"5899f8b64221476ca2fe0254"
],
"versionB85525" : [
"0503e7681d474f648dc0f46a"
],
"versionC85525" : [
"20bc3beef6034e7bab80807a"
],
"versionD85525" : [
"0fa4e196a38c46e490fdbb75"
],
"versionA98933" : [
"5d871d9c11b34dfbb87b2587"
],
"versionB98933" : [
"baf8cd287f264b9693991d11"
],
"versionC98933" : [
"b7554f8abd574792a881d5cb"
],
"versionD98933" : [
"31d11dd8a2a4457cb83a8576"
],
"versionA21637" : [
"f35d80227494480993721277"
],
"versionB21637" : [
"01262512155342efae539682"
],
"versionC21637" : [
"83b7d7d9ed61422d901c02f3"
],
"versionD21637" : [
"8c5c724500f84a7383daf97c"
]
},
"configurations.name" : {
"notprovided" : [
"01262512155342efae539682",
"028bfcd6db994914a8bcd3c0",
"0503e7681d474f648dc0f46a",
"0a23f9c1bbe549eaba705411",
"0e0fcfb7044d4e91bbdf55e4",
"0fa4e196a38c46e490fdbb75",
"1ac8123cca4d41e18ae5469a",
"20bc3beef6034e7bab80807a",
"248c18638534478d901aab15",
"290ce4a4e0e74acfba4cf107",
"30e9297b394745d4a3fa8f2d",
"31d11dd8a2a4457cb83a8576",
"339f0b2d469742b487dad30a",
"33ae84a3b7054a61b8097407",
"37de50d6d24f425f82438214",
"42244dab6a0445f1a9b2d4a4",
"462d4002a531489a94659025",
"479291d726964adea0a53ed4",
"48c8e3bbb25945c889814e97",
"5899f8b64221476ca2fe0254",
"5c13c931c85d4a2f92e31337",
"5d7e5964c8db4094951f6c1a",
"5d871d9c11b34dfbb87b2587",
"5e4cf05d610b4b2b9d3d4634",
"69e4ec12f4004fd78279d7a4",
"6b3f830500e5408aa6202838",
"6bf1f423713e4425b6eda75a",
"760547e4ab514d93a427723d",
"77024268186043f7b8235cd4",
"83b7d7d9ed61422d901c02f3",
"897b402366a64975af0e15ce",
"8c5c724500f84a7383daf97c",
"8c743796e37f4dd4aafe2de7",
"8f0f2deb56fc497e9df95cdc",
"931c9a2d3d6f492eae64a77a",
"94adcd1f5f6748cda59d13f6",
"959bfef9ec7740359a2fc892",
"9e41c7cd6c7344f2ac476d67",
"a01e6f4de48b422c93b12d30",
"a4d730ba9ed542a8b774c32a",
"a9d35909c11f4e2088258de0",
"b1ca25d59d1743d38b261668",
"b7554f8abd574
05-12 17:27:18.671282  1  4 StorageProvider::FileSystemDB::index::_close() Closed SearchIndex.
05-12 17:27:18.671469  1 15 store_configuration: end
Parsed options:
{
"filter" : {
"version" : "versionD21637",
"configurable_entity.name" : "ENTITY-testLoadStore"
},
"dbprovider" : "filesystem",
"operation" : "store",
"collection" : "testLoadStore",
"dataformat" : "fhicl"
}
Running test:<store>
returned:
 
services: {
 
scheduler: {
 
fileMode: NOMERGE  

} 
NetMonTransportServiceInterface: {
 
service_provider: NetMonTransportService  
 
max_fragment_size_words: 2097152  

}
} 
daq: {
 
max_fragment_size_words: 2097152  
 
aggregator: {
 
mpi_buffer_count: 8  
 
first_event_builder_rank: 2  
 
event_builder_count: 2  
 
expected_events_per_bunch: 1  
 
print_event_store_stats: true  
 
event_queue_depth: 20  
 
event_queue_wait_time: 5  
 
onmon_event_prescale: 1  
 
xmlrpc_client_list: ";http://topol.fnal.gov:5205/RPC2,3;http://topol.fnal.gov:5206/RPC2,3;http://topol.fnal.gov:5235/RPC2,4;http://topol.fnal.gov:5236/RPC2,4;http://topol.fnal.gov:5265/RPC2,5;http://topol.fnal.gov:5266/RPC2,5"  
 
file_size_MB: 8000  
 
file_duration: 0  
 
file_event_count: 0  

} 
metrics: {
 
aggFile: {
 
metricPluginType: file  
 
level: 3  
 
fileName: "/tmp/aggregator/agg_%UID%_metrics.log"  
 
uniquify: true  

}
}
} 
source: {
 
module_type: NetMonInput  

} 
outputs: {
 
normalOutputMod2: {
 
module_type: RootOutput  
 
fileName: "/tmp/artdaqdemo_r%06r_sr%02s_%to_mod2.root"  
 
SelectEvents: {
 
SelectEvents: [pmod2]  

} 
compressionLevel: 0  

} 
normalOutputMod3: {
 
module_type: RootOutput  
 
fileName: "/tmp/artdaqdemo_r%06r_sr%02s_%to_mod3.root"  
 
SelectEvents: {
 
SelectEvents: [pmod3]  

} 
compressionLevel: 0  

}
} 
physics: {
 
analyzers: {

} 
producers: {
 
BuildInfo: {
 
module_type: ArtdaqDemoBuildInfo  
 
instance_name: ArtdaqDemo  

}
} 
filters: {
 
prescaleMod2: {
 
module_type: NthEvent  
 
nth: 2  

} 
prescaleMod3: {
 
module_type: NthEvent  
 
nth: 3  

}
} 
p1: []  
 
p2: [BuildInfo]  
 
pmod2: [prescaleMod2]  
 
pmod3: [prescaleMod3]  
#my_output_modules: [ normalOutput ]
my_output_modules: [normalOutputMod2, normalOutputMod3]  

} 
process_name: DAQAG  

<end of output>
Test time =   0.33 sec
----------------------------------------------------------
Test Passed.
"LoadStore_store_filesystem_012_t" end time: May 12 17:27 CDT
"LoadStore_store_filesystem_012_t" time elapsed: 00:00:00
----------------------------------------------------------

14/28 Testing: LoadStore_store_mongo_012_t
14/28 Test: LoadStore_store_mongo_012_t
Command: "/home/lukhanin/scratch/current/artdaq-demo-base/products/cetbuildtools/v4_18_02/bin/cet_exec_test" "--wd" "/home/lukhanin/scratch/current/artdaq-demo-base/build_artdaq-utilities-database/test/ConfigurationDB/LoadStore/test012/LoadStore_store_mongo_012_t.d" "--required-files" "" "--datafiles" "/home/lukhanin/scratch/current/artdaq-demo-base/build_artdaq-utilities-database/test/ConfigurationDB/LoadStore/test012/test011.src.887.fcl;/home/lukhanin/scratch/current/artdaq-demo-base/build_artdaq-utilities-database/test/ConfigurationDB/LoadStore/test012/test011.cmp.887.fcl;/home/lukhanin/scratch/current/artdaq-demo-base/build_artdaq-utilities-database/test/ConfigurationDB/LoadStore/test012/test011.flt.887.json" "--skip-return-code" "247" "LoadStore_t" "--searchquery=test011.flt.887.json" "-s" "test011.src.887.fcl" "-r" "test011.cmp.887.fcl"
Directory: /home/lukhanin/scratch/current/artdaq-demo-base/build_artdaq-utilities-database/test/ConfigurationDB/LoadStore/test012/LoadStore_store_mongo_012_t.d
"LoadStore_store_mongo_012_t" start time: May 12 17:27 CDT
Output:
----------------------------------------------------------
removed ‘test011.cmp.250.fcl’
removed ‘test011.flt.250.json’
removed ‘test011.src.250.fcl’
05-12 17:27:18.722541  1  0 artdaq::database::filesystem trace_enable
05-12 17:27:18.722704  1  0 artdaq::database::filesystem::index trace_enable
05-12 17:27:18.722761  1  0 artdaq::database::mongo trace_enable
05-12 17:27:18.722827  1  0 artdaq::database::configuration::LoadStoreOperation trace_enable
05-12 17:27:18.722871  1  0 artdaq::database::configuration::options::OperationBase trace_enable
05-12 17:27:18.722903  1  0 artdaq::database::configuration::options::OperationLoadStore trace_enable
05-12 17:27:18.722932  1  0 artdaq::database::configuration::LoadStoreOperationDetail trace_enable
05-12 17:27:18.724927  1 14 Options: json query= <{
    "filter":{"version":"versionD21637", "configurable_entity.name":"ENTITY-testLoadStore"},
    "collection":"testLoadStore",
    "dbprovider":"mongo",
    "operation":"store",
    "dataformat":"fhicl"
}
>
05-12 17:27:18.728429  1 12 Options: Updating provider from filesystem to mongo.
05-12 17:27:18.728460  1 10 Options: Updating operation from load to store.
05-12 17:27:18.728475  1 14 Options: dataFormat args format=<fhicl>.
05-12 17:27:18.728497  1 11 Options: Updating collection_name from notprovided to testLoadStore.
05-12 17:27:18.731232  1 15 Options: searchFilter args search_filter=<{
"version" : "versionD21637",
"configurable_entity.name" : "ENTITY-testLoadStore"
}>.
05-12 17:27:18.731662  1 15 Options: searchFilter args search_filter=<notprovided>.
05-12 17:27:18.731686  1 10 Options: Updating version from notprovided to versionD21637.
05-12 17:27:18.731714  1 11 Options: Updating entity from notprovided to ENTITY-testLoadStore.
05-12 17:27:18.734253  1 12 Options: Updating provider from filesystem to mongo.
05-12 17:27:18.734282  1 10 Options: Updating operation from load to store.
05-12 17:27:18.734294  1 14 Options: dataFormat args format=<fhicl>.
05-12 17:27:18.734304  1 11 Options: Updating collection_name from notprovided to testLoadStore.
05-12 17:27:18.734454  1 15 Options: searchFilter args search_filter=<{
"version" : "versionD21637",
"configurable_entity.name" : "ENTITY-testLoadStore"
}>.
05-12 17:27:18.734735  1 15 Options: searchFilter args search_filter=<notprovided>.
05-12 17:27:18.734758  1 10 Options: Updating version from notprovided to versionD21637.
05-12 17:27:18.734769  1 11 Options: Updating entity from notprovided to ENTITY-testLoadStore.
05-12 17:27:18.734815  1 15 store_configuration: begin
05-12 17:27:18.870111  1 17 store_configuration: Converted json data to fcl; json=<{
"document" : {
"data" : {
"prolog" : {

},
"main" : {
"services" : {
"scheduler" : {
"fileMode" : "NOMERGE"
},
"NetMonTransportServiceInterface" : {
"service_provider" : "NetMonTransportService",
"max_fragment_size_words" : 2097152
}
},
"daq" : {
"max_fragment_size_words" : 2097152,
"aggregator" : {
"mpi_buffer_count" : 8,
"first_event_builder_rank" : 2,
"event_builder_count" : 2,
"expected_events_per_bunch" : 1,
"print_event_store_stats" : true,
"event_queue_depth" : 20,
"event_queue_wait_time" : 5,
"onmon_event_prescale" : 1,
"xmlrpc_client_list" : ";http://topol.fnal.gov:5205/RPC2,3;http://topol.fnal.gov:5206/RPC2,3;http://topol.fnal.gov:5235/RPC2,4;http://topol.fnal.gov:5236/RPC2,4;http://topol.fnal.gov:5265/RPC2,5;http://topol.fnal.gov:5266/RPC2,5",
"file_size_MB" : 8000,
"file_duration" : 0,
"file_event_count" : 0
},
"metrics" : {
"aggFile" : {
"metricPluginType" : "file",
"level" : 3,
"fileName" : "/tmp/aggregator/agg_%UID%_metrics.log",
"uniquify" : true
}
}
},
"source" : {
"module_type" : "NetMonInput"
},
"outputs" : {
"normalOutputMod2" : {
"module_type" : "RootOutput",
"fileName" : "/tmp/artdaqdemo_r%06r_sr%02s_%to_mod2.root",
"SelectEvents" : {
"SelectEvents" : [
"pmod2"
]
},
"compressionLevel" : 0
},
"normalOutputMod3" : {
"module_type" : "RootOutput",
"fileName" : "/tmp/artdaqdemo_r%06r_sr%02s_%to_mod3.root",
"SelectEvents" : {
"SelectEvents" : [
"pmod3"
]
},
"compressionLevel" : 0
}
},
"physics" : {
"analyzers" : {

},
"producers" : {
"BuildInfo" : {
"module_type" : "ArtdaqDemoBuildInfo",
"instance_name" : "ArtdaqDemo"
}
},
"filters" : {
"prescaleMod2" : {
"module_type" : "NthEvent",
"nth" : 2
},
"prescaleMod3" : {
"module_type" : "NthEvent",
"nth" : 3
}
},
"p1" : [

],
"p2" : [
"BuildInfo"
],
"pmod2" : [
"prescaleMod2"
],
"pmod3" : [
"prescaleMod3"
],
"my_output_modules" : [
"normalOutputMod2",
"normalOutputMod3"
]
},
"process_name" : "DAQAG"
}
},
"metadata" : {
"prolog" : {

},
"main" : {
"services" : {
"type" : "table",
"comment" : " ",
"children" : {
"scheduler" : {
"type" : "table",
"comment" : " ",
"children" : {
"fileMode" : {
"type" : "string",
"comment" : " ",
"annotation" : " "
}
}
},
"NetMonTransportServiceInterface" : {
"type" : "table",
"comment" : " ",
"children" : {
"service_provider" : {
"type" : "string",
"comment" : " ",
"annotation" : " "
},
"max_fragment_size_words" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
}
}
}
}
},
"daq" : {
"type" : "table",
"comment" : " ",
"children" : {
"max_fragment_size_words" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"aggregator" : {
"type" : "table",
"comment" : " ",
"children" : {
"mpi_buffer_count" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"first_event_builder_rank" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"event_builder_count" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"expected_events_per_bunch" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"print_event_store_stats" : {
"type" : "bool",
"comment" : " ",
"annotation" : " "
},
"event_queue_depth" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"event_queue_wait_time" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"onmon_event_prescale" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"xmlrpc_client_list" : {
"type" : "string",
"comment" : " ",
"annotation" : " "
},
"file_size_MB" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"file_duration" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"file_event_count" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
}
}
},
"metrics" : {
"type" : "table",
"comment" : " ",
"children" : {
"aggFile" : {
"type" : "table",
"comment" : " ",
"children" : {
"metricPluginType" : {
"type" : "string",
"comment" : " ",
"annotation" : " "
},
"level" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"fileName" : {
"type" : "string",
"comment" : " ",
"annotation" : " "
},
"uniquify" : {
"type" : "
05-12 17:27:18.870161  1 17 store_configuration: Converted json data to fcl; fcl=< 
services: {
 
scheduler: {
 
fileMode: NOMERGE  

} 
NetMonTransportServiceInterface: {
 
service_provider: NetMonTransportService  
 
max_fragment_size_words: 2097152  

}
} 
daq: {
 
max_fragment_size_words: 2097152  
 
aggregator: {
 
mpi_buffer_count: 8  
 
first_event_builder_rank: 2  
 
event_builder_count: 2  
 
expected_events_per_bunch: 1  
 
print_event_store_stats: true  
 
event_queue_depth: 20  
 
event_queue_wait_time: 5  
 
onmon_event_prescale: 1  
 
xmlrpc_client_list: ";http://topol.fnal.gov:5205/RPC2,3;http://topol.fnal.gov:5206/RPC2,3;http://topol.fnal.gov:5235/RPC2,4;http://topol.fnal.gov:5236/RPC2,4;http://topol.fnal.gov:5265/RPC2,5;http://topol.fnal.gov:5266/RPC2,5"  
 
file_size_MB: 8000  
 
file_duration: 0  
 
file_event_count: 0  

} 
metrics: {
 
aggFile: {
 
metricPluginType: file  
 
level: 3  
 
fileName: "/tmp/aggregator/agg_%UID%_metrics.log"  
 
uniquify: true  

}
}
} 
source: {
 
module_type: NetMonInput  

} 
outputs: {
 
normalOutputMod2: {
 
module_type: RootOutput  
 
fileName: "/tmp/artdaqdemo_r%06r_sr%02s_%to_mod2.root"  
 
SelectEvents: {
 
SelectEvents: [pmod2]  

} 
compressionLevel: 0  

} 
normalOutputMod3: {
 
module_type: RootOutput  
 
fileName: "/tmp/artdaqdemo_r%06r_sr%02s_%to_mod3.root"  
 
SelectEvents: {
 
SelectEvents: [pmod3]  

} 
compressionLevel: 0  

}
} 
physics: {
 
analyzers: {

} 
producers: {
 
BuildInfo: {
 
module_type: ArtdaqDemoBuildInfo  
 
instance_name: ArtdaqDemo  

}
} 
filters: {
 
prescaleMod2: {
 
module_type: NthEvent  
 
nth: 2  

} 
prescaleMod3: {
 
module_type: NthEvent  
 
nth: 3  

}
} 
p1: []  
 
p2: [BuildInfo]  
 
pmod2: [prescaleMod2]  
 
pmod3: [prescaleMod3]  
#my_output_modules: [ normalOutput ]
my_output_modules: [normalOutputMod2, normalOutputMod3]  

} 
process_name: DAQAG  
>
05-12 17:27:18.870196  1 15 store_configuration: json_buffer=<{
"document" : {
"data" : {
"prolog" : {

},
"main" : {
"services" : {
"scheduler" : {
"fileMode" : "NOMERGE"
},
"NetMonTransportServiceInterface" : {
"service_provider" : "NetMonTransportService",
"max_fragment_size_words" : 2097152
}
},
"daq" : {
"max_fragment_size_words" : 2097152,
"aggregator" : {
"mpi_buffer_count" : 8,
"first_event_builder_rank" : 2,
"event_builder_count" : 2,
"expected_events_per_bunch" : 1,
"print_event_store_stats" : true,
"event_queue_depth" : 20,
"event_queue_wait_time" : 5,
"onmon_event_prescale" : 1,
"xmlrpc_client_list" : ";http://topol.fnal.gov:5205/RPC2,3;http://topol.fnal.gov:5206/RPC2,3;http://topol.fnal.gov:5235/RPC2,4;http://topol.fnal.gov:5236/RPC2,4;http://topol.fnal.gov:5265/RPC2,5;http://topol.fnal.gov:5266/RPC2,5",
"file_size_MB" : 8000,
"file_duration" : 0,
"file_event_count" : 0
},
"metrics" : {
"aggFile" : {
"metricPluginType" : "file",
"level" : 3,
"fileName" : "/tmp/aggregator/agg_%UID%_metrics.log",
"uniquify" : true
}
}
},
"source" : {
"module_type" : "NetMonInput"
},
"outputs" : {
"normalOutputMod2" : {
"module_type" : "RootOutput",
"fileName" : "/tmp/artdaqdemo_r%06r_sr%02s_%to_mod2.root",
"SelectEvents" : {
"SelectEvents" : [
"pmod2"
]
},
"compressionLevel" : 0
},
"normalOutputMod3" : {
"module_type" : "RootOutput",
"fileName" : "/tmp/artdaqdemo_r%06r_sr%02s_%to_mod3.root",
"SelectEvents" : {
"SelectEvents" : [
"pmod3"
]
},
"compressionLevel" : 0
}
},
"physics" : {
"analyzers" : {

},
"producers" : {
"BuildInfo" : {
"module_type" : "ArtdaqDemoBuildInfo",
"instance_name" : "ArtdaqDemo"
}
},
"filters" : {
"prescaleMod2" : {
"module_type" : "NthEvent",
"nth" : 2
},
"prescaleMod3" : {
"module_type" : "NthEvent",
"nth" : 3
}
},
"p1" : [

],
"p2" : [
"BuildInfo"
],
"pmod2" : [
"prescaleMod2"
],
"pmod3" : [
"prescaleMod3"
],
"my_output_modules" : [
"normalOutputMod2",
"normalOutputMod3"
]
},
"process_name" : "DAQAG"
}
},
"metadata" : {
"prolog" : {

},
"main" : {
"services" : {
"type" : "table",
"comment" : " ",
"children" : {
"scheduler" : {
"type" : "table",
"comment" : " ",
"children" : {
"fileMode" : {
"type" : "string",
"comment" : " ",
"annotation" : " "
}
}
},
"NetMonTransportServiceInterface" : {
"type" : "table",
"comment" : " ",
"children" : {
"service_provider" : {
"type" : "string",
"comment" : " ",
"annotation" : " "
},
"max_fragment_size_words" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
}
}
}
}
},
"daq" : {
"type" : "table",
"comment" : " ",
"children" : {
"max_fragment_size_words" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"aggregator" : {
"type" : "table",
"comment" : " ",
"children" : {
"mpi_buffer_count" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"first_event_builder_rank" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"event_builder_count" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"expected_events_per_bunch" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"print_event_store_stats" : {
"type" : "bool",
"comment" : " ",
"annotation" : " "
},
"event_queue_depth" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"event_queue_wait_time" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"onmon_event_prescale" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"xmlrpc_client_list" : {
"type" : "string",
"comment" : " ",
"annotation" : " "
},
"file_size_MB" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"file_duration" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"file_event_count" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
}
}
},
"metrics" : {
"type" : "table",
"comment" : " ",
"children" : {
"aggFile" : {
"type" : "table",
"comment" : " ",
"children" : {
"metricPluginType" : {
"type" : "string",
"comment" : " ",
"annotation" : " "
},
"level" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"fileName" : {
"type" : "string",
"comment" : " ",
"annotation" : " "
},
"uniquify" : {
"type" : "bool",
"comment" : " 
05-12 17:27:18.885982  1 15 store_configuration: insert_payload=<{"document":{
    "document" : {
        "data" : {
            "prolog" : {

            }, 
            "main" : {
                "services" : {
                    "scheduler" : {
                        "fileMode" : "NOMERGE"
                    }, 
                    "NetMonTransportServiceInterface" : {
                        "service_provider" : "NetMonTransportService", 
                        "max_fragment_size_words" : 2097152
                    }
                }, 
                "daq" : {
                    "max_fragment_size_words" : 2097152, 
                    "aggregator" : {
                        "mpi_buffer_count" : 8, 
                        "first_event_builder_rank" : 2, 
                        "event_builder_count" : 2, 
                        "expected_events_per_bunch" : 1, 
                        "print_event_store_stats" : true, 
                        "event_queue_depth" : 20, 
                        "event_queue_wait_time" : 5, 
                        "onmon_event_prescale" : 1, 
                        "xmlrpc_client_list" : ";http://topol.fnal.gov:5205/RPC2,3;http://topol.fnal.gov:5206/RPC2,3;http://topol.fnal.gov:5235/RPC2,4;http://topol.fnal.gov:5236/RPC2,4;http://topol.fnal.gov:5265/RPC2,5;http://topol.fnal.gov:5266/RPC2,5", 
                        "file_size_MB" : 8000, 
                        "file_duration" : 0, 
                        "file_event_count" : 0
                    }, 
                    "metrics" : {
                        "aggFile" : {
                            "metricPluginType" : "file", 
                            "level" : 3, 
                            "fileName" : "/tmp/aggregator/agg_%UID%_metrics.log", 
                            "uniquify" : true
                        }
                    }
                }, 
                "source" : {
                    "module_type" : "NetMonInput"
                }, 
                "outputs" : {
                    "normalOutputMod2" : {
                        "module_type" : "RootOutput", 
                        "fileName" : "/tmp/artdaqdemo_r%06r_sr%02s_%to_mod2.root", 
                        "SelectEvents" : {
                            "SelectEvents" : [
                                "pmod2"
                            ]
                        }, 
                        "compressionLevel" : 0
                    }, 
                    "normalOutputMod3" : {
                        "module_type" : "RootOutput", 
                        "fileName" : "/tmp/artdaqdemo_r%06r_sr%02s_%to_mod3.root", 
                        "SelectEvents" : {
                            "SelectEvents" : [
                                "pmod3"
                            ]
                        }, 
                        "compressionLevel" : 0
                    }
                }, 
                "physics" : {
                    "analyzers" : {

                    }, 
                    "producers" : {
                        "BuildInfo" : {
                            "module_type" : "ArtdaqDemoBuildInfo", 
                            "instance_name" : "ArtdaqDemo"
                        }
                    }, 
                    "filters" : {
                        "prescaleMod2" : {
                            "module_type" : "NthEvent", 
                            "nth" : 2
                        }, 
                        "prescaleMod3" : {
                            "module_type" : "NthEvent", 
                            "nth" : 3
                        }
                    }, 
                    "p1" : [

                    ], 
                    "p2" : [
                        "BuildInfo"
                    ], 
                    "pmod2" : [
                        "prescaleMod2"
                    ], 
                    "pmod3" : [
                        "prescaleMod3"
                    ], 
                    "my_output_modules" : [
                        "normalOutputMod2", 
                
05-12 17:27:18.887003  1  4 StorageProvider::MongoDB::store() begin
05-12 17:27:18.887449  1  4 Search filter is missing, proceeding with insert.
05-12 17:27:18.903466  1  5 inserted_id={
    "$oid" : "573503461a72ba50857bcbc1"
}
05-12 17:27:18.903779  1 15 store_configuration: end
Parsed options:
{
"filter" : {
"version" : "versionD21637",
"configurable_entity.name" : "ENTITY-testLoadStore"
},
"dbprovider" : "mongo",
"operation" : "store",
"collection" : "testLoadStore",
"dataformat" : "fhicl"
}
Running test:<store>
returned:
 
services: {
 
scheduler: {
 
fileMode: NOMERGE  

} 
NetMonTransportServiceInterface: {
 
service_provider: NetMonTransportService  
 
max_fragment_size_words: 2097152  

}
} 
daq: {
 
max_fragment_size_words: 2097152  
 
aggregator: {
 
mpi_buffer_count: 8  
 
first_event_builder_rank: 2  
 
event_builder_count: 2  
 
expected_events_per_bunch: 1  
 
print_event_store_stats: true  
 
event_queue_depth: 20  
 
event_queue_wait_time: 5  
 
onmon_event_prescale: 1  
 
xmlrpc_client_list: ";http://topol.fnal.gov:5205/RPC2,3;http://topol.fnal.gov:5206/RPC2,3;http://topol.fnal.gov:5235/RPC2,4;http://topol.fnal.gov:5236/RPC2,4;http://topol.fnal.gov:5265/RPC2,5;http://topol.fnal.gov:5266/RPC2,5"  
 
file_size_MB: 8000  
 
file_duration: 0  
 
file_event_count: 0  

} 
metrics: {
 
aggFile: {
 
metricPluginType: file  
 
level: 3  
 
fileName: "/tmp/aggregator/agg_%UID%_metrics.log"  
 
uniquify: true  

}
}
} 
source: {
 
module_type: NetMonInput  

} 
outputs: {
 
normalOutputMod2: {
 
module_type: RootOutput  
 
fileName: "/tmp/artdaqdemo_r%06r_sr%02s_%to_mod2.root"  
 
SelectEvents: {
 
SelectEvents: [pmod2]  

} 
compressionLevel: 0  

} 
normalOutputMod3: {
 
module_type: RootOutput  
 
fileName: "/tmp/artdaqdemo_r%06r_sr%02s_%to_mod3.root"  
 
SelectEvents: {
 
SelectEvents: [pmod3]  

} 
compressionLevel: 0  

}
} 
physics: {
 
analyzers: {

} 
producers: {
 
BuildInfo: {
 
module_type: ArtdaqDemoBuildInfo  
 
instance_name: ArtdaqDemo  

}
} 
filters: {
 
prescaleMod2: {
 
module_type: NthEvent  
 
nth: 2  

} 
prescaleMod3: {
 
module_type: NthEvent  
 
nth: 3  

}
} 
p1: []  
 
p2: [BuildInfo]  
 
pmod2: [prescaleMod2]  
 
pmod3: [prescaleMod3]  
#my_output_modules: [ normalOutput ]
my_output_modules: [normalOutputMod2, normalOutputMod3]  

} 
process_name: DAQAG  

<end of output>
Test time =   0.23 sec
----------------------------------------------------------
Test Passed.
"LoadStore_store_mongo_012_t" end time: May 12 17:27 CDT
"LoadStore_store_mongo_012_t" time elapsed: 00:00:00
----------------------------------------------------------

15/28 Testing: LoadStore_load_filesystem_014_t
15/28 Test: LoadStore_load_filesystem_014_t
Command: "/home/lukhanin/scratch/current/artdaq-demo-base/products/cetbuildtools/v4_18_02/bin/cet_exec_test" "--wd" "/home/lukhanin/scratch/current/artdaq-demo-base/build_artdaq-utilities-database/test/ConfigurationDB/LoadStore/test014/LoadStore_load_filesystem_014_t.d" "--required-files" "" "--datafiles" "/home/lukhanin/scratch/current/artdaq-demo-base/build_artdaq-utilities-database/test/ConfigurationDB/LoadStore/test014/test011.cmp.568.fcl;/home/lukhanin/scratch/current/artdaq-demo-base/build_artdaq-utilities-database/test/ConfigurationDB/LoadStore/test014/test011.flt.568.json" "--skip-return-code" "247" "LoadStore_t" "--searchquery=test011.flt.568.json" "-r" "test011.cmp.568.fcl"
Directory: /home/lukhanin/scratch/current/artdaq-demo-base/build_artdaq-utilities-database/test/ConfigurationDB/LoadStore/test014/LoadStore_load_filesystem_014_t.d
"LoadStore_load_filesystem_014_t" start time: May 12 17:27 CDT
Output:
----------------------------------------------------------
removed ‘test011.cmp.395.fcl’
removed ‘test011.flt.395.json’
05-12 17:27:18.969693  1  0 artdaq::database::filesystem trace_enable
05-12 17:27:18.969971  1  0 artdaq::database::filesystem::index trace_enable
05-12 17:27:18.970098  1  0 artdaq::database::mongo trace_enable
05-12 17:27:18.970227  1  0 artdaq::database::configuration::LoadStoreOperation trace_enable
05-12 17:27:18.970320  1  0 artdaq::database::configuration::options::OperationBase trace_enable
05-12 17:27:18.970386  1  0 artdaq::database::configuration::options::OperationLoadStore trace_enable
05-12 17:27:18.970463  1  0 artdaq::database::configuration::LoadStoreOperationDetail trace_enable
05-12 17:27:18.973112  1 14 Options: json query= <{
    "filter":{"version":"versionD21637", "configurable_entity.name":"ENTITY-testLoadStore"},
    "collection":"testLoadStore",
    "dbprovider":"filesystem",
    "operation":"load",
    "dataformat":"fhicl"
}
>
05-12 17:27:18.978488  1 12 Options: Updating provider from filesystem to filesystem.
05-12 17:27:18.978547  1 10 Options: Updating operation from load to load.
05-12 17:27:18.978580  1 14 Options: dataFormat args format=<fhicl>.
05-12 17:27:18.978624  1 11 Options: Updating collection_name from notprovided to testLoadStore.
05-12 17:27:18.982564  1 15 Options: searchFilter args search_filter=<{
"version" : "versionD21637",
"configurable_entity.name" : "ENTITY-testLoadStore"
}>.
05-12 17:27:18.983032  1 15 Options: searchFilter args search_filter=<notprovided>.
05-12 17:27:18.983063  1 10 Options: Updating version from notprovided to versionD21637.
05-12 17:27:18.983093  1 11 Options: Updating entity from notprovided to ENTITY-testLoadStore.
05-12 17:27:18.986502  1 12 Options: Updating provider from filesystem to filesystem.
05-12 17:27:18.986528  1 10 Options: Updating operation from load to load.
05-12 17:27:18.986560  1 14 Options: dataFormat args format=<fhicl>.
05-12 17:27:18.986586  1 11 Options: Updating collection_name from notprovided to testLoadStore.
05-12 17:27:18.986815  1 15 Options: searchFilter args search_filter=<{
"version" : "versionD21637",
"configurable_entity.name" : "ENTITY-testLoadStore"
}>.
05-12 17:27:18.987242  1 15 Options: searchFilter args search_filter=<notprovided>.
05-12 17:27:18.987265  1 10 Options: Updating version from notprovided to versionD21637.
05-12 17:27:18.987295  1 11 Options: Updating entity from notprovided to ENTITY-testLoadStore.
05-12 17:27:18.987365  1 16 load_configuration: begin
05-12 17:27:18.987890  1 16 load_configuration: search_payload=<{"filter":{
"version" : "versionD21637",
"configurable_entity.name" : "ENTITY-testLoadStore"
}, "collection":"testLoadStore"}>
05-12 17:27:18.988215  1  3 StorageProvider::FileSystemDB::load() begin
05-12 17:27:18.988244  1  3 StorageProvider::FileSystemDB::load() args search=<{"filter":{
"version" : "versionD21637",
"configurable_entity.name" : "ENTITY-testLoadStore"
}, "collection":"testLoadStore"}>
05-12 17:27:18.998812  1  3 StorageProvider::FileSystemDB::load() collection_path=<file:///home/lukhanin/databases/filesystemdb/testLoadStore/>.
05-12 17:27:18.998868  1 11 StorageProvider::FileSystemDB mkdir dir=</home/lukhanin/databases/filesystemdb/testLoadStore/>
05-12 17:27:18.998940  1 11 StorageProvider::FileSystemDB Directory exists, checking permissions; path=</home/lukhanin/databases/filesystemdb/testLoadStore/>
05-12 17:27:18.999190  1  3 StorageProvider::FileSystemDB::index::_open() begin
05-12 17:27:18.999215  1  3 StorageProvider::FileSystemDB::index::_open() args index_path=</home/lukhanin/databases/filesystemdb/testLoadStore/index.json>.
05-12 17:27:19.000031  1  3 StorageProvider::FileSystemDB::index::_open() json=<{
"version" : {
"versionA01749" : [
"94adcd1f5f6748cda59d13f6"
],
"versionB01749" : [
"0e0fcfb7044d4e91bbdf55e4"
],
"versionC01749" : [
"c5db7ef3aeae498db2a59caf"
],
"versionA38249" : [
"290ce4a4e0e74acfba4cf107"
],
"versionB38249" : [
"b9a1eb0a4c5d4ed1a6f3191d"
],
"versionC38249" : [
"462d4002a531489a94659025"
],
"versionA65272" : [
"d869fc26dff64c6fbe132357"
],
"versionB65272" : [
"33ae84a3b7054a61b8097407"
],
"versionC65272" : [
"339f0b2d469742b487dad30a"
],
"versionA51307" : [
"8f0f2deb56fc497e9df95cdc",
"b7cbfe9fa6824b6986f11961"
],
"versionB51307" : [
"37de50d6d24f425f82438214",
"69e4ec12f4004fd78279d7a4"
],
"versionC51307" : [
"1ac8123cca4d41e18ae5469a",
"5d7e5964c8db4094951f6c1a"
],
"versionD51307" : [
"a01e6f4de48b422c93b12d30",
"cbf93bfbb758457987a4ca7b"
],
"versionA47065" : [
"760547e4ab514d93a427723d"
],
"versionB47065" : [
"028bfcd6db994914a8bcd3c0"
],
"versionC47065" : [
"a9d35909c11f4e2088258de0"
],
"versionD47065" : [
"e6970a8af1ae46cb96f3b04e"
],
"versionA92247" : [
"931c9a2d3d6f492eae64a77a"
],
"versionB92247" : [
"6b3f830500e5408aa6202838"
],
"versionC92247" : [
"0a23f9c1bbe549eaba705411"
],
"versionD92247" : [
"248c18638534478d901aab15"
],
"versionA99672" : [
"e177642f644647f681a94b6c"
],
"versionB99672" : [
"5e4cf05d610b4b2b9d3d4634"
],
"versionC99672" : [
"897b402366a64975af0e15ce"
],
"versionD99672" : [
"a4d730ba9ed542a8b774c32a"
],
"versionA66670" : [
"959bfef9ec7740359a2fc892"
],
"versionB66670" : [
"77024268186043f7b8235cd4"
],
"versionC66670" : [
"c3925021720444ef9fa48362"
],
"versionD66670" : [
"fd76d2e20794456bbe0bc0be"
],
"versionA31346" : [
"9e41c7cd6c7344f2ac476d67"
],
"versionB31346" : [
"6bf1f423713e4425b6eda75a"
],
"versionC31346" : [
"479291d726964adea0a53ed4"
],
"versionD31346" : [
"e3deafbb081b488b931e901a"
],
"versionA94231" : [
"db2b80f3953d4d219edebb4a"
],
"versionB94231" : [
"5c13c931c85d4a2f92e31337"
],
"versionC94231" : [
"48c8e3bbb25945c889814e97"
],
"versionD94231" : [
"8c743796e37f4dd4aafe2de7"
],
"versionA44404" : [
"b9fe06644d14477fa728b736"
],
"versionB44404" : [
"42244dab6a0445f1a9b2d4a4"
],
"versionC44404" : [
"30e9297b394745d4a3fa8f2d"
],
"versionD44404" : [
"b1ca25d59d1743d38b261668"
],
"versionA85525" : [
"5899f8b64221476ca2fe0254"
],
"versionB85525" : [
"0503e7681d474f648dc0f46a"
],
"versionC85525" : [
"20bc3beef6034e7bab80807a"
],
"versionD85525" : [
"0fa4e196a38c46e490fdbb75"
],
"versionA98933" : [
"5d871d9c11b34dfbb87b2587"
],
"versionB98933" : [
"baf8cd287f264b9693991d11"
],
"versionC98933" : [
"b7554f8abd574792a881d5cb"
],
"versionD98933" : [
"31d11dd8a2a4457cb83a8576"
],
"versionA21637" : [
"f35d80227494480993721277"
],
"versionB21637" : [
"01262512155342efae539682"
],
"versionC21637" : [
"83b7d7d9ed61422d901c02f3"
],
"versionD21637" : [
"8c5c724500f84a7383daf97c"
]
},
"configurations.name" : {
"notprovided" : [
"01262512155342efae539682",
"028bfcd6db994914a8bcd3c0",
"0503e7681d474f648dc0f46a",
"0a23f9c1bbe549eaba705411",
"0e0fcfb7044d4e91bbdf55e4",
"0fa4e196a38c46e490fdbb75",
"1ac8123cca4d41e18ae5469a",
"20bc3beef6034e7bab80807a",
"248c18638534478d901aab15",
"290ce4a4e0e74acfba4cf107",
"30e9297b394745d4a3fa8f2d",
"31d11dd8a2a4457cb83a8576",
"339f0b2d469742b487dad30a",
"33ae84a3b7054a61b8097407",
"37de50d6d24f425f82438214",
"42244dab6a0445f1a9b2d4a4",
"462d4002a531489a94659025",
"479291d726964adea0a53ed4",
"48c8e3bbb25945c889814e97",
"5899f8b64221476ca2fe0254",
"5c13c931c85d4a2f92e31337",
"5d7e5964c8db4094951f6c1a",
"5d871d9c11b34dfbb87b2587",
"5e4cf05d610b4b2b9d3d4634",
"69e4ec12f4004fd78279d7a4",
"6b3f830500e5408aa6202838",
"6bf1f423713e4425b6eda75a",
"760547e4ab514d93a427723d",
"77024268186043f7b8235cd4",
"83b7d7d9ed61422d901c02f3",
"897b402366a64975af0e15ce",
"8c5c724500f84a7383daf97c",
"8c743796e37f4dd4aafe2de7",
"8f0f2deb56fc497e9df95cdc",
"931c9a2d3d6f492eae64a77a",
"94adcd1f5f6748cda59d13f6",
"959bfef9ec7740359a2fc892",
"9e41c7cd6c7344f2ac476d67",
"a01e6f4de48b422c93b12d30",
"a4d730ba9ed542a8b774c32a",
"a9d35909c11f4e2088258de0",
"b1ca25d59d1743d38b261668",
"b7554f8abd5747
05-12 17:27:19.009620  1  2 StorageProvider::FileSystemDB::index::findDocumentIDs() begin
05-12 17:27:19.009643  1  2 StorageProvider::FileSystemDB::index::findDocumentIDs() args search=<{
        "version" : "versionD21637", 
        "configurable_entity.name" : "ENTITY-testLoadStore"
    }>.
05-12 17:27:19.009868  1  5 StorageProvider::FileSystemDB::index::findDocumentIDs() found 2 search criteria.
05-12 17:27:19.010109  1 14 StorageProvider::FileSystemDB::index::_matchVersion() begin
05-12 17:27:19.010125  1 14 StorageProvider::FileSystemDB::index::_matchVersion() args version=<versionD21637>.
05-12 17:27:19.010199  1 15 StorageProvider::FileSystemDB::index::_matchConfiguration() Found 1 documents where version=versionD21637
05-12 17:27:19.010276  1 15 StorageProvider::FileSystemDB::index::_matchConfigurableEntity() begin
05-12 17:27:19.010289  1 15 StorageProvider::FileSystemDB::index::_matchConfigurableEntity() args configurable_entity=<ENTITY-testLoadStore>.
05-12 17:27:19.010320  1 15 StorageProvider::FileSystemDB::index::_matchConfigurableEntity() Found 26 documents where entity=ENTITY-testLoadStore
05-12 17:27:19.010546  1  5 StorageProvider::FileSystemDB::index::findDocumentIDs() criteria_count=2, max_count=2, found 1 documents.
05-12 17:27:19.010595  1  5 StorageProvider::FileSystemDB::index::findDocumentIDs() returning 1 documents.
05-12 17:27:19.010623  1  3 StorageProvider::FileSystemDB::load() search returned 1 documents.
05-12 17:27:19.010782  1  3 StorageProvider::FileSystemDB::load() reading document </home/lukhanin/databases/filesystemdb/testLoadStore/8c5c724500f84a7383daf97c.json>.
05-12 17:27:19.013385  1  4 StorageProvider::FileSystemDB::index::_close() begin
05-12 17:27:19.022460  1  4 StorageProvider::FileSystemDB::index::_close() json=<{
"version" : {
"versionA01749" : [
"94adcd1f5f6748cda59d13f6"
],
"versionB01749" : [
"0e0fcfb7044d4e91bbdf55e4"
],
"versionC01749" : [
"c5db7ef3aeae498db2a59caf"
],
"versionA38249" : [
"290ce4a4e0e74acfba4cf107"
],
"versionB38249" : [
"b9a1eb0a4c5d4ed1a6f3191d"
],
"versionC38249" : [
"462d4002a531489a94659025"
],
"versionA65272" : [
"d869fc26dff64c6fbe132357"
],
"versionB65272" : [
"33ae84a3b7054a61b8097407"
],
"versionC65272" : [
"339f0b2d469742b487dad30a"
],
"versionA51307" : [
"8f0f2deb56fc497e9df95cdc",
"b7cbfe9fa6824b6986f11961"
],
"versionB51307" : [
"37de50d6d24f425f82438214",
"69e4ec12f4004fd78279d7a4"
],
"versionC51307" : [
"1ac8123cca4d41e18ae5469a",
"5d7e5964c8db4094951f6c1a"
],
"versionD51307" : [
"a01e6f4de48b422c93b12d30",
"cbf93bfbb758457987a4ca7b"
],
"versionA47065" : [
"760547e4ab514d93a427723d"
],
"versionB47065" : [
"028bfcd6db994914a8bcd3c0"
],
"versionC47065" : [
"a9d35909c11f4e2088258de0"
],
"versionD47065" : [
"e6970a8af1ae46cb96f3b04e"
],
"versionA92247" : [
"931c9a2d3d6f492eae64a77a"
],
"versionB92247" : [
"6b3f830500e5408aa6202838"
],
"versionC92247" : [
"0a23f9c1bbe549eaba705411"
],
"versionD92247" : [
"248c18638534478d901aab15"
],
"versionA99672" : [
"e177642f644647f681a94b6c"
],
"versionB99672" : [
"5e4cf05d610b4b2b9d3d4634"
],
"versionC99672" : [
"897b402366a64975af0e15ce"
],
"versionD99672" : [
"a4d730ba9ed542a8b774c32a"
],
"versionA66670" : [
"959bfef9ec7740359a2fc892"
],
"versionB66670" : [
"77024268186043f7b8235cd4"
],
"versionC66670" : [
"c3925021720444ef9fa48362"
],
"versionD66670" : [
"fd76d2e20794456bbe0bc0be"
],
"versionA31346" : [
"9e41c7cd6c7344f2ac476d67"
],
"versionB31346" : [
"6bf1f423713e4425b6eda75a"
],
"versionC31346" : [
"479291d726964adea0a53ed4"
],
"versionD31346" : [
"e3deafbb081b488b931e901a"
],
"versionA94231" : [
"db2b80f3953d4d219edebb4a"
],
"versionB94231" : [
"5c13c931c85d4a2f92e31337"
],
"versionC94231" : [
"48c8e3bbb25945c889814e97"
],
"versionD94231" : [
"8c743796e37f4dd4aafe2de7"
],
"versionA44404" : [
"b9fe06644d14477fa728b736"
],
"versionB44404" : [
"42244dab6a0445f1a9b2d4a4"
],
"versionC44404" : [
"30e9297b394745d4a3fa8f2d"
],
"versionD44404" : [
"b1ca25d59d1743d38b261668"
],
"versionA85525" : [
"5899f8b64221476ca2fe0254"
],
"versionB85525" : [
"0503e7681d474f648dc0f46a"
],
"versionC85525" : [
"20bc3beef6034e7bab80807a"
],
"versionD85525" : [
"0fa4e196a38c46e490fdbb75"
],
"versionA98933" : [
"5d871d9c11b34dfbb87b2587"
],
"versionB98933" : [
"baf8cd287f264b9693991d11"
],
"versionC98933" : [
"b7554f8abd574792a881d5cb"
],
"versionD98933" : [
"31d11dd8a2a4457cb83a8576"
],
"versionA21637" : [
"f35d80227494480993721277"
],
"versionB21637" : [
"01262512155342efae539682"
],
"versionC21637" : [
"83b7d7d9ed61422d901c02f3"
],
"versionD21637" : [
"8c5c724500f84a7383daf97c"
]
},
"configurations.name" : {
"notprovided" : [
"01262512155342efae539682",
"028bfcd6db994914a8bcd3c0",
"0503e7681d474f648dc0f46a",
"0a23f9c1bbe549eaba705411",
"0e0fcfb7044d4e91bbdf55e4",
"0fa4e196a38c46e490fdbb75",
"1ac8123cca4d41e18ae5469a",
"20bc3beef6034e7bab80807a",
"248c18638534478d901aab15",
"290ce4a4e0e74acfba4cf107",
"30e9297b394745d4a3fa8f2d",
"31d11dd8a2a4457cb83a8576",
"339f0b2d469742b487dad30a",
"33ae84a3b7054a61b8097407",
"37de50d6d24f425f82438214",
"42244dab6a0445f1a9b2d4a4",
"462d4002a531489a94659025",
"479291d726964adea0a53ed4",
"48c8e3bbb25945c889814e97",
"5899f8b64221476ca2fe0254",
"5c13c931c85d4a2f92e31337",
"5d7e5964c8db4094951f6c1a",
"5d871d9c11b34dfbb87b2587",
"5e4cf05d610b4b2b9d3d4634",
"69e4ec12f4004fd78279d7a4",
"6b3f830500e5408aa6202838",
"6bf1f423713e4425b6eda75a",
"760547e4ab514d93a427723d",
"77024268186043f7b8235cd4",
"83b7d7d9ed61422d901c02f3",
"897b402366a64975af0e15ce",
"8c5c724500f84a7383daf97c",
"8c743796e37f4dd4aafe2de7",
"8f0f2deb56fc497e9df95cdc",
"931c9a2d3d6f492eae64a77a",
"94adcd1f5f6748cda59d13f6",
"959bfef9ec7740359a2fc892",
"9e41c7cd6c7344f2ac476d67",
"a01e6f4de48b422c93b12d30",
"a4d730ba9ed542a8b774c32a",
"a9d35909c11f4e2088258de0",
"b1ca25d59d1743d38b261668",
"b7554f8abd574
05-12 17:27:19.022940  1  4 StorageProvider::FileSystemDB::index::_close() Closed SearchIndex.
05-12 17:27:19.062365  1 15 load_configuration: end
Parsed options:
{
"filter" : {
"version" : "versionD21637",
"configurable_entity.name" : "ENTITY-testLoadStore"
},
"dbprovider" : "filesystem",
"operation" : "load",
"collection" : "testLoadStore",
"dataformat" : "fhicl"
}
Running test:<load>
returned:
 
services: {
 
scheduler: {
 
fileMode: NOMERGE  

} 
NetMonTransportServiceInterface: {
 
service_provider: NetMonTransportService  
 
max_fragment_size_words: 2097152  

}
} 
daq: {
 
max_fragment_size_words: 2097152  
 
aggregator: {
 
mpi_buffer_count: 8  
 
first_event_builder_rank: 2  
 
event_builder_count: 2  
 
expected_events_per_bunch: 1  
 
print_event_store_stats: true  
 
event_queue_depth: 20  
 
event_queue_wait_time: 5  
 
onmon_event_prescale: 1  
 
xmlrpc_client_list: ";http://topol.fnal.gov:5205/RPC2,3;http://topol.fnal.gov:5206/RPC2,3;http://topol.fnal.gov:5235/RPC2,4;http://topol.fnal.gov:5236/RPC2,4;http://topol.fnal.gov:5265/RPC2,5;http://topol.fnal.gov:5266/RPC2,5"  
 
file_size_MB: 8000  
 
file_duration: 0  
 
file_event_count: 0  

} 
metrics: {
 
aggFile: {
 
metricPluginType: file  
 
level: 3  
 
fileName: "/tmp/aggregator/agg_%UID%_metrics.log"  
 
uniquify: true  

}
}
} 
source: {
 
module_type: NetMonInput  

} 
outputs: {
 
normalOutputMod2: {
 
module_type: RootOutput  
 
fileName: "/tmp/artdaqdemo_r%06r_sr%02s_%to_mod2.root"  
 
SelectEvents: {
 
SelectEvents: [pmod2]  

} 
compressionLevel: 0  

} 
normalOutputMod3: {
 
module_type: RootOutput  
 
fileName: "/tmp/artdaqdemo_r%06r_sr%02s_%to_mod3.root"  
 
SelectEvents: {
 
SelectEvents: [pmod3]  

} 
compressionLevel: 0  

}
} 
physics: {
 
analyzers: {

} 
producers: {
 
BuildInfo: {
 
module_type: ArtdaqDemoBuildInfo  
 
instance_name: ArtdaqDemo  

}
} 
filters: {
 
prescaleMod2: {
 
module_type: NthEvent  
 
nth: 2  

} 
prescaleMod3: {
 
module_type: NthEvent  
 
nth: 3  

}
} 
p1: []  
 
p2: [BuildInfo]  
 
pmod2: [prescaleMod2]  
 
pmod3: [prescaleMod3]  
#my_output_modules: [ normalOutput ]
my_output_modules: [normalOutputMod2, normalOutputMod3]  

} 
process_name: DAQAG  

<end of output>
Test time =   0.16 sec
----------------------------------------------------------
Test Passed.
"LoadStore_load_filesystem_014_t" end time: May 12 17:27 CDT
"LoadStore_load_filesystem_014_t" time elapsed: 00:00:00
----------------------------------------------------------

16/28 Testing: LoadStore_load_mongo_014_t
16/28 Test: LoadStore_load_mongo_014_t
Command: "/home/lukhanin/scratch/current/artdaq-demo-base/products/cetbuildtools/v4_18_02/bin/cet_exec_test" "--wd" "/home/lukhanin/scratch/current/artdaq-demo-base/build_artdaq-utilities-database/test/ConfigurationDB/LoadStore/test014/LoadStore_load_mongo_014_t.d" "--required-files" "" "--datafiles" "/home/lukhanin/scratch/current/artdaq-demo-base/build_artdaq-utilities-database/test/ConfigurationDB/LoadStore/test014/test011.cmp.520.fcl;/home/lukhanin/scratch/current/artdaq-demo-base/build_artdaq-utilities-database/test/ConfigurationDB/LoadStore/test014/test011.flt.520.json" "--skip-return-code" "247" "LoadStore_t" "--searchquery=test011.flt.520.json" "-r" "test011.cmp.520.fcl"
Directory: /home/lukhanin/scratch/current/artdaq-demo-base/build_artdaq-utilities-database/test/ConfigurationDB/LoadStore/test014/LoadStore_load_mongo_014_t.d
"LoadStore_load_mongo_014_t" start time: May 12 17:27 CDT
Output:
----------------------------------------------------------
removed ‘test011.cmp.285.fcl’
removed ‘test011.flt.285.json’
05-12 17:27:19.125234  1  0 artdaq::database::filesystem trace_enable
05-12 17:27:19.125504  1  0 artdaq::database::filesystem::index trace_enable
05-12 17:27:19.125600  1  0 artdaq::database::mongo trace_enable
05-12 17:27:19.125708  1  0 artdaq::database::configuration::LoadStoreOperation trace_enable
05-12 17:27:19.125781  1  0 artdaq::database::configuration::options::OperationBase trace_enable
05-12 17:27:19.125830  1  0 artdaq::database::configuration::options::OperationLoadStore trace_enable
05-12 17:27:19.125884  1  0 artdaq::database::configuration::LoadStoreOperationDetail trace_enable
05-12 17:27:19.128443  1 14 Options: json query= <{
    "filter":{"version":"versionD21637", "configurable_entity.name":"ENTITY-testLoadStore"},
    "collection":"testLoadStore",
    "dbprovider":"mongo",
    "operation":"load",
    "dataformat":"fhicl"
}
>
05-12 17:27:19.133350  1 12 Options: Updating provider from filesystem to mongo.
05-12 17:27:19.133403  1 10 Options: Updating operation from load to load.
05-12 17:27:19.133425  1 14 Options: dataFormat args format=<fhicl>.
05-12 17:27:19.133471  1 11 Options: Updating collection_name from notprovided to testLoadStore.
05-12 17:27:19.137079  1 15 Options: searchFilter args search_filter=<{
"version" : "versionD21637",
"configurable_entity.name" : "ENTITY-testLoadStore"
}>.
05-12 17:27:19.137510  1 15 Options: searchFilter args search_filter=<notprovided>.
05-12 17:27:19.137538  1 10 Options: Updating version from notprovided to versionD21637.
05-12 17:27:19.137566  1 11 Options: Updating entity from notprovided to ENTITY-testLoadStore.
05-12 17:27:19.140403  1 12 Options: Updating provider from filesystem to mongo.
05-12 17:27:19.140439  1 10 Options: Updating operation from load to load.
05-12 17:27:19.140467  1 14 Options: dataFormat args format=<fhicl>.
05-12 17:27:19.140491  1 11 Options: Updating collection_name from notprovided to testLoadStore.
05-12 17:27:19.140690  1 15 Options: searchFilter args search_filter=<{
"version" : "versionD21637",
"configurable_entity.name" : "ENTITY-testLoadStore"
}>.
05-12 17:27:19.141071  1 15 Options: searchFilter args search_filter=<notprovided>.
05-12 17:27:19.141094  1 10 Options: Updating version from notprovided to versionD21637.
05-12 17:27:19.141120  1 11 Options: Updating entity from notprovided to ENTITY-testLoadStore.
05-12 17:27:19.141179  1 16 load_configuration: begin
05-12 17:27:19.141641  1 16 load_configuration: search_payload=<{"filter":{
"version" : "versionD21637",
"configurable_entity.name" : "ENTITY-testLoadStore"
}, "collection":"testLoadStore"}>
05-12 17:27:19.142847  1  3 StorageProvider::MongoDB::load() begin
05-12 17:27:19.142877  1  3 StorageProvider::MongoDB::load() args search=<{"filter":{
"version" : "versionD21637",
"configurable_entity.name" : "ENTITY-testLoadStore"
}, "collection":"testLoadStore"}>
05-12 17:27:19.143670  1  3 StorageProvider::MongoDB::load() user provided filter=<{
    "version" : "versionD21637", 
    "configurable_entity.name" : "ENTITY-testLoadStore"
}>
05-12 17:27:19.143761  1  2 search filter=<{
    "version" : "versionD21637", 
    "configurable_entity.name" : "ENTITY-testLoadStore"
}>
05-12 17:27:19.146620  1  3 found_count=1
05-12 17:27:19.197663  1 15 load_configuration: end
Parsed options:
{
"filter" : {
"version" : "versionD21637",
"configurable_entity.name" : "ENTITY-testLoadStore"
},
"dbprovider" : "mongo",
"operation" : "load",
"collection" : "testLoadStore",
"dataformat" : "fhicl"
}
Running test:<load>
returned:
 
services: {
 
scheduler: {
 
fileMode: NOMERGE  

} 
NetMonTransportServiceInterface: {
 
service_provider: NetMonTransportService  
 
max_fragment_size_words: 2097152  

}
} 
daq: {
 
max_fragment_size_words: 2097152  
 
aggregator: {
 
mpi_buffer_count: 8  
 
first_event_builder_rank: 2  
 
event_builder_count: 2  
 
expected_events_per_bunch: 1  
 
print_event_store_stats: true  
 
event_queue_depth: 20  
 
event_queue_wait_time: 5  
 
onmon_event_prescale: 1  
 
xmlrpc_client_list: ";http://topol.fnal.gov:5205/RPC2,3;http://topol.fnal.gov:5206/RPC2,3;http://topol.fnal.gov:5235/RPC2,4;http://topol.fnal.gov:5236/RPC2,4;http://topol.fnal.gov:5265/RPC2,5;http://topol.fnal.gov:5266/RPC2,5"  
 
file_size_MB: 8000  
 
file_duration: 0  
 
file_event_count: 0  

} 
metrics: {
 
aggFile: {
 
metricPluginType: file  
 
level: 3  
 
fileName: "/tmp/aggregator/agg_%UID%_metrics.log"  
 
uniquify: true  

}
}
} 
source: {
 
module_type: NetMonInput  

} 
outputs: {
 
normalOutputMod2: {
 
module_type: RootOutput  
 
fileName: "/tmp/artdaqdemo_r%06r_sr%02s_%to_mod2.root"  
 
SelectEvents: {
 
SelectEvents: [pmod2]  

} 
compressionLevel: 0  

} 
normalOutputMod3: {
 
module_type: RootOutput  
 
fileName: "/tmp/artdaqdemo_r%06r_sr%02s_%to_mod3.root"  
 
SelectEvents: {
 
SelectEvents: [pmod3]  

} 
compressionLevel: 0  

}
} 
physics: {
 
analyzers: {

} 
producers: {
 
BuildInfo: {
 
module_type: ArtdaqDemoBuildInfo  
 
instance_name: ArtdaqDemo  

}
} 
filters: {
 
prescaleMod2: {
 
module_type: NthEvent  
 
nth: 2  

} 
prescaleMod3: {
 
module_type: NthEvent  
 
nth: 3  

}
} 
p1: []  
 
p2: [BuildInfo]  
 
pmod2: [prescaleMod2]  
 
pmod3: [prescaleMod3]  
#my_output_modules: [ normalOutput ]
my_output_modules: [normalOutputMod2, normalOutputMod3]  

} 
process_name: DAQAG  

<end of output>
Test time =   0.13 sec
----------------------------------------------------------
Test Passed.
"LoadStore_load_mongo_014_t" end time: May 12 17:27 CDT
"LoadStore_load_mongo_014_t" time elapsed: 00:00:00
----------------------------------------------------------

17/28 Testing: ManageConfigs_seeddata_filesystem_000_001_t
17/28 Test: ManageConfigs_seeddata_filesystem_000_001_t
Command: "/home/lukhanin/scratch/current/artdaq-demo-base/products/cetbuildtools/v4_18_02/bin/cet_exec_test" "--wd" "/home/lukhanin/scratch/current/artdaq-demo-base/build_artdaq-utilities-database/test/ConfigurationDB/ManageConfigs/test000/ManageConfigs_seeddata_filesystem_000_001_t.d" "--required-files" "" "--datafiles" "/home/lukhanin/scratch/current/artdaq-demo-base/build_artdaq-utilities-database/test/ConfigurationDB/ManageConfigs/test000/test001.src.020.fcl;/home/lukhanin/scratch/current/artdaq-demo-base/build_artdaq-utilities-database/test/ConfigurationDB/ManageConfigs/test000/test001.cmp.020.fcl" "--skip-return-code" "247" "LoadStore_t" "-o" "store" "-d" "filesystem" "-c" "testManageConfigs_aggregator" "-f" "fhicl" "-v" "versionA38114" "-g" "testConfigA03172016-174859" "-e" "test001" "-s" "test001.src.020.fcl" "-r" "test001.cmp.020.fcl"
Directory: /home/lukhanin/scratch/current/artdaq-demo-base/build_artdaq-utilities-database/test/ConfigurationDB/ManageConfigs/test000/ManageConfigs_seeddata_filesystem_000_001_t.d
"ManageConfigs_seeddata_filesystem_000_001_t" start time: May 12 17:27 CDT
Output:
----------------------------------------------------------
removed ‘test001.cmp.814.fcl’
removed ‘test001.src.814.fcl’
05-12 17:27:19.267090  1  0 artdaq::database::filesystem trace_enable
05-12 17:27:19.267312  1  0 artdaq::database::filesystem::index trace_enable
05-12 17:27:19.267398  1  0 artdaq::database::mongo trace_enable
05-12 17:27:19.267535  1  0 artdaq::database::configuration::LoadStoreOperation trace_enable
05-12 17:27:19.267602  1  0 artdaq::database::configuration::options::OperationBase trace_enable
05-12 17:27:19.267651  1  0 artdaq::database::configuration::options::OperationLoadStore trace_enable
05-12 17:27:19.267702  1  0 artdaq::database::configuration::LoadStoreOperationDetail trace_enable
05-12 17:27:19.271280  1 12 Options: Updating provider from filesystem to filesystem.
05-12 17:27:19.271333  1 10 Options: Updating operation from load to store.
05-12 17:27:19.271364  1 14 Options: dataFormat args format=<fhicl>.
05-12 17:27:19.271401  1 11 Options: Updating collection_name from notprovided to testManageConfigs_aggregator.
05-12 17:27:19.271443  1 10 Options: Updating version from notprovided to versionA38114.
05-12 17:27:19.271466  1 11 Options: Updating entity from notprovided to test001.
05-12 17:27:19.271483  1 12 Options: Updating global_configuration from notprovided to testConfigA03172016-174859.
05-12 17:27:19.283469  1 12 Options: Updating provider from filesystem to filesystem.
05-12 17:27:19.283500  1 10 Options: Updating operation from load to store.
05-12 17:27:19.283514  1 14 Options: dataFormat args format=<fhicl>.
05-12 17:27:19.283527  1 11 Options: Updating collection_name from notprovided to testManageConfigs_aggregator.
05-12 17:27:19.283826  1 15 Options: searchFilter args search_filter=<{
"version" : "versionA38114",
"configurable_entity.name" : "test001",
"configurations.name" : "testConfigA03172016-174859"
}>.
05-12 17:27:19.284345  1 15 Options: searchFilter args search_filter=<notprovided>.
05-12 17:27:19.284374  1 10 Options: Updating version from notprovided to versionA38114.
05-12 17:27:19.284399  1 11 Options: Updating entity from notprovided to test001.
05-12 17:27:19.284413  1 12 Options: Updating global_configuration from notprovided to testConfigA03172016-174859.
05-12 17:27:19.284446  1 15 store_configuration: begin
05-12 17:27:19.448016  1 17 store_configuration: Converted json data to fcl; json=<{
"document" : {
"data" : {
"prolog" : {

},
"main" : {
"services" : {
"scheduler" : {
"fileMode" : "NOMERGE"
},
"NetMonTransportServiceInterface" : {
"service_provider" : "NetMonTransportService",
"max_fragment_size_words" : 2097152
}
},
"daq" : {
"max_fragment_size_words" : 2097152,
"aggregator" : {
"mpi_buffer_count" : 8,
"first_event_builder_rank" : 2,
"event_builder_count" : 2,
"expected_events_per_bunch" : 1,
"print_event_store_stats" : true,
"event_queue_depth" : 20,
"event_queue_wait_time" : 5,
"onmon_event_prescale" : 1,
"xmlrpc_client_list" : ";http://topol.fnal.gov:5205/RPC2,3;http://topol.fnal.gov:5206/RPC2,3;http://topol.fnal.gov:5235/RPC2,4;http://topol.fnal.gov:5236/RPC2,4;http://topol.fnal.gov:5265/RPC2,5;http://topol.fnal.gov:5266/RPC2,5",
"file_size_MB" : 8000,
"file_duration" : 0,
"file_event_count" : 0
},
"metrics" : {
"aggFile" : {
"metricPluginType" : "file",
"level" : 3,
"fileName" : "/tmp/aggregator/agg_%UID%_metrics.log",
"uniquify" : true
}
}
},
"source" : {
"module_type" : "NetMonInput"
},
"outputs" : {
"normalOutputMod2" : {
"module_type" : "RootOutput",
"fileName" : "/tmp/artdaqdemo_r%06r_sr%02s_%to_mod2.root",
"SelectEvents" : {
"SelectEvents" : [
"pmod2"
]
},
"compressionLevel" : 0
},
"normalOutputMod3" : {
"module_type" : "RootOutput",
"fileName" : "/tmp/artdaqdemo_r%06r_sr%02s_%to_mod3.root",
"SelectEvents" : {
"SelectEvents" : [
"pmod3"
]
},
"compressionLevel" : 0
}
},
"physics" : {
"analyzers" : {

},
"producers" : {
"BuildInfo" : {
"module_type" : "ArtdaqDemoBuildInfo",
"instance_name" : "ArtdaqDemo"
}
},
"filters" : {
"prescaleMod2" : {
"module_type" : "NthEvent",
"nth" : 2
},
"prescaleMod3" : {
"module_type" : "NthEvent",
"nth" : 3
}
},
"p1" : [

],
"p2" : [
"BuildInfo"
],
"pmod2" : [
"prescaleMod2"
],
"pmod3" : [
"prescaleMod3"
],
"my_output_modules" : [
"normalOutputMod2",
"normalOutputMod3"
]
},
"process_name" : "DAQAG"
}
},
"metadata" : {
"prolog" : {

},
"main" : {
"services" : {
"type" : "table",
"comment" : " ",
"children" : {
"scheduler" : {
"type" : "table",
"comment" : " ",
"children" : {
"fileMode" : {
"type" : "string",
"comment" : " ",
"annotation" : " "
}
}
},
"NetMonTransportServiceInterface" : {
"type" : "table",
"comment" : " ",
"children" : {
"service_provider" : {
"type" : "string",
"comment" : " ",
"annotation" : " "
},
"max_fragment_size_words" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
}
}
}
}
},
"daq" : {
"type" : "table",
"comment" : " ",
"children" : {
"max_fragment_size_words" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"aggregator" : {
"type" : "table",
"comment" : " ",
"children" : {
"mpi_buffer_count" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"first_event_builder_rank" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"event_builder_count" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"expected_events_per_bunch" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"print_event_store_stats" : {
"type" : "bool",
"comment" : " ",
"annotation" : " "
},
"event_queue_depth" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"event_queue_wait_time" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"onmon_event_prescale" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"xmlrpc_client_list" : {
"type" : "string",
"comment" : " ",
"annotation" : " "
},
"file_size_MB" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"file_duration" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"file_event_count" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
}
}
},
"metrics" : {
"type" : "table",
"comment" : " ",
"children" : {
"aggFile" : {
"type" : "table",
"comment" : " ",
"children" : {
"metricPluginType" : {
"type" : "string",
"comment" : " ",
"annotation" : " "
},
"level" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"fileName" : {
"type" : "string",
"comment" : " ",
"annotation" : " "
},
"uniquify" : {
"type" : "
05-12 17:27:19.448081  1 17 store_configuration: Converted json data to fcl; fcl=< 
services: {
 
scheduler: {
 
fileMode: NOMERGE  

} 
NetMonTransportServiceInterface: {
 
service_provider: NetMonTransportService  
 
max_fragment_size_words: 2097152  

}
} 
daq: {
 
max_fragment_size_words: 2097152  
 
aggregator: {
 
mpi_buffer_count: 8  
 
first_event_builder_rank: 2  
 
event_builder_count: 2  
 
expected_events_per_bunch: 1  
 
print_event_store_stats: true  
 
event_queue_depth: 20  
 
event_queue_wait_time: 5  
 
onmon_event_prescale: 1  
 
xmlrpc_client_list: ";http://topol.fnal.gov:5205/RPC2,3;http://topol.fnal.gov:5206/RPC2,3;http://topol.fnal.gov:5235/RPC2,4;http://topol.fnal.gov:5236/RPC2,4;http://topol.fnal.gov:5265/RPC2,5;http://topol.fnal.gov:5266/RPC2,5"  
 
file_size_MB: 8000  
 
file_duration: 0  
 
file_event_count: 0  

} 
metrics: {
 
aggFile: {
 
metricPluginType: file  
 
level: 3  
 
fileName: "/tmp/aggregator/agg_%UID%_metrics.log"  
 
uniquify: true  

}
}
} 
source: {
 
module_type: NetMonInput  

} 
outputs: {
 
normalOutputMod2: {
 
module_type: RootOutput  
 
fileName: "/tmp/artdaqdemo_r%06r_sr%02s_%to_mod2.root"  
 
SelectEvents: {
 
SelectEvents: [pmod2]  

} 
compressionLevel: 0  

} 
normalOutputMod3: {
 
module_type: RootOutput  
 
fileName: "/tmp/artdaqdemo_r%06r_sr%02s_%to_mod3.root"  
 
SelectEvents: {
 
SelectEvents: [pmod3]  

} 
compressionLevel: 0  

}
} 
physics: {
 
analyzers: {

} 
producers: {
 
BuildInfo: {
 
module_type: ArtdaqDemoBuildInfo  
 
instance_name: ArtdaqDemo  

}
} 
filters: {
 
prescaleMod2: {
 
module_type: NthEvent  
 
nth: 2  

} 
prescaleMod3: {
 
module_type: NthEvent  
 
nth: 3  

}
} 
p1: []  
 
p2: [BuildInfo]  
 
pmod2: [prescaleMod2]  
 
pmod3: [prescaleMod3]  
#my_output_modules: [ normalOutput ]
my_output_modules: [normalOutputMod2, normalOutputMod3]  

} 
process_name: DAQAG  
>
05-12 17:27:19.448112  1 15 store_configuration: json_buffer=<{
"document" : {
"data" : {
"prolog" : {

},
"main" : {
"services" : {
"scheduler" : {
"fileMode" : "NOMERGE"
},
"NetMonTransportServiceInterface" : {
"service_provider" : "NetMonTransportService",
"max_fragment_size_words" : 2097152
}
},
"daq" : {
"max_fragment_size_words" : 2097152,
"aggregator" : {
"mpi_buffer_count" : 8,
"first_event_builder_rank" : 2,
"event_builder_count" : 2,
"expected_events_per_bunch" : 1,
"print_event_store_stats" : true,
"event_queue_depth" : 20,
"event_queue_wait_time" : 5,
"onmon_event_prescale" : 1,
"xmlrpc_client_list" : ";http://topol.fnal.gov:5205/RPC2,3;http://topol.fnal.gov:5206/RPC2,3;http://topol.fnal.gov:5235/RPC2,4;http://topol.fnal.gov:5236/RPC2,4;http://topol.fnal.gov:5265/RPC2,5;http://topol.fnal.gov:5266/RPC2,5",
"file_size_MB" : 8000,
"file_duration" : 0,
"file_event_count" : 0
},
"metrics" : {
"aggFile" : {
"metricPluginType" : "file",
"level" : 3,
"fileName" : "/tmp/aggregator/agg_%UID%_metrics.log",
"uniquify" : true
}
}
},
"source" : {
"module_type" : "NetMonInput"
},
"outputs" : {
"normalOutputMod2" : {
"module_type" : "RootOutput",
"fileName" : "/tmp/artdaqdemo_r%06r_sr%02s_%to_mod2.root",
"SelectEvents" : {
"SelectEvents" : [
"pmod2"
]
},
"compressionLevel" : 0
},
"normalOutputMod3" : {
"module_type" : "RootOutput",
"fileName" : "/tmp/artdaqdemo_r%06r_sr%02s_%to_mod3.root",
"SelectEvents" : {
"SelectEvents" : [
"pmod3"
]
},
"compressionLevel" : 0
}
},
"physics" : {
"analyzers" : {

},
"producers" : {
"BuildInfo" : {
"module_type" : "ArtdaqDemoBuildInfo",
"instance_name" : "ArtdaqDemo"
}
},
"filters" : {
"prescaleMod2" : {
"module_type" : "NthEvent",
"nth" : 2
},
"prescaleMod3" : {
"module_type" : "NthEvent",
"nth" : 3
}
},
"p1" : [

],
"p2" : [
"BuildInfo"
],
"pmod2" : [
"prescaleMod2"
],
"pmod3" : [
"prescaleMod3"
],
"my_output_modules" : [
"normalOutputMod2",
"normalOutputMod3"
]
},
"process_name" : "DAQAG"
}
},
"metadata" : {
"prolog" : {

},
"main" : {
"services" : {
"type" : "table",
"comment" : " ",
"children" : {
"scheduler" : {
"type" : "table",
"comment" : " ",
"children" : {
"fileMode" : {
"type" : "string",
"comment" : " ",
"annotation" : " "
}
}
},
"NetMonTransportServiceInterface" : {
"type" : "table",
"comment" : " ",
"children" : {
"service_provider" : {
"type" : "string",
"comment" : " ",
"annotation" : " "
},
"max_fragment_size_words" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
}
}
}
}
},
"daq" : {
"type" : "table",
"comment" : " ",
"children" : {
"max_fragment_size_words" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"aggregator" : {
"type" : "table",
"comment" : " ",
"children" : {
"mpi_buffer_count" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"first_event_builder_rank" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"event_builder_count" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"expected_events_per_bunch" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"print_event_store_stats" : {
"type" : "bool",
"comment" : " ",
"annotation" : " "
},
"event_queue_depth" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"event_queue_wait_time" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"onmon_event_prescale" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"xmlrpc_client_list" : {
"type" : "string",
"comment" : " ",
"annotation" : " "
},
"file_size_MB" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"file_duration" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"file_event_count" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
}
}
},
"metrics" : {
"type" : "table",
"comment" : " ",
"children" : {
"aggFile" : {
"type" : "table",
"comment" : " ",
"children" : {
"metricPluginType" : {
"type" : "string",
"comment" : " ",
"annotation" : " "
},
"level" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"fileName" : {
"type" : "string",
"comment" : " ",
"annotation" : " "
},
"uniquify" : {
"type" : "bool",
"comment" : " 
05-12 17:27:19.464134  1 15 store_configuration: insert_payload=<{"document":{
    "document" : {
        "data" : {
            "prolog" : {

            }, 
            "main" : {
                "services" : {
                    "scheduler" : {
                        "fileMode" : "NOMERGE"
                    }, 
                    "NetMonTransportServiceInterface" : {
                        "service_provider" : "NetMonTransportService", 
                        "max_fragment_size_words" : 2097152
                    }
                }, 
                "daq" : {
                    "max_fragment_size_words" : 2097152, 
                    "aggregator" : {
                        "mpi_buffer_count" : 8, 
                        "first_event_builder_rank" : 2, 
                        "event_builder_count" : 2, 
                        "expected_events_per_bunch" : 1, 
                        "print_event_store_stats" : true, 
                        "event_queue_depth" : 20, 
                        "event_queue_wait_time" : 5, 
                        "onmon_event_prescale" : 1, 
                        "xmlrpc_client_list" : ";http://topol.fnal.gov:5205/RPC2,3;http://topol.fnal.gov:5206/RPC2,3;http://topol.fnal.gov:5235/RPC2,4;http://topol.fnal.gov:5236/RPC2,4;http://topol.fnal.gov:5265/RPC2,5;http://topol.fnal.gov:5266/RPC2,5", 
                        "file_size_MB" : 8000, 
                        "file_duration" : 0, 
                        "file_event_count" : 0
                    }, 
                    "metrics" : {
                        "aggFile" : {
                            "metricPluginType" : "file", 
                            "level" : 3, 
                            "fileName" : "/tmp/aggregator/agg_%UID%_metrics.log", 
                            "uniquify" : true
                        }
                    }
                }, 
                "source" : {
                    "module_type" : "NetMonInput"
                }, 
                "outputs" : {
                    "normalOutputMod2" : {
                        "module_type" : "RootOutput", 
                        "fileName" : "/tmp/artdaqdemo_r%06r_sr%02s_%to_mod2.root", 
                        "SelectEvents" : {
                            "SelectEvents" : [
                                "pmod2"
                            ]
                        }, 
                        "compressionLevel" : 0
                    }, 
                    "normalOutputMod3" : {
                        "module_type" : "RootOutput", 
                        "fileName" : "/tmp/artdaqdemo_r%06r_sr%02s_%to_mod3.root", 
                        "SelectEvents" : {
                            "SelectEvents" : [
                                "pmod3"
                            ]
                        }, 
                        "compressionLevel" : 0
                    }
                }, 
                "physics" : {
                    "analyzers" : {

                    }, 
                    "producers" : {
                        "BuildInfo" : {
                            "module_type" : "ArtdaqDemoBuildInfo", 
                            "instance_name" : "ArtdaqDemo"
                        }
                    }, 
                    "filters" : {
                        "prescaleMod2" : {
                            "module_type" : "NthEvent", 
                            "nth" : 2
                        }, 
                        "prescaleMod3" : {
                            "module_type" : "NthEvent", 
                            "nth" : 3
                        }
                    }, 
                    "p1" : [

                    ], 
                    "p2" : [
                        "BuildInfo"
                    ], 
                    "pmod2" : [
                        "prescaleMod2"
                    ], 
                    "pmod3" : [
                        "prescaleMod3"
                    ], 
                    "my_output_modules" : [
                        "normalOutputMod2", 
                
05-12 17:27:19.464504  1  4 StorageProvider::FileSystemDB::store() begin
05-12 17:27:19.464608  1  4 StorageProvider::FileSystemDB::store() args data=<{"document":{
    "document" : {
        "data" : {
            "prolog" : {

            }, 
            "main" : {
                "services" : {
                    "scheduler" : {
                        "fileMode" : "NOMERGE"
                    }, 
                    "NetMonTransportServiceInterface" : {
                        "service_provider" : "NetMonTransportService", 
                        "max_fragment_size_words" : 2097152
                    }
                }, 
                "daq" : {
                    "max_fragment_size_words" : 2097152, 
                    "aggregator" : {
                        "mpi_buffer_count" : 8, 
                        "first_event_builder_rank" : 2, 
                        "event_builder_count" : 2, 
                        "expected_events_per_bunch" : 1, 
                        "print_event_store_stats" : true, 
                        "event_queue_depth" : 20, 
                        "event_queue_wait_time" : 5, 
                        "onmon_event_prescale" : 1, 
                        "xmlrpc_client_list" : ";http://topol.fnal.gov:5205/RPC2,3;http://topol.fnal.gov:5206/RPC2,3;http://topol.fnal.gov:5235/RPC2,4;http://topol.fnal.gov:5236/RPC2,4;http://topol.fnal.gov:5265/RPC2,5;http://topol.fnal.gov:5266/RPC2,5", 
                        "file_size_MB" : 8000, 
                        "file_duration" : 0, 
                        "file_event_count" : 0
                    }, 
                    "metrics" : {
                        "aggFile" : {
                            "metricPluginType" : "file", 
                            "level" : 3, 
                            "fileName" : "/tmp/aggregator/agg_%UID%_metrics.log", 
                            "uniquify" : true
                        }
                    }
                }, 
                "source" : {
                    "module_type" : "NetMonInput"
                }, 
                "outputs" : {
                    "normalOutputMod2" : {
                        "module_type" : "RootOutput", 
                        "fileName" : "/tmp/artdaqdemo_r%06r_sr%02s_%to_mod2.root", 
                        "SelectEvents" : {
                            "SelectEvents" : [
                                "pmod2"
                            ]
                        }, 
                        "compressionLevel" : 0
                    }, 
                    "normalOutputMod3" : {
                        "module_type" : "RootOutput", 
                        "fileName" : "/tmp/artdaqdemo_r%06r_sr%02s_%to_mod3.root", 
                        "SelectEvents" : {
                            "SelectEvents" : [
                                "pmod3"
                            ]
                        }, 
                        "compressionLevel" : 0
                    }
                }, 
                "physics" : {
                    "analyzers" : {

                    }, 
                    "producers" : {
                        "BuildInfo" : {
                            "module_type" : "ArtdaqDemoBuildInfo", 
                            "instance_name" : "ArtdaqDemo"
                        }
                    }, 
                    "filters" : {
                        "prescaleMod2" : {
                            "module_type" : "NthEvent", 
                            "nth" : 2
                        }, 
                        "prescaleMod3" : {
                            "module_type" : "NthEvent", 
                            "nth" : 3
                        }
                    }, 
                    "p1" : [

                    ], 
                    "p2" : [
                        "BuildInfo"
                    ], 
                    "pmod2" : [
                        "prescaleMod2"
                    ], 
                    "pmod3" : [
                        "prescaleMod3"
                    ], 
                    "my_output_modules" : [
                        "normalOutputMod2", 
   
05-12 17:27:19.468395  1 12 StorageProvider::FileSystemDB generate_oid=27622d688f404ff7b2dfe263
05-12 17:27:19.471491  1  4 StorageProvider::FileSystemDB::store() using generated oid=<27622d688f404ff7b2dfe263>.
05-12 17:27:19.471535  1  4 StorageProvider::FileSystemDB::store() collection_path=<file:///home/lukhanin/databases/filesystemdb/testManageConfigs_aggregator/>.
05-12 17:27:19.471566  1 11 StorageProvider::FileSystemDB mkdir dir=</home/lukhanin/databases/filesystemdb/testManageConfigs_aggregator/>
05-12 17:27:19.471612  1 11 StorageProvider::FileSystemDB Directory exists, checking permissions; path=</home/lukhanin/databases/filesystemdb/testManageConfigs_aggregator/>
05-12 17:27:19.471789  1  4 StorageProvider::FileSystemDB::store() filename=</home/lukhanin/databases/filesystemdb/testManageConfigs_aggregator/27622d688f404ff7b2dfe263.json>.
05-12 17:27:19.542616  1  3 StorageProvider::FileSystemDB::index::_open() begin
05-12 17:27:19.542637  1  3 StorageProvider::FileSystemDB::index::_open() args index_path=</home/lukhanin/databases/filesystemdb/testManageConfigs_aggregator/index.json>.
05-12 17:27:19.543051  1  3 StorageProvider::FileSystemDB::index::_open() json=<{
"version" : {
"versionA08527" : [
"d5ecbbdebb204770b04fac3d"
],
"versionA95932" : [
"f66fa4032ee2484fbb0034fb"
],
"versionA43857" : [
"d55ebc42cde44a0699f15b34"
],
"versionA75980" : [
"67b70c838aab4155a0935ef5"
],
"versionA57556" : [
"95cca5bb7dbe414587d99eb1"
],
"versionA13329" : [
"7ba2d18f00da4c3983b00d7b"
],
"versionA72040" : [
"95dee707ad92445da1c49bdd"
],
"versionA59350" : [
"45b892cf546543b58802b5f0"
],
"versionA61611" : [
"caed1a56b8924f0ebe0139b3"
],
"versionA79882" : [
"656935610be14ad89b895960"
],
"versionA54615" : [
"f9ac14b099194cbcab158e76"
],
"versionA22874" : [
"f0c3bf70d39f41d785001b05"
],
"versionA84889" : [
"d03ea34ede40484fbf6cb3e2"
],
"versionA99878" : [
"68a4e303393343ef814cb123"
],
"versionA78209" : [
"cdc79a6599ed49348f50a63e"
],
"versionA19348" : [
"c327c024b6f44abb9b9bc002"
],
"versionA36328" : [
"d63f5c83c3c44eb38b41a7cf"
],
"versionA16444" : [
"93f2fb51256344e9beb018d0"
],
"versionA33575" : [
"1d1b62075a26445bb8747b3a"
],
"versionA48650" : [
"9d2d6ebd208148f188ffe821"
],
"versionA48782" : [
"706d884669844da4a7ebcf37"
],
"versionA30745" : [
"316b8917ee9c480880206299"
],
"versionA21261" : [
"d222b06e380a4a85bd2f377e"
],
"versionA75114" : [
"b38a9bbf24164896a8341ac3"
],
"versionA56962" : [
"e2e710cba38342a2afc12837"
],
"versionA20770" : [
"cdcbe56e5a58486c8fe0e68a"
],
"versionA57108" : [
"c7967a05df5d4603a9d816a3"
],
"versionA54535" : [
"d0f6017cf8c34464b830af62"
],
"versionA41119" : [
"215cc6c5579549b2b97b6895"
],
"versionA44195" : [
"bb3fa00514ca47779566d896"
],
"versionA56391" : [
"e80dc43d843245b7b6fa5d25"
],
"versionA56485" : [
"9928a4f9edda4b98a49fffbf"
],
"versionA05409" : [
"f7fe9399ddd84c40bd53018d"
],
"versionA33647" : [
"65a7e4f37a3140de9d3204c8"
],
"versionA45619" : [
"7ceeb3837362473c8a3eeda6"
],
"versionA53848" : [
"d50cd820ba2e4315a1b87462"
],
"versionA03539" : [
"2f00b5d805e140dcb8eaec1c"
],
"versionA03589" : [
"cfe105a6a7de42b2b63d28a4"
],
"versionA95203" : [
"fa764d6ed2eb4b4c8e45f4d2"
],
"versionA86043" : [
"5f2bc67fa0264d1391360a1a",
"89dc9c405dc24fbc8148b03f"
],
"versionA12250" : [
"279ab9a72a0d43a5b9a9a322",
"f0a92fc02b3e4491a1853b22"
],
"versionA14401" : [
"224c670eb4a347eea011ff69",
"b4b0769891234c16b820ad6e"
]
},
"configurations.name" : {
"testConfigA03172016-174859" : [
"1d1b62075a26445bb8747b3a",
"215cc6c5579549b2b97b6895",
"224c670eb4a347eea011ff69",
"279ab9a72a0d43a5b9a9a322",
"2f00b5d805e140dcb8eaec1c",
"316b8917ee9c480880206299",
"45b892cf546543b58802b5f0",
"5f2bc67fa0264d1391360a1a",
"656935610be14ad89b895960",
"65a7e4f37a3140de9d3204c8",
"67b70c838aab4155a0935ef5",
"68a4e303393343ef814cb123",
"706d884669844da4a7ebcf37",
"7ba2d18f00da4c3983b00d7b",
"7ceeb3837362473c8a3eeda6",
"89dc9c405dc24fbc8148b03f",
"93f2fb51256344e9beb018d0",
"95cca5bb7dbe414587d99eb1",
"95dee707ad92445da1c49bdd",
"9928a4f9edda4b98a49fffbf",
"9d2d6ebd208148f188ffe821",
"b38a9bbf24164896a8341ac3",
"b4b0769891234c16b820ad6e",
"bb3fa00514ca47779566d896",
"c327c024b6f44abb9b9bc002",
"c7967a05df5d4603a9d816a3",
"caed1a56b8924f0ebe0139b3",
"cdc79a6599ed49348f50a63e",
"cdcbe56e5a58486c8fe0e68a",
"cfe105a6a7de42b2b63d28a4",
"d03ea34ede40484fbf6cb3e2",
"d0f6017cf8c34464b830af62",
"d222b06e380a4a85bd2f377e",
"d50cd820ba2e4315a1b87462",
"d55ebc42cde44a0699f15b34",
"d5ecbbdebb204770b04fac3d",
"d63f5c83c3c44eb38b41a7cf",
"e2e710cba38342a2afc12837",
"e80dc43d843245b7b6fa5d25",
"f0a92fc02b3e4491a1853b22",
"f0c3bf70d39f41d785001b05",
"f66fa4032ee2484fbb0034fb",
"f7fe9399ddd84c40bd53018d",
"f9ac14b099194cbcab158e76",
"fa764d6ed2eb4b4c8e45f4d2"
]
},
"configurable_entity.name" : {
"test001" : [
"b4b0769891234c16b820ad6e",
"d55ebc42cde44a0699f15b34",
"d5ecbbdebb204770b04fac3d",
"f0a92fc02b3e4491a1853b22",
"f66fa4032ee2484fbb0034fb"
],
"test002" : [
"224c670eb4a347eea011ff69",
"279ab9a72a0d43a5b9a9a322",
"67b70c838aab4155a0935ef5",
"95cca5bb7dbe414587d99eb1"
],
"test003" : [
"1d1b62075a26445bb8747b3a",
"215cc6c5579549b2b97b6895",
"316b8917ee9c480880206299",
"45b892cf546543b58802b5f0",
"656935610be14ad89b895960",
"65a7e4f37a3140de9d32
05-12 17:27:19.547735  1  5 StorageProvider::FileSystemDB::index::addDocument() begin
05-12 17:27:19.547821  1  5 StorageProvider::FileSystemDB::index::addDocument() args document=<{
        "document" : {
            "data" : {
                "prolog" : {

                }, 
                "main" : {
                    "services" : {
                        "scheduler" : {
                            "fileMode" : "NOMERGE"
                        }, 
                        "NetMonTransportServiceInterface" : {
                            "service_provider" : "NetMonTransportService", 
                            "max_fragment_size_words" : 2097152
                        }
                    }, 
                    "daq" : {
                        "max_fragment_size_words" : 2097152, 
                        "aggregator" : {
                            "mpi_buffer_count" : 8, 
                            "first_event_builder_rank" : 2, 
                            "event_builder_count" : 2, 
                            "expected_events_per_bunch" : 1, 
                            "print_event_store_stats" : true, 
                            "event_queue_depth" : 20, 
                            "event_queue_wait_time" : 5, 
                            "onmon_event_prescale" : 1, 
                            "xmlrpc_client_list" : ";http://topol.fnal.gov:5205/RPC2,3;http://topol.fnal.gov:5206/RPC2,3;http://topol.fnal.gov:5235/RPC2,4;http://topol.fnal.gov:5236/RPC2,4;http://topol.fnal.gov:5265/RPC2,5;http://topol.fnal.gov:5266/RPC2,5", 
                            "file_size_MB" : 8000, 
                            "file_duration" : 0, 
                            "file_event_count" : 0
                        }, 
                        "metrics" : {
                            "aggFile" : {
                                "metricPluginType" : "file", 
                                "level" : 3, 
                                "fileName" : "/tmp/aggregator/agg_%UID%_metrics.log", 
                                "uniquify" : true
                            }
                        }
                    }, 
                    "source" : {
                        "module_type" : "NetMonInput"
                    }, 
                    "outputs" : {
                        "normalOutputMod2" : {
                            "module_type" : "RootOutput", 
                            "fileName" : "/tmp/artdaqdemo_r%06r_sr%02s_%to_mod2.root", 
                            "SelectEvents" : {
                                "SelectEvents" : [
                                    "pmod2"
                                ]
                            }, 
                            "compressionLevel" : 0
                        }, 
                        "normalOutputMod3" : {
                            "module_type" : "RootOutput", 
                            "fileName" : "/tmp/artdaqdemo_r%06r_sr%02s_%to_mod3.root", 
                            "SelectEvents" : {
                                "SelectEvents" : [
                                    "pmod3"
                                ]
                            }, 
                            "compressionLevel" : 0
                        }
                    }, 
                    "physics" : {
                        "analyzers" : {

                        }, 
                        "producers" : {
                            "BuildInfo" : {
                                "module_type" : "ArtdaqDemoBuildInfo", 
                                "instance_name" : "ArtdaqDemo"
                            }
                        }, 
                        "filters" : {
                            "prescaleMod2" : {
                                "module_type" : "NthEvent", 
                                "nth" : 2
                            }, 
                            "prescaleMod3" : {
                                "module_type" : "NthEvent", 
                                "nth" : 3
                            }
                        }, 
                        "p1" : [

                        ], 
                        "p
05-12 17:27:19.547923  1  5 StorageProvider::FileSystemDB::index::addDocument() args ouid=<27622d688f404ff7b2dfe263>.
05-12 17:27:19.561259  1  5 StorageProvider::FileSystemDB::index::addDocument() found 9 keys.
05-12 17:27:19.561285  1  7 StorageProvider::FileSystemDB::index::_addVersion() begin
05-12 17:27:19.561292  1  7 StorageProvider::FileSystemDB::index::_addVersion() args ouid=<27622d688f404ff7b2dfe263>.
05-12 17:27:19.561298  1  7 StorageProvider::FileSystemDB::index::_addVersion() args version=<versionA38114>.
05-12 17:27:19.561471  1  7 StorageProvider::FileSystemDB::index::_addConfiguration() begin
05-12 17:27:19.561481  1  7 StorageProvider::FileSystemDB::index::_addConfiguration() args ouid=<27622d688f404ff7b2dfe263>.
05-12 17:27:19.561489  1  7 StorageProvider::FileSystemDB::index::_addConfiguration() args configuration=<testConfigA03172016-174859>.
05-12 17:27:19.561611  1  7 StorageProvider::FileSystemDB::index::_addConfigurableEntity() begin
05-12 17:27:19.561621  1  7 StorageProvider::FileSystemDB::index::_addConfigurableEntity() args ouid=<27622d688f404ff7b2dfe263>.
05-12 17:27:19.561626  1  7 StorageProvider::FileSystemDB::index::_addConfigurableEntity() args entity=<test001>.
05-12 17:27:19.561860  1  4 StorageProvider::FileSystemDB::index::_close() begin
05-12 17:27:19.566920  1  4 StorageProvider::FileSystemDB::index::_close() json=<{
"version" : {
"versionA08527" : [
"d5ecbbdebb204770b04fac3d"
],
"versionA95932" : [
"f66fa4032ee2484fbb0034fb"
],
"versionA43857" : [
"d55ebc42cde44a0699f15b34"
],
"versionA75980" : [
"67b70c838aab4155a0935ef5"
],
"versionA57556" : [
"95cca5bb7dbe414587d99eb1"
],
"versionA13329" : [
"7ba2d18f00da4c3983b00d7b"
],
"versionA72040" : [
"95dee707ad92445da1c49bdd"
],
"versionA59350" : [
"45b892cf546543b58802b5f0"
],
"versionA61611" : [
"caed1a56b8924f0ebe0139b3"
],
"versionA79882" : [
"656935610be14ad89b895960"
],
"versionA54615" : [
"f9ac14b099194cbcab158e76"
],
"versionA22874" : [
"f0c3bf70d39f41d785001b05"
],
"versionA84889" : [
"d03ea34ede40484fbf6cb3e2"
],
"versionA99878" : [
"68a4e303393343ef814cb123"
],
"versionA78209" : [
"cdc79a6599ed49348f50a63e"
],
"versionA19348" : [
"c327c024b6f44abb9b9bc002"
],
"versionA36328" : [
"d63f5c83c3c44eb38b41a7cf"
],
"versionA16444" : [
"93f2fb51256344e9beb018d0"
],
"versionA33575" : [
"1d1b62075a26445bb8747b3a"
],
"versionA48650" : [
"9d2d6ebd208148f188ffe821"
],
"versionA48782" : [
"706d884669844da4a7ebcf37"
],
"versionA30745" : [
"316b8917ee9c480880206299"
],
"versionA21261" : [
"d222b06e380a4a85bd2f377e"
],
"versionA75114" : [
"b38a9bbf24164896a8341ac3"
],
"versionA56962" : [
"e2e710cba38342a2afc12837"
],
"versionA20770" : [
"cdcbe56e5a58486c8fe0e68a"
],
"versionA57108" : [
"c7967a05df5d4603a9d816a3"
],
"versionA54535" : [
"d0f6017cf8c34464b830af62"
],
"versionA41119" : [
"215cc6c5579549b2b97b6895"
],
"versionA44195" : [
"bb3fa00514ca47779566d896"
],
"versionA56391" : [
"e80dc43d843245b7b6fa5d25"
],
"versionA56485" : [
"9928a4f9edda4b98a49fffbf"
],
"versionA05409" : [
"f7fe9399ddd84c40bd53018d"
],
"versionA33647" : [
"65a7e4f37a3140de9d3204c8"
],
"versionA45619" : [
"7ceeb3837362473c8a3eeda6"
],
"versionA53848" : [
"d50cd820ba2e4315a1b87462"
],
"versionA03539" : [
"2f00b5d805e140dcb8eaec1c"
],
"versionA03589" : [
"cfe105a6a7de42b2b63d28a4"
],
"versionA95203" : [
"fa764d6ed2eb4b4c8e45f4d2"
],
"versionA86043" : [
"5f2bc67fa0264d1391360a1a",
"89dc9c405dc24fbc8148b03f"
],
"versionA12250" : [
"279ab9a72a0d43a5b9a9a322",
"f0a92fc02b3e4491a1853b22"
],
"versionA14401" : [
"224c670eb4a347eea011ff69",
"b4b0769891234c16b820ad6e"
],
"versionA38114" : [
"27622d688f404ff7b2dfe263"
]
},
"configurations.name" : {
"testConfigA03172016-174859" : [
"1d1b62075a26445bb8747b3a",
"215cc6c5579549b2b97b6895",
"224c670eb4a347eea011ff69",
"27622d688f404ff7b2dfe263",
"279ab9a72a0d43a5b9a9a322",
"2f00b5d805e140dcb8eaec1c",
"316b8917ee9c480880206299",
"45b892cf546543b58802b5f0",
"5f2bc67fa0264d1391360a1a",
"656935610be14ad89b895960",
"65a7e4f37a3140de9d3204c8",
"67b70c838aab4155a0935ef5",
"68a4e303393343ef814cb123",
"706d884669844da4a7ebcf37",
"7ba2d18f00da4c3983b00d7b",
"7ceeb3837362473c8a3eeda6",
"89dc9c405dc24fbc8148b03f",
"93f2fb51256344e9beb018d0",
"95cca5bb7dbe414587d99eb1",
"95dee707ad92445da1c49bdd",
"9928a4f9edda4b98a49fffbf",
"9d2d6ebd208148f188ffe821",
"b38a9bbf24164896a8341ac3",
"b4b0769891234c16b820ad6e",
"bb3fa00514ca47779566d896",
"c327c024b6f44abb9b9bc002",
"c7967a05df5d4603a9d816a3",
"caed1a56b8924f0ebe0139b3",
"cdc79a6599ed49348f50a63e",
"cdcbe56e5a58486c8fe0e68a",
"cfe105a6a7de42b2b63d28a4",
"d03ea34ede40484fbf6cb3e2",
"d0f6017cf8c34464b830af62",
"d222b06e380a4a85bd2f377e",
"d50cd820ba2e4315a1b87462",
"d55ebc42cde44a0699f15b34",
"d5ecbbdebb204770b04fac3d",
"d63f5c83c3c44eb38b41a7cf",
"e2e710cba38342a2afc12837",
"e80dc43d843245b7b6fa5d25",
"f0a92fc02b3e4491a1853b22",
"f0c3bf70d39f41d785001b05",
"f66fa4032ee2484fbb0034fb",
"f7fe9399ddd84c40bd53018d",
"f9ac14b099194cbcab158e76",
"fa764d6ed2eb4b4c8e45f4d2"
]
},
"configurable_entity.name" : {
"test001" : [
"27622d688f404ff7b2dfe263",
"b4b0769891234c16b820ad6e",
"d55ebc42cde44a0699f15b34",
"d5ecbbdebb204770b04fac3d",
"f0a92fc02b3e4491a1853b22",
"f66fa4032ee2484fbb0034fb"
],
"test002" : [
"224c670eb4a347eea011ff69",
"279ab9a72a0d43a5b9a9a322",
"67b70c838aab4155a0935ef5",
"95cca5bb7dbe414587d99eb1"
],
"test003" : [
"1d1b62075a26445bb8747b3a",
"215cc6c5579549b2b97b6895"
05-12 17:27:19.567268  1  4 StorageProvider::FileSystemDB::index::_close() Closed SearchIndex.
05-12 17:27:19.567444  1 15 store_configuration: end
Parsed options:
{
"filter" : {
"version" : "versionA38114",
"configurable_entity.name" : "test001",
"configurations.name" : "testConfigA03172016-174859"
},
"dbprovider" : "filesystem",
"operation" : "store",
"collection" : "testManageConfigs_aggregator",
"dataformat" : "fhicl",
"configuration" : "testConfigA03172016-174859"
}
Running test:<store>
returned:
 
services: {
 
scheduler: {
 
fileMode: NOMERGE  

} 
NetMonTransportServiceInterface: {
 
service_provider: NetMonTransportService  
 
max_fragment_size_words: 2097152  

}
} 
daq: {
 
max_fragment_size_words: 2097152  
 
aggregator: {
 
mpi_buffer_count: 8  
 
first_event_builder_rank: 2  
 
event_builder_count: 2  
 
expected_events_per_bunch: 1  
 
print_event_store_stats: true  
 
event_queue_depth: 20  
 
event_queue_wait_time: 5  
 
onmon_event_prescale: 1  
 
xmlrpc_client_list: ";http://topol.fnal.gov:5205/RPC2,3;http://topol.fnal.gov:5206/RPC2,3;http://topol.fnal.gov:5235/RPC2,4;http://topol.fnal.gov:5236/RPC2,4;http://topol.fnal.gov:5265/RPC2,5;http://topol.fnal.gov:5266/RPC2,5"  
 
file_size_MB: 8000  
 
file_duration: 0  
 
file_event_count: 0  

} 
metrics: {
 
aggFile: {
 
metricPluginType: file  
 
level: 3  
 
fileName: "/tmp/aggregator/agg_%UID%_metrics.log"  
 
uniquify: true  

}
}
} 
source: {
 
module_type: NetMonInput  

} 
outputs: {
 
normalOutputMod2: {
 
module_type: RootOutput  
 
fileName: "/tmp/artdaqdemo_r%06r_sr%02s_%to_mod2.root"  
 
SelectEvents: {
 
SelectEvents: [pmod2]  

} 
compressionLevel: 0  

} 
normalOutputMod3: {
 
module_type: RootOutput  
 
fileName: "/tmp/artdaqdemo_r%06r_sr%02s_%to_mod3.root"  
 
SelectEvents: {
 
SelectEvents: [pmod3]  

} 
compressionLevel: 0  

}
} 
physics: {
 
analyzers: {

} 
producers: {
 
BuildInfo: {
 
module_type: ArtdaqDemoBuildInfo  
 
instance_name: ArtdaqDemo  

}
} 
filters: {
 
prescaleMod2: {
 
module_type: NthEvent  
 
nth: 2  

} 
prescaleMod3: {
 
module_type: NthEvent  
 
nth: 3  

}
} 
p1: []  
 
p2: [BuildInfo]  
 
pmod2: [prescaleMod2]  
 
pmod3: [prescaleMod3]  
#my_output_modules: [ normalOutput ]
my_output_modules: [normalOutputMod2, normalOutputMod3]  

} 
process_name: DAQAG  

<end of output>
Test time =   0.37 sec
----------------------------------------------------------
Test Passed.
"ManageConfigs_seeddata_filesystem_000_001_t" end time: May 12 17:27 CDT
"ManageConfigs_seeddata_filesystem_000_001_t" time elapsed: 00:00:00
----------------------------------------------------------

18/28 Testing: ManageConfigs_seeddata_mongo_000_001_t
18/28 Test: ManageConfigs_seeddata_mongo_000_001_t
Command: "/home/lukhanin/scratch/current/artdaq-demo-base/products/cetbuildtools/v4_18_02/bin/cet_exec_test" "--wd" "/home/lukhanin/scratch/current/artdaq-demo-base/build_artdaq-utilities-database/test/ConfigurationDB/ManageConfigs/test000/ManageConfigs_seeddata_mongo_000_001_t.d" "--required-files" "" "--datafiles" "/home/lukhanin/scratch/current/artdaq-demo-base/build_artdaq-utilities-database/test/ConfigurationDB/ManageConfigs/test000/test001.src.574.fcl;/home/lukhanin/scratch/current/artdaq-demo-base/build_artdaq-utilities-database/test/ConfigurationDB/ManageConfigs/test000/test001.cmp.574.fcl" "--skip-return-code" "247" "LoadStore_t" "-o" "store" "-d" "mongo" "-c" "testManageConfigs_aggregator" "-f" "fhicl" "-v" "versionA38114" "-g" "testConfigA03172016-174859" "-e" "test001" "-s" "test001.src.574.fcl" "-r" "test001.cmp.574.fcl"
Directory: /home/lukhanin/scratch/current/artdaq-demo-base/build_artdaq-utilities-database/test/ConfigurationDB/ManageConfigs/test000/ManageConfigs_seeddata_mongo_000_001_t.d
"ManageConfigs_seeddata_mongo_000_001_t" start time: May 12 17:27 CDT
Output:
----------------------------------------------------------
removed ‘test001.cmp.012.fcl’
removed ‘test001.src.012.fcl’
05-12 17:27:19.614803  1  0 artdaq::database::filesystem trace_enable
05-12 17:27:19.614956  1  0 artdaq::database::filesystem::index trace_enable
05-12 17:27:19.615017  1  0 artdaq::database::mongo trace_enable
05-12 17:27:19.615085  1  0 artdaq::database::configuration::LoadStoreOperation trace_enable
05-12 17:27:19.615126  1  0 artdaq::database::configuration::options::OperationBase trace_enable
05-12 17:27:19.615152  1  0 artdaq::database::configuration::options::OperationLoadStore trace_enable
05-12 17:27:19.615178  1  0 artdaq::database::configuration::LoadStoreOperationDetail trace_enable
05-12 17:27:19.617391  1 12 Options: Updating provider from filesystem to mongo.
05-12 17:27:19.617438  1 10 Options: Updating operation from load to store.
05-12 17:27:19.617453  1 14 Options: dataFormat args format=<fhicl>.
05-12 17:27:19.617489  1 11 Options: Updating collection_name from notprovided to testManageConfigs_aggregator.
05-12 17:27:19.617507  1 10 Options: Updating version from notprovided to versionA38114.
05-12 17:27:19.617522  1 11 Options: Updating entity from notprovided to test001.
05-12 17:27:19.617534  1 12 Options: Updating global_configuration from notprovided to testConfigA03172016-174859.
05-12 17:27:19.625390  1 12 Options: Updating provider from filesystem to mongo.
05-12 17:27:19.625424  1 10 Options: Updating operation from load to store.
05-12 17:27:19.625436  1 14 Options: dataFormat args format=<fhicl>.
05-12 17:27:19.625451  1 11 Options: Updating collection_name from notprovided to testManageConfigs_aggregator.
05-12 17:27:19.625634  1 15 Options: searchFilter args search_filter=<{
"version" : "versionA38114",
"configurable_entity.name" : "test001",
"configurations.name" : "testConfigA03172016-174859"
}>.
05-12 17:27:19.625964  1 15 Options: searchFilter args search_filter=<notprovided>.
05-12 17:27:19.625990  1 10 Options: Updating version from notprovided to versionA38114.
05-12 17:27:19.626002  1 11 Options: Updating entity from notprovided to test001.
05-12 17:27:19.626010  1 12 Options: Updating global_configuration from notprovided to testConfigA03172016-174859.
05-12 17:27:19.626026  1 15 store_configuration: begin
05-12 17:27:19.764590  1 17 store_configuration: Converted json data to fcl; json=<{
"document" : {
"data" : {
"prolog" : {

},
"main" : {
"services" : {
"scheduler" : {
"fileMode" : "NOMERGE"
},
"NetMonTransportServiceInterface" : {
"service_provider" : "NetMonTransportService",
"max_fragment_size_words" : 2097152
}
},
"daq" : {
"max_fragment_size_words" : 2097152,
"aggregator" : {
"mpi_buffer_count" : 8,
"first_event_builder_rank" : 2,
"event_builder_count" : 2,
"expected_events_per_bunch" : 1,
"print_event_store_stats" : true,
"event_queue_depth" : 20,
"event_queue_wait_time" : 5,
"onmon_event_prescale" : 1,
"xmlrpc_client_list" : ";http://topol.fnal.gov:5205/RPC2,3;http://topol.fnal.gov:5206/RPC2,3;http://topol.fnal.gov:5235/RPC2,4;http://topol.fnal.gov:5236/RPC2,4;http://topol.fnal.gov:5265/RPC2,5;http://topol.fnal.gov:5266/RPC2,5",
"file_size_MB" : 8000,
"file_duration" : 0,
"file_event_count" : 0
},
"metrics" : {
"aggFile" : {
"metricPluginType" : "file",
"level" : 3,
"fileName" : "/tmp/aggregator/agg_%UID%_metrics.log",
"uniquify" : true
}
}
},
"source" : {
"module_type" : "NetMonInput"
},
"outputs" : {
"normalOutputMod2" : {
"module_type" : "RootOutput",
"fileName" : "/tmp/artdaqdemo_r%06r_sr%02s_%to_mod2.root",
"SelectEvents" : {
"SelectEvents" : [
"pmod2"
]
},
"compressionLevel" : 0
},
"normalOutputMod3" : {
"module_type" : "RootOutput",
"fileName" : "/tmp/artdaqdemo_r%06r_sr%02s_%to_mod3.root",
"SelectEvents" : {
"SelectEvents" : [
"pmod3"
]
},
"compressionLevel" : 0
}
},
"physics" : {
"analyzers" : {

},
"producers" : {
"BuildInfo" : {
"module_type" : "ArtdaqDemoBuildInfo",
"instance_name" : "ArtdaqDemo"
}
},
"filters" : {
"prescaleMod2" : {
"module_type" : "NthEvent",
"nth" : 2
},
"prescaleMod3" : {
"module_type" : "NthEvent",
"nth" : 3
}
},
"p1" : [

],
"p2" : [
"BuildInfo"
],
"pmod2" : [
"prescaleMod2"
],
"pmod3" : [
"prescaleMod3"
],
"my_output_modules" : [
"normalOutputMod2",
"normalOutputMod3"
]
},
"process_name" : "DAQAG"
}
},
"metadata" : {
"prolog" : {

},
"main" : {
"services" : {
"type" : "table",
"comment" : " ",
"children" : {
"scheduler" : {
"type" : "table",
"comment" : " ",
"children" : {
"fileMode" : {
"type" : "string",
"comment" : " ",
"annotation" : " "
}
}
},
"NetMonTransportServiceInterface" : {
"type" : "table",
"comment" : " ",
"children" : {
"service_provider" : {
"type" : "string",
"comment" : " ",
"annotation" : " "
},
"max_fragment_size_words" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
}
}
}
}
},
"daq" : {
"type" : "table",
"comment" : " ",
"children" : {
"max_fragment_size_words" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"aggregator" : {
"type" : "table",
"comment" : " ",
"children" : {
"mpi_buffer_count" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"first_event_builder_rank" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"event_builder_count" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"expected_events_per_bunch" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"print_event_store_stats" : {
"type" : "bool",
"comment" : " ",
"annotation" : " "
},
"event_queue_depth" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"event_queue_wait_time" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"onmon_event_prescale" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"xmlrpc_client_list" : {
"type" : "string",
"comment" : " ",
"annotation" : " "
},
"file_size_MB" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"file_duration" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"file_event_count" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
}
}
},
"metrics" : {
"type" : "table",
"comment" : " ",
"children" : {
"aggFile" : {
"type" : "table",
"comment" : " ",
"children" : {
"metricPluginType" : {
"type" : "string",
"comment" : " ",
"annotation" : " "
},
"level" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"fileName" : {
"type" : "string",
"comment" : " ",
"annotation" : " "
},
"uniquify" : {
"type" : "
05-12 17:27:19.764645  1 17 store_configuration: Converted json data to fcl; fcl=< 
services: {
 
scheduler: {
 
fileMode: NOMERGE  

} 
NetMonTransportServiceInterface: {
 
service_provider: NetMonTransportService  
 
max_fragment_size_words: 2097152  

}
} 
daq: {
 
max_fragment_size_words: 2097152  
 
aggregator: {
 
mpi_buffer_count: 8  
 
first_event_builder_rank: 2  
 
event_builder_count: 2  
 
expected_events_per_bunch: 1  
 
print_event_store_stats: true  
 
event_queue_depth: 20  
 
event_queue_wait_time: 5  
 
onmon_event_prescale: 1  
 
xmlrpc_client_list: ";http://topol.fnal.gov:5205/RPC2,3;http://topol.fnal.gov:5206/RPC2,3;http://topol.fnal.gov:5235/RPC2,4;http://topol.fnal.gov:5236/RPC2,4;http://topol.fnal.gov:5265/RPC2,5;http://topol.fnal.gov:5266/RPC2,5"  
 
file_size_MB: 8000  
 
file_duration: 0  
 
file_event_count: 0  

} 
metrics: {
 
aggFile: {
 
metricPluginType: file  
 
level: 3  
 
fileName: "/tmp/aggregator/agg_%UID%_metrics.log"  
 
uniquify: true  

}
}
} 
source: {
 
module_type: NetMonInput  

} 
outputs: {
 
normalOutputMod2: {
 
module_type: RootOutput  
 
fileName: "/tmp/artdaqdemo_r%06r_sr%02s_%to_mod2.root"  
 
SelectEvents: {
 
SelectEvents: [pmod2]  

} 
compressionLevel: 0  

} 
normalOutputMod3: {
 
module_type: RootOutput  
 
fileName: "/tmp/artdaqdemo_r%06r_sr%02s_%to_mod3.root"  
 
SelectEvents: {
 
SelectEvents: [pmod3]  

} 
compressionLevel: 0  

}
} 
physics: {
 
analyzers: {

} 
producers: {
 
BuildInfo: {
 
module_type: ArtdaqDemoBuildInfo  
 
instance_name: ArtdaqDemo  

}
} 
filters: {
 
prescaleMod2: {
 
module_type: NthEvent  
 
nth: 2  

} 
prescaleMod3: {
 
module_type: NthEvent  
 
nth: 3  

}
} 
p1: []  
 
p2: [BuildInfo]  
 
pmod2: [prescaleMod2]  
 
pmod3: [prescaleMod3]  
#my_output_modules: [ normalOutput ]
my_output_modules: [normalOutputMod2, normalOutputMod3]  

} 
process_name: DAQAG  
>
05-12 17:27:19.764677  1 15 store_configuration: json_buffer=<{
"document" : {
"data" : {
"prolog" : {

},
"main" : {
"services" : {
"scheduler" : {
"fileMode" : "NOMERGE"
},
"NetMonTransportServiceInterface" : {
"service_provider" : "NetMonTransportService",
"max_fragment_size_words" : 2097152
}
},
"daq" : {
"max_fragment_size_words" : 2097152,
"aggregator" : {
"mpi_buffer_count" : 8,
"first_event_builder_rank" : 2,
"event_builder_count" : 2,
"expected_events_per_bunch" : 1,
"print_event_store_stats" : true,
"event_queue_depth" : 20,
"event_queue_wait_time" : 5,
"onmon_event_prescale" : 1,
"xmlrpc_client_list" : ";http://topol.fnal.gov:5205/RPC2,3;http://topol.fnal.gov:5206/RPC2,3;http://topol.fnal.gov:5235/RPC2,4;http://topol.fnal.gov:5236/RPC2,4;http://topol.fnal.gov:5265/RPC2,5;http://topol.fnal.gov:5266/RPC2,5",
"file_size_MB" : 8000,
"file_duration" : 0,
"file_event_count" : 0
},
"metrics" : {
"aggFile" : {
"metricPluginType" : "file",
"level" : 3,
"fileName" : "/tmp/aggregator/agg_%UID%_metrics.log",
"uniquify" : true
}
}
},
"source" : {
"module_type" : "NetMonInput"
},
"outputs" : {
"normalOutputMod2" : {
"module_type" : "RootOutput",
"fileName" : "/tmp/artdaqdemo_r%06r_sr%02s_%to_mod2.root",
"SelectEvents" : {
"SelectEvents" : [
"pmod2"
]
},
"compressionLevel" : 0
},
"normalOutputMod3" : {
"module_type" : "RootOutput",
"fileName" : "/tmp/artdaqdemo_r%06r_sr%02s_%to_mod3.root",
"SelectEvents" : {
"SelectEvents" : [
"pmod3"
]
},
"compressionLevel" : 0
}
},
"physics" : {
"analyzers" : {

},
"producers" : {
"BuildInfo" : {
"module_type" : "ArtdaqDemoBuildInfo",
"instance_name" : "ArtdaqDemo"
}
},
"filters" : {
"prescaleMod2" : {
"module_type" : "NthEvent",
"nth" : 2
},
"prescaleMod3" : {
"module_type" : "NthEvent",
"nth" : 3
}
},
"p1" : [

],
"p2" : [
"BuildInfo"
],
"pmod2" : [
"prescaleMod2"
],
"pmod3" : [
"prescaleMod3"
],
"my_output_modules" : [
"normalOutputMod2",
"normalOutputMod3"
]
},
"process_name" : "DAQAG"
}
},
"metadata" : {
"prolog" : {

},
"main" : {
"services" : {
"type" : "table",
"comment" : " ",
"children" : {
"scheduler" : {
"type" : "table",
"comment" : " ",
"children" : {
"fileMode" : {
"type" : "string",
"comment" : " ",
"annotation" : " "
}
}
},
"NetMonTransportServiceInterface" : {
"type" : "table",
"comment" : " ",
"children" : {
"service_provider" : {
"type" : "string",
"comment" : " ",
"annotation" : " "
},
"max_fragment_size_words" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
}
}
}
}
},
"daq" : {
"type" : "table",
"comment" : " ",
"children" : {
"max_fragment_size_words" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"aggregator" : {
"type" : "table",
"comment" : " ",
"children" : {
"mpi_buffer_count" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"first_event_builder_rank" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"event_builder_count" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"expected_events_per_bunch" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"print_event_store_stats" : {
"type" : "bool",
"comment" : " ",
"annotation" : " "
},
"event_queue_depth" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"event_queue_wait_time" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"onmon_event_prescale" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"xmlrpc_client_list" : {
"type" : "string",
"comment" : " ",
"annotation" : " "
},
"file_size_MB" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"file_duration" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"file_event_count" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
}
}
},
"metrics" : {
"type" : "table",
"comment" : " ",
"children" : {
"aggFile" : {
"type" : "table",
"comment" : " ",
"children" : {
"metricPluginType" : {
"type" : "string",
"comment" : " ",
"annotation" : " "
},
"level" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"fileName" : {
"type" : "string",
"comment" : " ",
"annotation" : " "
},
"uniquify" : {
"type" : "bool",
"comment" : " 
05-12 17:27:19.780768  1 15 store_configuration: insert_payload=<{"document":{
    "document" : {
        "data" : {
            "prolog" : {

            }, 
            "main" : {
                "services" : {
                    "scheduler" : {
                        "fileMode" : "NOMERGE"
                    }, 
                    "NetMonTransportServiceInterface" : {
                        "service_provider" : "NetMonTransportService", 
                        "max_fragment_size_words" : 2097152
                    }
                }, 
                "daq" : {
                    "max_fragment_size_words" : 2097152, 
                    "aggregator" : {
                        "mpi_buffer_count" : 8, 
                        "first_event_builder_rank" : 2, 
                        "event_builder_count" : 2, 
                        "expected_events_per_bunch" : 1, 
                        "print_event_store_stats" : true, 
                        "event_queue_depth" : 20, 
                        "event_queue_wait_time" : 5, 
                        "onmon_event_prescale" : 1, 
                        "xmlrpc_client_list" : ";http://topol.fnal.gov:5205/RPC2,3;http://topol.fnal.gov:5206/RPC2,3;http://topol.fnal.gov:5235/RPC2,4;http://topol.fnal.gov:5236/RPC2,4;http://topol.fnal.gov:5265/RPC2,5;http://topol.fnal.gov:5266/RPC2,5", 
                        "file_size_MB" : 8000, 
                        "file_duration" : 0, 
                        "file_event_count" : 0
                    }, 
                    "metrics" : {
                        "aggFile" : {
                            "metricPluginType" : "file", 
                            "level" : 3, 
                            "fileName" : "/tmp/aggregator/agg_%UID%_metrics.log", 
                            "uniquify" : true
                        }
                    }
                }, 
                "source" : {
                    "module_type" : "NetMonInput"
                }, 
                "outputs" : {
                    "normalOutputMod2" : {
                        "module_type" : "RootOutput", 
                        "fileName" : "/tmp/artdaqdemo_r%06r_sr%02s_%to_mod2.root", 
                        "SelectEvents" : {
                            "SelectEvents" : [
                                "pmod2"
                            ]
                        }, 
                        "compressionLevel" : 0
                    }, 
                    "normalOutputMod3" : {
                        "module_type" : "RootOutput", 
                        "fileName" : "/tmp/artdaqdemo_r%06r_sr%02s_%to_mod3.root", 
                        "SelectEvents" : {
                            "SelectEvents" : [
                                "pmod3"
                            ]
                        }, 
                        "compressionLevel" : 0
                    }
                }, 
                "physics" : {
                    "analyzers" : {

                    }, 
                    "producers" : {
                        "BuildInfo" : {
                            "module_type" : "ArtdaqDemoBuildInfo", 
                            "instance_name" : "ArtdaqDemo"
                        }
                    }, 
                    "filters" : {
                        "prescaleMod2" : {
                            "module_type" : "NthEvent", 
                            "nth" : 2
                        }, 
                        "prescaleMod3" : {
                            "module_type" : "NthEvent", 
                            "nth" : 3
                        }
                    }, 
                    "p1" : [

                    ], 
                    "p2" : [
                        "BuildInfo"
                    ], 
                    "pmod2" : [
                        "prescaleMod2"
                    ], 
                    "pmod3" : [
                        "prescaleMod3"
                    ], 
                    "my_output_modules" : [
                        "normalOutputMod2", 
                
05-12 17:27:19.781774  1  4 StorageProvider::MongoDB::store() begin
05-12 17:27:19.782241  1  4 Search filter is missing, proceeding with insert.
05-12 17:27:19.798202  1  5 inserted_id={
    "$oid" : "573503471a72ba50b52416b1"
}
05-12 17:27:19.798539  1 15 store_configuration: end
Parsed options:
{
"filter" : {
"version" : "versionA38114",
"configurable_entity.name" : "test001",
"configurations.name" : "testConfigA03172016-174859"
},
"dbprovider" : "mongo",
"operation" : "store",
"collection" : "testManageConfigs_aggregator",
"dataformat" : "fhicl",
"configuration" : "testConfigA03172016-174859"
}
Running test:<store>
returned:
 
services: {
 
scheduler: {
 
fileMode: NOMERGE  

} 
NetMonTransportServiceInterface: {
 
service_provider: NetMonTransportService  
 
max_fragment_size_words: 2097152  

}
} 
daq: {
 
max_fragment_size_words: 2097152  
 
aggregator: {
 
mpi_buffer_count: 8  
 
first_event_builder_rank: 2  
 
event_builder_count: 2  
 
expected_events_per_bunch: 1  
 
print_event_store_stats: true  
 
event_queue_depth: 20  
 
event_queue_wait_time: 5  
 
onmon_event_prescale: 1  
 
xmlrpc_client_list: ";http://topol.fnal.gov:5205/RPC2,3;http://topol.fnal.gov:5206/RPC2,3;http://topol.fnal.gov:5235/RPC2,4;http://topol.fnal.gov:5236/RPC2,4;http://topol.fnal.gov:5265/RPC2,5;http://topol.fnal.gov:5266/RPC2,5"  
 
file_size_MB: 8000  
 
file_duration: 0  
 
file_event_count: 0  

} 
metrics: {
 
aggFile: {
 
metricPluginType: file  
 
level: 3  
 
fileName: "/tmp/aggregator/agg_%UID%_metrics.log"  
 
uniquify: true  

}
}
} 
source: {
 
module_type: NetMonInput  

} 
outputs: {
 
normalOutputMod2: {
 
module_type: RootOutput  
 
fileName: "/tmp/artdaqdemo_r%06r_sr%02s_%to_mod2.root"  
 
SelectEvents: {
 
SelectEvents: [pmod2]  

} 
compressionLevel: 0  

} 
normalOutputMod3: {
 
module_type: RootOutput  
 
fileName: "/tmp/artdaqdemo_r%06r_sr%02s_%to_mod3.root"  
 
SelectEvents: {
 
SelectEvents: [pmod3]  

} 
compressionLevel: 0  

}
} 
physics: {
 
analyzers: {

} 
producers: {
 
BuildInfo: {
 
module_type: ArtdaqDemoBuildInfo  
 
instance_name: ArtdaqDemo  

}
} 
filters: {
 
prescaleMod2: {
 
module_type: NthEvent  
 
nth: 2  

} 
prescaleMod3: {
 
module_type: NthEvent  
 
nth: 3  

}
} 
p1: []  
 
p2: [BuildInfo]  
 
pmod2: [prescaleMod2]  
 
pmod3: [prescaleMod3]  
#my_output_modules: [ normalOutput ]
my_output_modules: [normalOutputMod2, normalOutputMod3]  

} 
process_name: DAQAG  

<end of output>
Test time =   0.23 sec
----------------------------------------------------------
Test Passed.
"ManageConfigs_seeddata_mongo_000_001_t" end time: May 12 17:27 CDT
"ManageConfigs_seeddata_mongo_000_001_t" time elapsed: 00:00:00
----------------------------------------------------------

19/28 Testing: ManageConfigs_seeddata_filesystem_000_002_t
19/28 Test: ManageConfigs_seeddata_filesystem_000_002_t
Command: "/home/lukhanin/scratch/current/artdaq-demo-base/products/cetbuildtools/v4_18_02/bin/cet_exec_test" "--wd" "/home/lukhanin/scratch/current/artdaq-demo-base/build_artdaq-utilities-database/test/ConfigurationDB/ManageConfigs/test000/ManageConfigs_seeddata_filesystem_000_002_t.d" "--required-files" "" "--datafiles" "/home/lukhanin/scratch/current/artdaq-demo-base/build_artdaq-utilities-database/test/ConfigurationDB/ManageConfigs/test000/test002.src.108.fcl;/home/lukhanin/scratch/current/artdaq-demo-base/build_artdaq-utilities-database/test/ConfigurationDB/ManageConfigs/test000/test002.cmp.108.fcl" "--skip-return-code" "247" "LoadStore_t" "-o" "store" "-d" "filesystem" "-c" "testManageConfigs_aggregator" "-f" "fhicl" "-v" "versionA38114" "-g" "testConfigA03172016-174859" "-e" "test002" "-s" "test002.src.108.fcl" "-r" "test002.cmp.108.fcl"
Directory: /home/lukhanin/scratch/current/artdaq-demo-base/build_artdaq-utilities-database/test/ConfigurationDB/ManageConfigs/test000/ManageConfigs_seeddata_filesystem_000_002_t.d
"ManageConfigs_seeddata_filesystem_000_002_t" start time: May 12 17:27 CDT
Output:
----------------------------------------------------------
removed ‘test002.cmp.491.fcl’
removed ‘test002.src.491.fcl’
05-12 17:27:19.846671  1  0 artdaq::database::filesystem trace_enable
05-12 17:27:19.846823  1  0 artdaq::database::filesystem::index trace_enable
05-12 17:27:19.846880  1  0 artdaq::database::mongo trace_enable
05-12 17:27:19.846945  1  0 artdaq::database::configuration::LoadStoreOperation trace_enable
05-12 17:27:19.846987  1  0 artdaq::database::configuration::options::OperationBase trace_enable
05-12 17:27:19.847015  1  0 artdaq::database::configuration::options::OperationLoadStore trace_enable
05-12 17:27:19.847045  1  0 artdaq::database::configuration::LoadStoreOperationDetail trace_enable
05-12 17:27:19.849262  1 12 Options: Updating provider from filesystem to filesystem.
05-12 17:27:19.849285  1 10 Options: Updating operation from load to store.
05-12 17:27:19.849301  1 14 Options: dataFormat args format=<fhicl>.
05-12 17:27:19.849319  1 11 Options: Updating collection_name from notprovided to testManageConfigs_aggregator.
05-12 17:27:19.849337  1 10 Options: Updating version from notprovided to versionA38114.
05-12 17:27:19.849351  1 11 Options: Updating entity from notprovided to test002.
05-12 17:27:19.849365  1 12 Options: Updating global_configuration from notprovided to testConfigA03172016-174859.
05-12 17:27:19.857166  1 12 Options: Updating provider from filesystem to filesystem.
05-12 17:27:19.857199  1 10 Options: Updating operation from load to store.
05-12 17:27:19.857219  1 14 Options: dataFormat args format=<fhicl>.
05-12 17:27:19.857228  1 11 Options: Updating collection_name from notprovided to testManageConfigs_aggregator.
05-12 17:27:19.857435  1 15 Options: searchFilter args search_filter=<{
"version" : "versionA38114",
"configurable_entity.name" : "test002",
"configurations.name" : "testConfigA03172016-174859"
}>.
05-12 17:27:19.857753  1 15 Options: searchFilter args search_filter=<notprovided>.
05-12 17:27:19.857772  1 10 Options: Updating version from notprovided to versionA38114.
05-12 17:27:19.857786  1 11 Options: Updating entity from notprovided to test002.
05-12 17:27:19.857797  1 12 Options: Updating global_configuration from notprovided to testConfigA03172016-174859.
05-12 17:27:19.857816  1 15 store_configuration: begin
05-12 17:27:19.982476  1 17 store_configuration: Converted json data to fcl; json=<{
"document" : {
"data" : {
"prolog" : {

},
"main" : {
"services" : {
"scheduler" : {
"fileMode" : "NOMERGE"
},
"NetMonTransportServiceInterface" : {
"service_provider" : "NetMonTransportService",
"max_fragment_size_words" : 2097152
}
},
"daq" : {
"max_fragment_size_words" : 2097152,
"aggregator" : {
"mpi_buffer_count" : 8,
"first_event_builder_rank" : 2,
"event_builder_count" : 2,
"expected_events_per_bunch" : 1,
"print_event_store_stats" : true,
"event_queue_depth" : 2,
"event_queue_wait_time" : 1,
"onmon_event_prescale" : 1,
"xmlrpc_client_list" : ";http://topol.fnal.gov:5205/RPC2,3;http://topol.fnal.gov:5206/RPC2,3;http://topol.fnal.gov:5235/RPC2,4;http://topol.fnal.gov:5236/RPC2,4;http://topol.fnal.gov:5265/RPC2,5;http://topol.fnal.gov:5266/RPC2,5",
"file_size_MB" : 8000,
"file_duration" : 0,
"file_event_count" : 0
},
"metrics" : {
"aggFile" : {
"metricPluginType" : "file",
"level" : 3,
"fileName" : "/tmp/aggregator/agg_%UID%_metrics.log",
"uniquify" : true
}
}
},
"source" : {
"module_type" : "NetMonInput"
},
"outputs" : {

},
"physics" : {
"analyzers" : {

},
"producers" : {
"BuildInfo" : {
"module_type" : "ArtdaqDemoBuildInfo",
"instance_name" : "ArtdaqDemo"
}
},
"filters" : {
"prescaleMod2" : {
"module_type" : "NthEvent",
"nth" : 2
},
"prescaleMod3" : {
"module_type" : "NthEvent",
"nth" : 3
}
},
"p1" : [

],
"p2" : [
"BuildInfo"
],
"pmod2" : [
"prescaleMod2"
],
"pmod3" : [
"prescaleMod3"
]
},
"process_name" : "DAQAG"
}
},
"metadata" : {
"prolog" : {

},
"main" : {
"services" : {
"type" : "table",
"comment" : " ",
"children" : {
"scheduler" : {
"type" : "table",
"comment" : " ",
"children" : {
"fileMode" : {
"type" : "string",
"comment" : " ",
"annotation" : " "
}
}
},
"NetMonTransportServiceInterface" : {
"type" : "table",
"comment" : " ",
"children" : {
"service_provider" : {
"type" : "string",
"comment" : " ",
"annotation" : " "
},
"max_fragment_size_words" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
}
}
}
}
},
"daq" : {
"type" : "table",
"comment" : " ",
"children" : {
"max_fragment_size_words" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"aggregator" : {
"type" : "table",
"comment" : " ",
"children" : {
"mpi_buffer_count" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"first_event_builder_rank" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"event_builder_count" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"expected_events_per_bunch" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"print_event_store_stats" : {
"type" : "bool",
"comment" : " ",
"annotation" : " "
},
"event_queue_depth" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"event_queue_wait_time" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"onmon_event_prescale" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"xmlrpc_client_list" : {
"type" : "string",
"comment" : " ",
"annotation" : " "
},
"file_size_MB" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"file_duration" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"file_event_count" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
}
}
},
"metrics" : {
"type" : "table",
"comment" : " ",
"children" : {
"aggFile" : {
"type" : "table",
"comment" : " ",
"children" : {
"metricPluginType" : {
"type" : "string",
"comment" : " ",
"annotation" : " "
},
"level" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"fileName" : {
"type" : "string",
"comment" : " ",
"annotation" : " "
},
"uniquify" : {
"type" : "bool",
"comment" : " ",
"annotation" : " "
}
}
}
}
}
}
},
"source" : {
"type" : "table",
"comment" : " ",
"children" : {
"module_type" : {
"type" : "string",
"comment" : " ",
"annotation" : " "
}
}
},
"outputs" : {
"type" : "table",
"comment" : " ",
"children" : {

}
},
"physics" : {
"type" : "table",
"comment" : " ",
"children" : {
"analyzers" : {
"type" : "table",
"comment" : " ",
"children" : {

}
},
"producers" : {
"type" : "table",
"c
05-12 17:27:19.982527  1 17 store_configuration: Converted json data to fcl; fcl=< 
services: {
 
scheduler: {
 
fileMode: NOMERGE  

} 
NetMonTransportServiceInterface: {
 
service_provider: NetMonTransportService  
 
max_fragment_size_words: 2097152  

}
} 
daq: {
 
max_fragment_size_words: 2097152  
 
aggregator: {
 
mpi_buffer_count: 8  
 
first_event_builder_rank: 2  
 
event_builder_count: 2  
 
expected_events_per_bunch: 1  
 
print_event_store_stats: true  
 
event_queue_depth: 2  
 
event_queue_wait_time: 1  
 
onmon_event_prescale: 1  
 
xmlrpc_client_list: ";http://topol.fnal.gov:5205/RPC2,3;http://topol.fnal.gov:5206/RPC2,3;http://topol.fnal.gov:5235/RPC2,4;http://topol.fnal.gov:5236/RPC2,4;http://topol.fnal.gov:5265/RPC2,5;http://topol.fnal.gov:5266/RPC2,5"  
 
file_size_MB: 8000  
 
file_duration: 0  
 
file_event_count: 0  

} 
metrics: {
 
aggFile: {
 
metricPluginType: file  
 
level: 3  
 
fileName: "/tmp/aggregator/agg_%UID%_metrics.log"  
 
uniquify: true  

}
}
} 
source: {
 
module_type: NetMonInput  

} 
outputs: {

} 
physics: {
 
analyzers: {

} 
producers: {
 
BuildInfo: {
 
module_type: ArtdaqDemoBuildInfo  
 
instance_name: ArtdaqDemo  

}
} 
filters: {
 
prescaleMod2: {
 
module_type: NthEvent  
 
nth: 2  

} 
prescaleMod3: {
 
module_type: NthEvent  
 
nth: 3  

}
} 
p1: []  
 
p2: [BuildInfo]  
 
pmod2: [prescaleMod2]  
 
pmod3: [prescaleMod3]  

} 
process_name: DAQAG  
>
05-12 17:27:19.982557  1 15 store_configuration: json_buffer=<{
"document" : {
"data" : {
"prolog" : {

},
"main" : {
"services" : {
"scheduler" : {
"fileMode" : "NOMERGE"
},
"NetMonTransportServiceInterface" : {
"service_provider" : "NetMonTransportService",
"max_fragment_size_words" : 2097152
}
},
"daq" : {
"max_fragment_size_words" : 2097152,
"aggregator" : {
"mpi_buffer_count" : 8,
"first_event_builder_rank" : 2,
"event_builder_count" : 2,
"expected_events_per_bunch" : 1,
"print_event_store_stats" : true,
"event_queue_depth" : 2,
"event_queue_wait_time" : 1,
"onmon_event_prescale" : 1,
"xmlrpc_client_list" : ";http://topol.fnal.gov:5205/RPC2,3;http://topol.fnal.gov:5206/RPC2,3;http://topol.fnal.gov:5235/RPC2,4;http://topol.fnal.gov:5236/RPC2,4;http://topol.fnal.gov:5265/RPC2,5;http://topol.fnal.gov:5266/RPC2,5",
"file_size_MB" : 8000,
"file_duration" : 0,
"file_event_count" : 0
},
"metrics" : {
"aggFile" : {
"metricPluginType" : "file",
"level" : 3,
"fileName" : "/tmp/aggregator/agg_%UID%_metrics.log",
"uniquify" : true
}
}
},
"source" : {
"module_type" : "NetMonInput"
},
"outputs" : {

},
"physics" : {
"analyzers" : {

},
"producers" : {
"BuildInfo" : {
"module_type" : "ArtdaqDemoBuildInfo",
"instance_name" : "ArtdaqDemo"
}
},
"filters" : {
"prescaleMod2" : {
"module_type" : "NthEvent",
"nth" : 2
},
"prescaleMod3" : {
"module_type" : "NthEvent",
"nth" : 3
}
},
"p1" : [

],
"p2" : [
"BuildInfo"
],
"pmod2" : [
"prescaleMod2"
],
"pmod3" : [
"prescaleMod3"
]
},
"process_name" : "DAQAG"
}
},
"metadata" : {
"prolog" : {

},
"main" : {
"services" : {
"type" : "table",
"comment" : " ",
"children" : {
"scheduler" : {
"type" : "table",
"comment" : " ",
"children" : {
"fileMode" : {
"type" : "string",
"comment" : " ",
"annotation" : " "
}
}
},
"NetMonTransportServiceInterface" : {
"type" : "table",
"comment" : " ",
"children" : {
"service_provider" : {
"type" : "string",
"comment" : " ",
"annotation" : " "
},
"max_fragment_size_words" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
}
}
}
}
},
"daq" : {
"type" : "table",
"comment" : " ",
"children" : {
"max_fragment_size_words" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"aggregator" : {
"type" : "table",
"comment" : " ",
"children" : {
"mpi_buffer_count" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"first_event_builder_rank" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"event_builder_count" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"expected_events_per_bunch" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"print_event_store_stats" : {
"type" : "bool",
"comment" : " ",
"annotation" : " "
},
"event_queue_depth" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"event_queue_wait_time" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"onmon_event_prescale" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"xmlrpc_client_list" : {
"type" : "string",
"comment" : " ",
"annotation" : " "
},
"file_size_MB" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"file_duration" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"file_event_count" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
}
}
},
"metrics" : {
"type" : "table",
"comment" : " ",
"children" : {
"aggFile" : {
"type" : "table",
"comment" : " ",
"children" : {
"metricPluginType" : {
"type" : "string",
"comment" : " ",
"annotation" : " "
},
"level" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"fileName" : {
"type" : "string",
"comment" : " ",
"annotation" : " "
},
"uniquify" : {
"type" : "bool",
"comment" : " ",
"annotation" : " "
}
}
}
}
}
}
},
"source" : {
"type" : "table",
"comment" : " ",
"children" : {
"module_type" : {
"type" : "string",
"comment" : " ",
"annotation" : " "
}
}
},
"outputs" : {
"type" : "table",
"comment" : " ",
"children" : {

}
},
"physics" : {
"type" : "table",
"comment" : " ",
"children" : {
"analyzers" : {
"type" : "table",
"comment" : " ",
"children" : {

}
},
"producers" : {
"type" : "table",
"comment" : " ",
"child
05-12 17:27:19.997476  1 15 store_configuration: insert_payload=<{"document":{
    "document" : {
        "data" : {
            "prolog" : {

            }, 
            "main" : {
                "services" : {
                    "scheduler" : {
                        "fileMode" : "NOMERGE"
                    }, 
                    "NetMonTransportServiceInterface" : {
                        "service_provider" : "NetMonTransportService", 
                        "max_fragment_size_words" : 2097152
                    }
                }, 
                "daq" : {
                    "max_fragment_size_words" : 2097152, 
                    "aggregator" : {
                        "mpi_buffer_count" : 8, 
                        "first_event_builder_rank" : 2, 
                        "event_builder_count" : 2, 
                        "expected_events_per_bunch" : 1, 
                        "print_event_store_stats" : true, 
                        "event_queue_depth" : 2, 
                        "event_queue_wait_time" : 1, 
                        "onmon_event_prescale" : 1, 
                        "xmlrpc_client_list" : ";http://topol.fnal.gov:5205/RPC2,3;http://topol.fnal.gov:5206/RPC2,3;http://topol.fnal.gov:5235/RPC2,4;http://topol.fnal.gov:5236/RPC2,4;http://topol.fnal.gov:5265/RPC2,5;http://topol.fnal.gov:5266/RPC2,5", 
                        "file_size_MB" : 8000, 
                        "file_duration" : 0, 
                        "file_event_count" : 0
                    }, 
                    "metrics" : {
                        "aggFile" : {
                            "metricPluginType" : "file", 
                            "level" : 3, 
                            "fileName" : "/tmp/aggregator/agg_%UID%_metrics.log", 
                            "uniquify" : true
                        }
                    }
                }, 
                "source" : {
                    "module_type" : "NetMonInput"
                }, 
                "outputs" : {

                }, 
                "physics" : {
                    "analyzers" : {

                    }, 
                    "producers" : {
                        "BuildInfo" : {
                            "module_type" : "ArtdaqDemoBuildInfo", 
                            "instance_name" : "ArtdaqDemo"
                        }
                    }, 
                    "filters" : {
                        "prescaleMod2" : {
                            "module_type" : "NthEvent", 
                            "nth" : 2
                        }, 
                        "prescaleMod3" : {
                            "module_type" : "NthEvent", 
                            "nth" : 3
                        }
                    }, 
                    "p1" : [

                    ], 
                    "p2" : [
                        "BuildInfo"
                    ], 
                    "pmod2" : [
                        "prescaleMod2"
                    ], 
                    "pmod3" : [
                        "prescaleMod3"
                    ]
                }, 
                "process_name" : "DAQAG"
            }
        }, 
        "metadata" : {
            "prolog" : {

            }, 
            "main" : {
                "services" : {
                    "type" : "table", 
                    "comment" : " ", 
                    "children" : {
                        "scheduler" : {
                            "type" : "table", 
                            "comment" : " ", 
                            "children" : {
                                "fileMode" : {
                                    "type" : "string", 
                                    "comment" : " ", 
                                    "annotation" : " "
                                }
                            }
                        }, 
                        "NetMonTransportServiceInterface" : {
                            "type" : "table", 
                            "comment" : " ", 
                            "child
05-12 17:27:19.997904  1  4 StorageProvider::FileSystemDB::store() begin
05-12 17:27:19.997967  1  4 StorageProvider::FileSystemDB::store() args data=<{"document":{
    "document" : {
        "data" : {
            "prolog" : {

            }, 
            "main" : {
                "services" : {
                    "scheduler" : {
                        "fileMode" : "NOMERGE"
                    }, 
                    "NetMonTransportServiceInterface" : {
                        "service_provider" : "NetMonTransportService", 
                        "max_fragment_size_words" : 2097152
                    }
                }, 
                "daq" : {
                    "max_fragment_size_words" : 2097152, 
                    "aggregator" : {
                        "mpi_buffer_count" : 8, 
                        "first_event_builder_rank" : 2, 
                        "event_builder_count" : 2, 
                        "expected_events_per_bunch" : 1, 
                        "print_event_store_stats" : true, 
                        "event_queue_depth" : 2, 
                        "event_queue_wait_time" : 1, 
                        "onmon_event_prescale" : 1, 
                        "xmlrpc_client_list" : ";http://topol.fnal.gov:5205/RPC2,3;http://topol.fnal.gov:5206/RPC2,3;http://topol.fnal.gov:5235/RPC2,4;http://topol.fnal.gov:5236/RPC2,4;http://topol.fnal.gov:5265/RPC2,5;http://topol.fnal.gov:5266/RPC2,5", 
                        "file_size_MB" : 8000, 
                        "file_duration" : 0, 
                        "file_event_count" : 0
                    }, 
                    "metrics" : {
                        "aggFile" : {
                            "metricPluginType" : "file", 
                            "level" : 3, 
                            "fileName" : "/tmp/aggregator/agg_%UID%_metrics.log", 
                            "uniquify" : true
                        }
                    }
                }, 
                "source" : {
                    "module_type" : "NetMonInput"
                }, 
                "outputs" : {

                }, 
                "physics" : {
                    "analyzers" : {

                    }, 
                    "producers" : {
                        "BuildInfo" : {
                            "module_type" : "ArtdaqDemoBuildInfo", 
                            "instance_name" : "ArtdaqDemo"
                        }
                    }, 
                    "filters" : {
                        "prescaleMod2" : {
                            "module_type" : "NthEvent", 
                            "nth" : 2
                        }, 
                        "prescaleMod3" : {
                            "module_type" : "NthEvent", 
                            "nth" : 3
                        }
                    }, 
                    "p1" : [

                    ], 
                    "p2" : [
                        "BuildInfo"
                    ], 
                    "pmod2" : [
                        "prescaleMod2"
                    ], 
                    "pmod3" : [
                        "prescaleMod3"
                    ]
                }, 
                "process_name" : "DAQAG"
            }
        }, 
        "metadata" : {
            "prolog" : {

            }, 
            "main" : {
                "services" : {
                    "type" : "table", 
                    "comment" : " ", 
                    "children" : {
                        "scheduler" : {
                            "type" : "table", 
                            "comment" : " ", 
                            "children" : {
                                "fileMode" : {
                                    "type" : "string", 
                                    "comment" : " ", 
                                    "annotation" : " "
                                }
                            }
                        }, 
                        "NetMonTransportServiceInterface" : {
                            "type" : "table", 
                            "comment" : " ", 
                     
05-12 17:27:20.001401  1 12 StorageProvider::FileSystemDB generate_oid=e29c946455cb4eb5abf37ac0
05-12 17:27:20.004360  1  4 StorageProvider::FileSystemDB::store() using generated oid=<e29c946455cb4eb5abf37ac0>.
05-12 17:27:20.004425  1  4 StorageProvider::FileSystemDB::store() collection_path=<file:///home/lukhanin/databases/filesystemdb/testManageConfigs_aggregator/>.
05-12 17:27:20.004458  1 11 StorageProvider::FileSystemDB mkdir dir=</home/lukhanin/databases/filesystemdb/testManageConfigs_aggregator/>
05-12 17:27:20.004501  1 11 StorageProvider::FileSystemDB Directory exists, checking permissions; path=</home/lukhanin/databases/filesystemdb/testManageConfigs_aggregator/>
05-12 17:27:20.004676  1  4 StorageProvider::FileSystemDB::store() filename=</home/lukhanin/databases/filesystemdb/testManageConfigs_aggregator/e29c946455cb4eb5abf37ac0.json>.
05-12 17:27:20.063065  1  3 StorageProvider::FileSystemDB::index::_open() begin
05-12 17:27:20.063094  1  3 StorageProvider::FileSystemDB::index::_open() args index_path=</home/lukhanin/databases/filesystemdb/testManageConfigs_aggregator/index.json>.
05-12 17:27:20.063533  1  3 StorageProvider::FileSystemDB::index::_open() json=<{
"version" : {
"versionA08527" : [
"d5ecbbdebb204770b04fac3d"
],
"versionA95932" : [
"f66fa4032ee2484fbb0034fb"
],
"versionA43857" : [
"d55ebc42cde44a0699f15b34"
],
"versionA75980" : [
"67b70c838aab4155a0935ef5"
],
"versionA57556" : [
"95cca5bb7dbe414587d99eb1"
],
"versionA13329" : [
"7ba2d18f00da4c3983b00d7b"
],
"versionA72040" : [
"95dee707ad92445da1c49bdd"
],
"versionA59350" : [
"45b892cf546543b58802b5f0"
],
"versionA61611" : [
"caed1a56b8924f0ebe0139b3"
],
"versionA79882" : [
"656935610be14ad89b895960"
],
"versionA54615" : [
"f9ac14b099194cbcab158e76"
],
"versionA22874" : [
"f0c3bf70d39f41d785001b05"
],
"versionA84889" : [
"d03ea34ede40484fbf6cb3e2"
],
"versionA99878" : [
"68a4e303393343ef814cb123"
],
"versionA78209" : [
"cdc79a6599ed49348f50a63e"
],
"versionA19348" : [
"c327c024b6f44abb9b9bc002"
],
"versionA36328" : [
"d63f5c83c3c44eb38b41a7cf"
],
"versionA16444" : [
"93f2fb51256344e9beb018d0"
],
"versionA33575" : [
"1d1b62075a26445bb8747b3a"
],
"versionA48650" : [
"9d2d6ebd208148f188ffe821"
],
"versionA48782" : [
"706d884669844da4a7ebcf37"
],
"versionA30745" : [
"316b8917ee9c480880206299"
],
"versionA21261" : [
"d222b06e380a4a85bd2f377e"
],
"versionA75114" : [
"b38a9bbf24164896a8341ac3"
],
"versionA56962" : [
"e2e710cba38342a2afc12837"
],
"versionA20770" : [
"cdcbe56e5a58486c8fe0e68a"
],
"versionA57108" : [
"c7967a05df5d4603a9d816a3"
],
"versionA54535" : [
"d0f6017cf8c34464b830af62"
],
"versionA41119" : [
"215cc6c5579549b2b97b6895"
],
"versionA44195" : [
"bb3fa00514ca47779566d896"
],
"versionA56391" : [
"e80dc43d843245b7b6fa5d25"
],
"versionA56485" : [
"9928a4f9edda4b98a49fffbf"
],
"versionA05409" : [
"f7fe9399ddd84c40bd53018d"
],
"versionA33647" : [
"65a7e4f37a3140de9d3204c8"
],
"versionA45619" : [
"7ceeb3837362473c8a3eeda6"
],
"versionA53848" : [
"d50cd820ba2e4315a1b87462"
],
"versionA03539" : [
"2f00b5d805e140dcb8eaec1c"
],
"versionA03589" : [
"cfe105a6a7de42b2b63d28a4"
],
"versionA95203" : [
"fa764d6ed2eb4b4c8e45f4d2"
],
"versionA86043" : [
"5f2bc67fa0264d1391360a1a",
"89dc9c405dc24fbc8148b03f"
],
"versionA12250" : [
"279ab9a72a0d43a5b9a9a322",
"f0a92fc02b3e4491a1853b22"
],
"versionA14401" : [
"224c670eb4a347eea011ff69",
"b4b0769891234c16b820ad6e"
],
"versionA38114" : [
"27622d688f404ff7b2dfe263"
]
},
"configurations.name" : {
"testConfigA03172016-174859" : [
"1d1b62075a26445bb8747b3a",
"215cc6c5579549b2b97b6895",
"224c670eb4a347eea011ff69",
"27622d688f404ff7b2dfe263",
"279ab9a72a0d43a5b9a9a322",
"2f00b5d805e140dcb8eaec1c",
"316b8917ee9c480880206299",
"45b892cf546543b58802b5f0",
"5f2bc67fa0264d1391360a1a",
"656935610be14ad89b895960",
"65a7e4f37a3140de9d3204c8",
"67b70c838aab4155a0935ef5",
"68a4e303393343ef814cb123",
"706d884669844da4a7ebcf37",
"7ba2d18f00da4c3983b00d7b",
"7ceeb3837362473c8a3eeda6",
"89dc9c405dc24fbc8148b03f",
"93f2fb51256344e9beb018d0",
"95cca5bb7dbe414587d99eb1",
"95dee707ad92445da1c49bdd",
"9928a4f9edda4b98a49fffbf",
"9d2d6ebd208148f188ffe821",
"b38a9bbf24164896a8341ac3",
"b4b0769891234c16b820ad6e",
"bb3fa00514ca47779566d896",
"c327c024b6f44abb9b9bc002",
"c7967a05df5d4603a9d816a3",
"caed1a56b8924f0ebe0139b3",
"cdc79a6599ed49348f50a63e",
"cdcbe56e5a58486c8fe0e68a",
"cfe105a6a7de42b2b63d28a4",
"d03ea34ede40484fbf6cb3e2",
"d0f6017cf8c34464b830af62",
"d222b06e380a4a85bd2f377e",
"d50cd820ba2e4315a1b87462",
"d55ebc42cde44a0699f15b34",
"d5ecbbdebb204770b04fac3d",
"d63f5c83c3c44eb38b41a7cf",
"e2e710cba38342a2afc12837",
"e80dc43d843245b7b6fa5d25",
"f0a92fc02b3e4491a1853b22",
"f0c3bf70d39f41d785001b05",
"f66fa4032ee2484fbb0034fb",
"f7fe9399ddd84c40bd53018d",
"f9ac14b099194cbcab158e76",
"fa764d6ed2eb4b4c8e45f4d2"
]
},
"configurable_entity.name" : {
"test001" : [
"27622d688f404ff7b2dfe263",
"b4b0769891234c16b820ad6e",
"d55ebc42cde44a0699f15b34",
"d5ecbbdebb204770b04fac3d",
"f0a92fc02b3e4491a1853b22",
"f66fa4032ee2484fbb0034fb"
],
"test002" : [
"224c670eb4a347eea011ff69",
"279ab9a72a0d43a5b9a9a322",
"67b70c838aab4155a0935ef5",
"95cca5bb7dbe414587d99eb1"
],
"test003" : [
"1d1b62075a26445bb8747b3a",
"215cc6c5579549b2b97b6895",
05-12 17:27:20.068097  1  5 StorageProvider::FileSystemDB::index::addDocument() begin
05-12 17:27:20.068162  1  5 StorageProvider::FileSystemDB::index::addDocument() args document=<{
        "document" : {
            "data" : {
                "prolog" : {

                }, 
                "main" : {
                    "services" : {
                        "scheduler" : {
                            "fileMode" : "NOMERGE"
                        }, 
                        "NetMonTransportServiceInterface" : {
                            "service_provider" : "NetMonTransportService", 
                            "max_fragment_size_words" : 2097152
                        }
                    }, 
                    "daq" : {
                        "max_fragment_size_words" : 2097152, 
                        "aggregator" : {
                            "mpi_buffer_count" : 8, 
                            "first_event_builder_rank" : 2, 
                            "event_builder_count" : 2, 
                            "expected_events_per_bunch" : 1, 
                            "print_event_store_stats" : true, 
                            "event_queue_depth" : 2, 
                            "event_queue_wait_time" : 1, 
                            "onmon_event_prescale" : 1, 
                            "xmlrpc_client_list" : ";http://topol.fnal.gov:5205/RPC2,3;http://topol.fnal.gov:5206/RPC2,3;http://topol.fnal.gov:5235/RPC2,4;http://topol.fnal.gov:5236/RPC2,4;http://topol.fnal.gov:5265/RPC2,5;http://topol.fnal.gov:5266/RPC2,5", 
                            "file_size_MB" : 8000, 
                            "file_duration" : 0, 
                            "file_event_count" : 0
                        }, 
                        "metrics" : {
                            "aggFile" : {
                                "metricPluginType" : "file", 
                                "level" : 3, 
                                "fileName" : "/tmp/aggregator/agg_%UID%_metrics.log", 
                                "uniquify" : true
                            }
                        }
                    }, 
                    "source" : {
                        "module_type" : "NetMonInput"
                    }, 
                    "outputs" : {

                    }, 
                    "physics" : {
                        "analyzers" : {

                        }, 
                        "producers" : {
                            "BuildInfo" : {
                                "module_type" : "ArtdaqDemoBuildInfo", 
                                "instance_name" : "ArtdaqDemo"
                            }
                        }, 
                        "filters" : {
                            "prescaleMod2" : {
                                "module_type" : "NthEvent", 
                                "nth" : 2
                            }, 
                            "prescaleMod3" : {
                                "module_type" : "NthEvent", 
                                "nth" : 3
                            }
                        }, 
                        "p1" : [

                        ], 
                        "p2" : [
                            "BuildInfo"
                        ], 
                        "pmod2" : [
                            "prescaleMod2"
                        ], 
                        "pmod3" : [
                            "prescaleMod3"
                        ]
                    }, 
                    "process_name" : "DAQAG"
                }
            }, 
            "metadata" : {
                "prolog" : {

                }, 
                "main" : {
                    "services" : {
                        "type" : "table", 
                        "comment" : " ", 
                        "children" : {
                            "scheduler" : {
                                "type" : "table", 
                                "comment" : " ", 
                                "children" : {
                                    "fileMode" : {
                                        "type" : "string", 
    
05-12 17:27:20.068241  1  5 StorageProvider::FileSystemDB::index::addDocument() args ouid=<e29c946455cb4eb5abf37ac0>.
05-12 17:27:20.078809  1  5 StorageProvider::FileSystemDB::index::addDocument() found 9 keys.
05-12 17:27:20.078835  1  7 StorageProvider::FileSystemDB::index::_addVersion() begin
05-12 17:27:20.078846  1  7 StorageProvider::FileSystemDB::index::_addVersion() args ouid=<e29c946455cb4eb5abf37ac0>.
05-12 17:27:20.078852  1  7 StorageProvider::FileSystemDB::index::_addVersion() args version=<versionA38114>.
05-12 17:27:20.079023  1  7 StorageProvider::FileSystemDB::index::_addConfiguration() begin
05-12 17:27:20.079032  1  7 StorageProvider::FileSystemDB::index::_addConfiguration() args ouid=<e29c946455cb4eb5abf37ac0>.
05-12 17:27:20.079040  1  7 StorageProvider::FileSystemDB::index::_addConfiguration() args configuration=<testConfigA03172016-174859>.
05-12 17:27:20.079128  1  7 StorageProvider::FileSystemDB::index::_addConfigurableEntity() begin
05-12 17:27:20.079138  1  7 StorageProvider::FileSystemDB::index::_addConfigurableEntity() args ouid=<e29c946455cb4eb5abf37ac0>.
05-12 17:27:20.079144  1  7 StorageProvider::FileSystemDB::index::_addConfigurableEntity() args entity=<test002>.
05-12 17:27:20.079342  1  4 StorageProvider::FileSystemDB::index::_close() begin
05-12 17:27:20.084870  1  4 StorageProvider::FileSystemDB::index::_close() json=<{
"version" : {
"versionA08527" : [
"d5ecbbdebb204770b04fac3d"
],
"versionA95932" : [
"f66fa4032ee2484fbb0034fb"
],
"versionA43857" : [
"d55ebc42cde44a0699f15b34"
],
"versionA75980" : [
"67b70c838aab4155a0935ef5"
],
"versionA57556" : [
"95cca5bb7dbe414587d99eb1"
],
"versionA13329" : [
"7ba2d18f00da4c3983b00d7b"
],
"versionA72040" : [
"95dee707ad92445da1c49bdd"
],
"versionA59350" : [
"45b892cf546543b58802b5f0"
],
"versionA61611" : [
"caed1a56b8924f0ebe0139b3"
],
"versionA79882" : [
"656935610be14ad89b895960"
],
"versionA54615" : [
"f9ac14b099194cbcab158e76"
],
"versionA22874" : [
"f0c3bf70d39f41d785001b05"
],
"versionA84889" : [
"d03ea34ede40484fbf6cb3e2"
],
"versionA99878" : [
"68a4e303393343ef814cb123"
],
"versionA78209" : [
"cdc79a6599ed49348f50a63e"
],
"versionA19348" : [
"c327c024b6f44abb9b9bc002"
],
"versionA36328" : [
"d63f5c83c3c44eb38b41a7cf"
],
"versionA16444" : [
"93f2fb51256344e9beb018d0"
],
"versionA33575" : [
"1d1b62075a26445bb8747b3a"
],
"versionA48650" : [
"9d2d6ebd208148f188ffe821"
],
"versionA48782" : [
"706d884669844da4a7ebcf37"
],
"versionA30745" : [
"316b8917ee9c480880206299"
],
"versionA21261" : [
"d222b06e380a4a85bd2f377e"
],
"versionA75114" : [
"b38a9bbf24164896a8341ac3"
],
"versionA56962" : [
"e2e710cba38342a2afc12837"
],
"versionA20770" : [
"cdcbe56e5a58486c8fe0e68a"
],
"versionA57108" : [
"c7967a05df5d4603a9d816a3"
],
"versionA54535" : [
"d0f6017cf8c34464b830af62"
],
"versionA41119" : [
"215cc6c5579549b2b97b6895"
],
"versionA44195" : [
"bb3fa00514ca47779566d896"
],
"versionA56391" : [
"e80dc43d843245b7b6fa5d25"
],
"versionA56485" : [
"9928a4f9edda4b98a49fffbf"
],
"versionA05409" : [
"f7fe9399ddd84c40bd53018d"
],
"versionA33647" : [
"65a7e4f37a3140de9d3204c8"
],
"versionA45619" : [
"7ceeb3837362473c8a3eeda6"
],
"versionA53848" : [
"d50cd820ba2e4315a1b87462"
],
"versionA03539" : [
"2f00b5d805e140dcb8eaec1c"
],
"versionA03589" : [
"cfe105a6a7de42b2b63d28a4"
],
"versionA95203" : [
"fa764d6ed2eb4b4c8e45f4d2"
],
"versionA86043" : [
"5f2bc67fa0264d1391360a1a",
"89dc9c405dc24fbc8148b03f"
],
"versionA12250" : [
"279ab9a72a0d43a5b9a9a322",
"f0a92fc02b3e4491a1853b22"
],
"versionA14401" : [
"224c670eb4a347eea011ff69",
"b4b0769891234c16b820ad6e"
],
"versionA38114" : [
"27622d688f404ff7b2dfe263",
"e29c946455cb4eb5abf37ac0"
]
},
"configurations.name" : {
"testConfigA03172016-174859" : [
"1d1b62075a26445bb8747b3a",
"215cc6c5579549b2b97b6895",
"224c670eb4a347eea011ff69",
"27622d688f404ff7b2dfe263",
"279ab9a72a0d43a5b9a9a322",
"2f00b5d805e140dcb8eaec1c",
"316b8917ee9c480880206299",
"45b892cf546543b58802b5f0",
"5f2bc67fa0264d1391360a1a",
"656935610be14ad89b895960",
"65a7e4f37a3140de9d3204c8",
"67b70c838aab4155a0935ef5",
"68a4e303393343ef814cb123",
"706d884669844da4a7ebcf37",
"7ba2d18f00da4c3983b00d7b",
"7ceeb3837362473c8a3eeda6",
"89dc9c405dc24fbc8148b03f",
"93f2fb51256344e9beb018d0",
"95cca5bb7dbe414587d99eb1",
"95dee707ad92445da1c49bdd",
"9928a4f9edda4b98a49fffbf",
"9d2d6ebd208148f188ffe821",
"b38a9bbf24164896a8341ac3",
"b4b0769891234c16b820ad6e",
"bb3fa00514ca47779566d896",
"c327c024b6f44abb9b9bc002",
"c7967a05df5d4603a9d816a3",
"caed1a56b8924f0ebe0139b3",
"cdc79a6599ed49348f50a63e",
"cdcbe56e5a58486c8fe0e68a",
"cfe105a6a7de42b2b63d28a4",
"d03ea34ede40484fbf6cb3e2",
"d0f6017cf8c34464b830af62",
"d222b06e380a4a85bd2f377e",
"d50cd820ba2e4315a1b87462",
"d55ebc42cde44a0699f15b34",
"d5ecbbdebb204770b04fac3d",
"d63f5c83c3c44eb38b41a7cf",
"e29c946455cb4eb5abf37ac0",
"e2e710cba38342a2afc12837",
"e80dc43d843245b7b6fa5d25",
"f0a92fc02b3e4491a1853b22",
"f0c3bf70d39f41d785001b05",
"f66fa4032ee2484fbb0034fb",
"f7fe9399ddd84c40bd53018d",
"f9ac14b099194cbcab158e76",
"fa764d6ed2eb4b4c8e45f4d2"
]
},
"configurable_entity.name" : {
"test001" : [
"27622d688f404ff7b2dfe263",
"b4b0769891234c16b820ad6e",
"d55ebc42cde44a0699f15b34",
"d5ecbbdebb204770b04fac3d",
"f0a92fc02b3e4491a1853b22",
"f66fa4032ee2484fbb0034fb"
],
"test002" : [
"224c670eb4a347eea011ff69",
"279ab9a72a0d43a5b9a9a322",
"67b70c838aab4155a0935ef5",
"95cca5bb7dbe414587d99eb1",
"e29c946455cb4
05-12 17:27:20.085182  1  4 StorageProvider::FileSystemDB::index::_close() Closed SearchIndex.
05-12 17:27:20.085358  1 15 store_configuration: end
Parsed options:
{
"filter" : {
"version" : "versionA38114",
"configurable_entity.name" : "test002",
"configurations.name" : "testConfigA03172016-174859"
},
"dbprovider" : "filesystem",
"operation" : "store",
"collection" : "testManageConfigs_aggregator",
"dataformat" : "fhicl",
"configuration" : "testConfigA03172016-174859"
}
Running test:<store>
returned:
 
services: {
 
scheduler: {
 
fileMode: NOMERGE  

} 
NetMonTransportServiceInterface: {
 
service_provider: NetMonTransportService  
 
max_fragment_size_words: 2097152  

}
} 
daq: {
 
max_fragment_size_words: 2097152  
 
aggregator: {
 
mpi_buffer_count: 8  
 
first_event_builder_rank: 2  
 
event_builder_count: 2  
 
expected_events_per_bunch: 1  
 
print_event_store_stats: true  
 
event_queue_depth: 2  
 
event_queue_wait_time: 1  
 
onmon_event_prescale: 1  
 
xmlrpc_client_list: ";http://topol.fnal.gov:5205/RPC2,3;http://topol.fnal.gov:5206/RPC2,3;http://topol.fnal.gov:5235/RPC2,4;http://topol.fnal.gov:5236/RPC2,4;http://topol.fnal.gov:5265/RPC2,5;http://topol.fnal.gov:5266/RPC2,5"  
 
file_size_MB: 8000  
 
file_duration: 0  
 
file_event_count: 0  

} 
metrics: {
 
aggFile: {
 
metricPluginType: file  
 
level: 3  
 
fileName: "/tmp/aggregator/agg_%UID%_metrics.log"  
 
uniquify: true  

}
}
} 
source: {
 
module_type: NetMonInput  

} 
outputs: {

} 
physics: {
 
analyzers: {

} 
producers: {
 
BuildInfo: {
 
module_type: ArtdaqDemoBuildInfo  
 
instance_name: ArtdaqDemo  

}
} 
filters: {
 
prescaleMod2: {
 
module_type: NthEvent  
 
nth: 2  

} 
prescaleMod3: {
 
module_type: NthEvent  
 
nth: 3  

}
} 
p1: []  
 
p2: [BuildInfo]  
 
pmod2: [prescaleMod2]  
 
pmod3: [prescaleMod3]  

} 
process_name: DAQAG  

<end of output>
Test time =   0.29 sec
----------------------------------------------------------
Test Passed.
"ManageConfigs_seeddata_filesystem_000_002_t" end time: May 12 17:27 CDT
"ManageConfigs_seeddata_filesystem_000_002_t" time elapsed: 00:00:00
----------------------------------------------------------

20/28 Testing: ManageConfigs_seeddata_mongo_000_002_t
20/28 Test: ManageConfigs_seeddata_mongo_000_002_t
Command: "/home/lukhanin/scratch/current/artdaq-demo-base/products/cetbuildtools/v4_18_02/bin/cet_exec_test" "--wd" "/home/lukhanin/scratch/current/artdaq-demo-base/build_artdaq-utilities-database/test/ConfigurationDB/ManageConfigs/test000/ManageConfigs_seeddata_mongo_000_002_t.d" "--required-files" "" "--datafiles" "/home/lukhanin/scratch/current/artdaq-demo-base/build_artdaq-utilities-database/test/ConfigurationDB/ManageConfigs/test000/test002.src.659.fcl;/home/lukhanin/scratch/current/artdaq-demo-base/build_artdaq-utilities-database/test/ConfigurationDB/ManageConfigs/test000/test002.cmp.659.fcl" "--skip-return-code" "247" "LoadStore_t" "-o" "store" "-d" "mongo" "-c" "testManageConfigs_aggregator" "-f" "fhicl" "-v" "versionA38114" "-g" "testConfigA03172016-174859" "-e" "test002" "-s" "test002.src.659.fcl" "-r" "test002.cmp.659.fcl"
Directory: /home/lukhanin/scratch/current/artdaq-demo-base/build_artdaq-utilities-database/test/ConfigurationDB/ManageConfigs/test000/ManageConfigs_seeddata_mongo_000_002_t.d
"ManageConfigs_seeddata_mongo_000_002_t" start time: May 12 17:27 CDT
Output:
----------------------------------------------------------
removed ‘test002.cmp.466.fcl’
removed ‘test002.src.466.fcl’
05-12 17:27:20.134477  1  0 artdaq::database::filesystem trace_enable
05-12 17:27:20.134637  1  0 artdaq::database::filesystem::index trace_enable
05-12 17:27:20.134692  1  0 artdaq::database::mongo trace_enable
05-12 17:27:20.134759  1  0 artdaq::database::configuration::LoadStoreOperation trace_enable
05-12 17:27:20.134800  1  0 artdaq::database::configuration::options::OperationBase trace_enable
05-12 17:27:20.134826  1  0 artdaq::database::configuration::options::OperationLoadStore trace_enable
05-12 17:27:20.134855  1  0 artdaq::database::configuration::LoadStoreOperationDetail trace_enable
05-12 17:27:20.137099  1 12 Options: Updating provider from filesystem to mongo.
05-12 17:27:20.137122  1 10 Options: Updating operation from load to store.
05-12 17:27:20.137134  1 14 Options: dataFormat args format=<fhicl>.
05-12 17:27:20.137151  1 11 Options: Updating collection_name from notprovided to testManageConfigs_aggregator.
05-12 17:27:20.137164  1 10 Options: Updating version from notprovided to versionA38114.
05-12 17:27:20.137181  1 11 Options: Updating entity from notprovided to test002.
05-12 17:27:20.137192  1 12 Options: Updating global_configuration from notprovided to testConfigA03172016-174859.
05-12 17:27:20.145301  1 12 Options: Updating provider from filesystem to mongo.
05-12 17:27:20.145345  1 10 Options: Updating operation from load to store.
05-12 17:27:20.145362  1 14 Options: dataFormat args format=<fhicl>.
05-12 17:27:20.145373  1 11 Options: Updating collection_name from notprovided to testManageConfigs_aggregator.
05-12 17:27:20.145661  1 15 Options: searchFilter args search_filter=<{
"version" : "versionA38114",
"configurable_entity.name" : "test002",
"configurations.name" : "testConfigA03172016-174859"
}>.
05-12 17:27:20.146034  1 15 Options: searchFilter args search_filter=<notprovided>.
05-12 17:27:20.146056  1 10 Options: Updating version from notprovided to versionA38114.
05-12 17:27:20.146073  1 11 Options: Updating entity from notprovided to test002.
05-12 17:27:20.146084  1 12 Options: Updating global_configuration from notprovided to testConfigA03172016-174859.
05-12 17:27:20.146102  1 15 store_configuration: begin
05-12 17:27:20.267123  1 17 store_configuration: Converted json data to fcl; json=<{
"document" : {
"data" : {
"prolog" : {

},
"main" : {
"services" : {
"scheduler" : {
"fileMode" : "NOMERGE"
},
"NetMonTransportServiceInterface" : {
"service_provider" : "NetMonTransportService",
"max_fragment_size_words" : 2097152
}
},
"daq" : {
"max_fragment_size_words" : 2097152,
"aggregator" : {
"mpi_buffer_count" : 8,
"first_event_builder_rank" : 2,
"event_builder_count" : 2,
"expected_events_per_bunch" : 1,
"print_event_store_stats" : true,
"event_queue_depth" : 2,
"event_queue_wait_time" : 1,
"onmon_event_prescale" : 1,
"xmlrpc_client_list" : ";http://topol.fnal.gov:5205/RPC2,3;http://topol.fnal.gov:5206/RPC2,3;http://topol.fnal.gov:5235/RPC2,4;http://topol.fnal.gov:5236/RPC2,4;http://topol.fnal.gov:5265/RPC2,5;http://topol.fnal.gov:5266/RPC2,5",
"file_size_MB" : 8000,
"file_duration" : 0,
"file_event_count" : 0
},
"metrics" : {
"aggFile" : {
"metricPluginType" : "file",
"level" : 3,
"fileName" : "/tmp/aggregator/agg_%UID%_metrics.log",
"uniquify" : true
}
}
},
"source" : {
"module_type" : "NetMonInput"
},
"outputs" : {

},
"physics" : {
"analyzers" : {

},
"producers" : {
"BuildInfo" : {
"module_type" : "ArtdaqDemoBuildInfo",
"instance_name" : "ArtdaqDemo"
}
},
"filters" : {
"prescaleMod2" : {
"module_type" : "NthEvent",
"nth" : 2
},
"prescaleMod3" : {
"module_type" : "NthEvent",
"nth" : 3
}
},
"p1" : [

],
"p2" : [
"BuildInfo"
],
"pmod2" : [
"prescaleMod2"
],
"pmod3" : [
"prescaleMod3"
]
},
"process_name" : "DAQAG"
}
},
"metadata" : {
"prolog" : {

},
"main" : {
"services" : {
"type" : "table",
"comment" : " ",
"children" : {
"scheduler" : {
"type" : "table",
"comment" : " ",
"children" : {
"fileMode" : {
"type" : "string",
"comment" : " ",
"annotation" : " "
}
}
},
"NetMonTransportServiceInterface" : {
"type" : "table",
"comment" : " ",
"children" : {
"service_provider" : {
"type" : "string",
"comment" : " ",
"annotation" : " "
},
"max_fragment_size_words" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
}
}
}
}
},
"daq" : {
"type" : "table",
"comment" : " ",
"children" : {
"max_fragment_size_words" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"aggregator" : {
"type" : "table",
"comment" : " ",
"children" : {
"mpi_buffer_count" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"first_event_builder_rank" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"event_builder_count" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"expected_events_per_bunch" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"print_event_store_stats" : {
"type" : "bool",
"comment" : " ",
"annotation" : " "
},
"event_queue_depth" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"event_queue_wait_time" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"onmon_event_prescale" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"xmlrpc_client_list" : {
"type" : "string",
"comment" : " ",
"annotation" : " "
},
"file_size_MB" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"file_duration" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"file_event_count" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
}
}
},
"metrics" : {
"type" : "table",
"comment" : " ",
"children" : {
"aggFile" : {
"type" : "table",
"comment" : " ",
"children" : {
"metricPluginType" : {
"type" : "string",
"comment" : " ",
"annotation" : " "
},
"level" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"fileName" : {
"type" : "string",
"comment" : " ",
"annotation" : " "
},
"uniquify" : {
"type" : "bool",
"comment" : " ",
"annotation" : " "
}
}
}
}
}
}
},
"source" : {
"type" : "table",
"comment" : " ",
"children" : {
"module_type" : {
"type" : "string",
"comment" : " ",
"annotation" : " "
}
}
},
"outputs" : {
"type" : "table",
"comment" : " ",
"children" : {

}
},
"physics" : {
"type" : "table",
"comment" : " ",
"children" : {
"analyzers" : {
"type" : "table",
"comment" : " ",
"children" : {

}
},
"producers" : {
"type" : "table",
"c
05-12 17:27:20.267177  1 17 store_configuration: Converted json data to fcl; fcl=< 
services: {
 
scheduler: {
 
fileMode: NOMERGE  

} 
NetMonTransportServiceInterface: {
 
service_provider: NetMonTransportService  
 
max_fragment_size_words: 2097152  

}
} 
daq: {
 
max_fragment_size_words: 2097152  
 
aggregator: {
 
mpi_buffer_count: 8  
 
first_event_builder_rank: 2  
 
event_builder_count: 2  
 
expected_events_per_bunch: 1  
 
print_event_store_stats: true  
 
event_queue_depth: 2  
 
event_queue_wait_time: 1  
 
onmon_event_prescale: 1  
 
xmlrpc_client_list: ";http://topol.fnal.gov:5205/RPC2,3;http://topol.fnal.gov:5206/RPC2,3;http://topol.fnal.gov:5235/RPC2,4;http://topol.fnal.gov:5236/RPC2,4;http://topol.fnal.gov:5265/RPC2,5;http://topol.fnal.gov:5266/RPC2,5"  
 
file_size_MB: 8000  
 
file_duration: 0  
 
file_event_count: 0  

} 
metrics: {
 
aggFile: {
 
metricPluginType: file  
 
level: 3  
 
fileName: "/tmp/aggregator/agg_%UID%_metrics.log"  
 
uniquify: true  

}
}
} 
source: {
 
module_type: NetMonInput  

} 
outputs: {

} 
physics: {
 
analyzers: {

} 
producers: {
 
BuildInfo: {
 
module_type: ArtdaqDemoBuildInfo  
 
instance_name: ArtdaqDemo  

}
} 
filters: {
 
prescaleMod2: {
 
module_type: NthEvent  
 
nth: 2  

} 
prescaleMod3: {
 
module_type: NthEvent  
 
nth: 3  

}
} 
p1: []  
 
p2: [BuildInfo]  
 
pmod2: [prescaleMod2]  
 
pmod3: [prescaleMod3]  

} 
process_name: DAQAG  
>
05-12 17:27:20.267205  1 15 store_configuration: json_buffer=<{
"document" : {
"data" : {
"prolog" : {

},
"main" : {
"services" : {
"scheduler" : {
"fileMode" : "NOMERGE"
},
"NetMonTransportServiceInterface" : {
"service_provider" : "NetMonTransportService",
"max_fragment_size_words" : 2097152
}
},
"daq" : {
"max_fragment_size_words" : 2097152,
"aggregator" : {
"mpi_buffer_count" : 8,
"first_event_builder_rank" : 2,
"event_builder_count" : 2,
"expected_events_per_bunch" : 1,
"print_event_store_stats" : true,
"event_queue_depth" : 2,
"event_queue_wait_time" : 1,
"onmon_event_prescale" : 1,
"xmlrpc_client_list" : ";http://topol.fnal.gov:5205/RPC2,3;http://topol.fnal.gov:5206/RPC2,3;http://topol.fnal.gov:5235/RPC2,4;http://topol.fnal.gov:5236/RPC2,4;http://topol.fnal.gov:5265/RPC2,5;http://topol.fnal.gov:5266/RPC2,5",
"file_size_MB" : 8000,
"file_duration" : 0,
"file_event_count" : 0
},
"metrics" : {
"aggFile" : {
"metricPluginType" : "file",
"level" : 3,
"fileName" : "/tmp/aggregator/agg_%UID%_metrics.log",
"uniquify" : true
}
}
},
"source" : {
"module_type" : "NetMonInput"
},
"outputs" : {

},
"physics" : {
"analyzers" : {

},
"producers" : {
"BuildInfo" : {
"module_type" : "ArtdaqDemoBuildInfo",
"instance_name" : "ArtdaqDemo"
}
},
"filters" : {
"prescaleMod2" : {
"module_type" : "NthEvent",
"nth" : 2
},
"prescaleMod3" : {
"module_type" : "NthEvent",
"nth" : 3
}
},
"p1" : [

],
"p2" : [
"BuildInfo"
],
"pmod2" : [
"prescaleMod2"
],
"pmod3" : [
"prescaleMod3"
]
},
"process_name" : "DAQAG"
}
},
"metadata" : {
"prolog" : {

},
"main" : {
"services" : {
"type" : "table",
"comment" : " ",
"children" : {
"scheduler" : {
"type" : "table",
"comment" : " ",
"children" : {
"fileMode" : {
"type" : "string",
"comment" : " ",
"annotation" : " "
}
}
},
"NetMonTransportServiceInterface" : {
"type" : "table",
"comment" : " ",
"children" : {
"service_provider" : {
"type" : "string",
"comment" : " ",
"annotation" : " "
},
"max_fragment_size_words" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
}
}
}
}
},
"daq" : {
"type" : "table",
"comment" : " ",
"children" : {
"max_fragment_size_words" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"aggregator" : {
"type" : "table",
"comment" : " ",
"children" : {
"mpi_buffer_count" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"first_event_builder_rank" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"event_builder_count" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"expected_events_per_bunch" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"print_event_store_stats" : {
"type" : "bool",
"comment" : " ",
"annotation" : " "
},
"event_queue_depth" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"event_queue_wait_time" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"onmon_event_prescale" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"xmlrpc_client_list" : {
"type" : "string",
"comment" : " ",
"annotation" : " "
},
"file_size_MB" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"file_duration" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"file_event_count" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
}
}
},
"metrics" : {
"type" : "table",
"comment" : " ",
"children" : {
"aggFile" : {
"type" : "table",
"comment" : " ",
"children" : {
"metricPluginType" : {
"type" : "string",
"comment" : " ",
"annotation" : " "
},
"level" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"fileName" : {
"type" : "string",
"comment" : " ",
"annotation" : " "
},
"uniquify" : {
"type" : "bool",
"comment" : " ",
"annotation" : " "
}
}
}
}
}
}
},
"source" : {
"type" : "table",
"comment" : " ",
"children" : {
"module_type" : {
"type" : "string",
"comment" : " ",
"annotation" : " "
}
}
},
"outputs" : {
"type" : "table",
"comment" : " ",
"children" : {

}
},
"physics" : {
"type" : "table",
"comment" : " ",
"children" : {
"analyzers" : {
"type" : "table",
"comment" : " ",
"children" : {

}
},
"producers" : {
"type" : "table",
"comment" : " ",
"child
05-12 17:27:20.281856  1 15 store_configuration: insert_payload=<{"document":{
    "document" : {
        "data" : {
            "prolog" : {

            }, 
            "main" : {
                "services" : {
                    "scheduler" : {
                        "fileMode" : "NOMERGE"
                    }, 
                    "NetMonTransportServiceInterface" : {
                        "service_provider" : "NetMonTransportService", 
                        "max_fragment_size_words" : 2097152
                    }
                }, 
                "daq" : {
                    "max_fragment_size_words" : 2097152, 
                    "aggregator" : {
                        "mpi_buffer_count" : 8, 
                        "first_event_builder_rank" : 2, 
                        "event_builder_count" : 2, 
                        "expected_events_per_bunch" : 1, 
                        "print_event_store_stats" : true, 
                        "event_queue_depth" : 2, 
                        "event_queue_wait_time" : 1, 
                        "onmon_event_prescale" : 1, 
                        "xmlrpc_client_list" : ";http://topol.fnal.gov:5205/RPC2,3;http://topol.fnal.gov:5206/RPC2,3;http://topol.fnal.gov:5235/RPC2,4;http://topol.fnal.gov:5236/RPC2,4;http://topol.fnal.gov:5265/RPC2,5;http://topol.fnal.gov:5266/RPC2,5", 
                        "file_size_MB" : 8000, 
                        "file_duration" : 0, 
                        "file_event_count" : 0
                    }, 
                    "metrics" : {
                        "aggFile" : {
                            "metricPluginType" : "file", 
                            "level" : 3, 
                            "fileName" : "/tmp/aggregator/agg_%UID%_metrics.log", 
                            "uniquify" : true
                        }
                    }
                }, 
                "source" : {
                    "module_type" : "NetMonInput"
                }, 
                "outputs" : {

                }, 
                "physics" : {
                    "analyzers" : {

                    }, 
                    "producers" : {
                        "BuildInfo" : {
                            "module_type" : "ArtdaqDemoBuildInfo", 
                            "instance_name" : "ArtdaqDemo"
                        }
                    }, 
                    "filters" : {
                        "prescaleMod2" : {
                            "module_type" : "NthEvent", 
                            "nth" : 2
                        }, 
                        "prescaleMod3" : {
                            "module_type" : "NthEvent", 
                            "nth" : 3
                        }
                    }, 
                    "p1" : [

                    ], 
                    "p2" : [
                        "BuildInfo"
                    ], 
                    "pmod2" : [
                        "prescaleMod2"
                    ], 
                    "pmod3" : [
                        "prescaleMod3"
                    ]
                }, 
                "process_name" : "DAQAG"
            }
        }, 
        "metadata" : {
            "prolog" : {

            }, 
            "main" : {
                "services" : {
                    "type" : "table", 
                    "comment" : " ", 
                    "children" : {
                        "scheduler" : {
                            "type" : "table", 
                            "comment" : " ", 
                            "children" : {
                                "fileMode" : {
                                    "type" : "string", 
                                    "comment" : " ", 
                                    "annotation" : " "
                                }
                            }
                        }, 
                        "NetMonTransportServiceInterface" : {
                            "type" : "table", 
                            "comment" : " ", 
                            "child
05-12 17:27:20.282846  1  4 StorageProvider::MongoDB::store() begin
05-12 17:27:20.283250  1  4 Search filter is missing, proceeding with insert.
05-12 17:27:20.296651  1  5 inserted_id={
    "$oid" : "573503481a72ba50cc2bc0d1"
}
05-12 17:27:20.296987  1 15 store_configuration: end
Parsed options:
{
"filter" : {
"version" : "versionA38114",
"configurable_entity.name" : "test002",
"configurations.name" : "testConfigA03172016-174859"
},
"dbprovider" : "mongo",
"operation" : "store",
"collection" : "testManageConfigs_aggregator",
"dataformat" : "fhicl",
"configuration" : "testConfigA03172016-174859"
}
Running test:<store>
returned:
 
services: {
 
scheduler: {
 
fileMode: NOMERGE  

} 
NetMonTransportServiceInterface: {
 
service_provider: NetMonTransportService  
 
max_fragment_size_words: 2097152  

}
} 
daq: {
 
max_fragment_size_words: 2097152  
 
aggregator: {
 
mpi_buffer_count: 8  
 
first_event_builder_rank: 2  
 
event_builder_count: 2  
 
expected_events_per_bunch: 1  
 
print_event_store_stats: true  
 
event_queue_depth: 2  
 
event_queue_wait_time: 1  
 
onmon_event_prescale: 1  
 
xmlrpc_client_list: ";http://topol.fnal.gov:5205/RPC2,3;http://topol.fnal.gov:5206/RPC2,3;http://topol.fnal.gov:5235/RPC2,4;http://topol.fnal.gov:5236/RPC2,4;http://topol.fnal.gov:5265/RPC2,5;http://topol.fnal.gov:5266/RPC2,5"  
 
file_size_MB: 8000  
 
file_duration: 0  
 
file_event_count: 0  

} 
metrics: {
 
aggFile: {
 
metricPluginType: file  
 
level: 3  
 
fileName: "/tmp/aggregator/agg_%UID%_metrics.log"  
 
uniquify: true  

}
}
} 
source: {
 
module_type: NetMonInput  

} 
outputs: {

} 
physics: {
 
analyzers: {

} 
producers: {
 
BuildInfo: {
 
module_type: ArtdaqDemoBuildInfo  
 
instance_name: ArtdaqDemo  

}
} 
filters: {
 
prescaleMod2: {
 
module_type: NthEvent  
 
nth: 2  

} 
prescaleMod3: {
 
module_type: NthEvent  
 
nth: 3  

}
} 
p1: []  
 
p2: [BuildInfo]  
 
pmod2: [prescaleMod2]  
 
pmod3: [prescaleMod3]  

} 
process_name: DAQAG  

<end of output>
Test time =   0.21 sec
----------------------------------------------------------
Test Passed.
"ManageConfigs_seeddata_mongo_000_002_t" end time: May 12 17:27 CDT
"ManageConfigs_seeddata_mongo_000_002_t" time elapsed: 00:00:00
----------------------------------------------------------

21/28 Testing: ManageConfigs_seeddata_filesystem_000_003_t
21/28 Test: ManageConfigs_seeddata_filesystem_000_003_t
Command: "/home/lukhanin/scratch/current/artdaq-demo-base/products/cetbuildtools/v4_18_02/bin/cet_exec_test" "--wd" "/home/lukhanin/scratch/current/artdaq-demo-base/build_artdaq-utilities-database/test/ConfigurationDB/ManageConfigs/test000/ManageConfigs_seeddata_filesystem_000_003_t.d" "--required-files" "" "--datafiles" "/home/lukhanin/scratch/current/artdaq-demo-base/build_artdaq-utilities-database/test/ConfigurationDB/ManageConfigs/test000/test003.src.937.fcl;/home/lukhanin/scratch/current/artdaq-demo-base/build_artdaq-utilities-database/test/ConfigurationDB/ManageConfigs/test000/test003.cmp.937.fcl" "--skip-return-code" "247" "LoadStore_t" "-o" "store" "-d" "filesystem" "-c" "testManageConfigs_boardreader" "-f" "fhicl" "-v" "versionA38114" "-g" "testConfigA03172016-174859" "-e" "test003" "-s" "test003.src.937.fcl" "-r" "test003.cmp.937.fcl"
Directory: /home/lukhanin/scratch/current/artdaq-demo-base/build_artdaq-utilities-database/test/ConfigurationDB/ManageConfigs/test000/ManageConfigs_seeddata_filesystem_000_003_t.d
"ManageConfigs_seeddata_filesystem_000_003_t" start time: May 12 17:27 CDT
Output:
----------------------------------------------------------
removed ‘test003.cmp.096.fcl’
removed ‘test003.src.096.fcl’
05-12 17:27:20.344848  1  0 artdaq::database::filesystem trace_enable
05-12 17:27:20.345014  1  0 artdaq::database::filesystem::index trace_enable
05-12 17:27:20.345076  1  0 artdaq::database::mongo trace_enable
05-12 17:27:20.345149  1  0 artdaq::database::configuration::LoadStoreOperation trace_enable
05-12 17:27:20.345196  1  0 artdaq::database::configuration::options::OperationBase trace_enable
05-12 17:27:20.345231  1  0 artdaq::database::configuration::options::OperationLoadStore trace_enable
05-12 17:27:20.345270  1  0 artdaq::database::configuration::LoadStoreOperationDetail trace_enable
05-12 17:27:20.347529  1 12 Options: Updating provider from filesystem to filesystem.
05-12 17:27:20.347555  1 10 Options: Updating operation from load to store.
05-12 17:27:20.347578  1 14 Options: dataFormat args format=<fhicl>.
05-12 17:27:20.347605  1 11 Options: Updating collection_name from notprovided to testManageConfigs_boardreader.
05-12 17:27:20.347626  1 10 Options: Updating version from notprovided to versionA38114.
05-12 17:27:20.347650  1 11 Options: Updating entity from notprovided to test003.
05-12 17:27:20.347669  1 12 Options: Updating global_configuration from notprovided to testConfigA03172016-174859.
05-12 17:27:20.355340  1 12 Options: Updating provider from filesystem to filesystem.
05-12 17:27:20.355367  1 10 Options: Updating operation from load to store.
05-12 17:27:20.355402  1 14 Options: dataFormat args format=<fhicl>.
05-12 17:27:20.355420  1 11 Options: Updating collection_name from notprovided to testManageConfigs_boardreader.
05-12 17:27:20.355645  1 15 Options: searchFilter args search_filter=<{
"version" : "versionA38114",
"configurable_entity.name" : "test003",
"configurations.name" : "testConfigA03172016-174859"
}>.
05-12 17:27:20.355972  1 15 Options: searchFilter args search_filter=<notprovided>.
05-12 17:27:20.355996  1 10 Options: Updating version from notprovided to versionA38114.
05-12 17:27:20.356018  1 11 Options: Updating entity from notprovided to test003.
05-12 17:27:20.356033  1 12 Options: Updating global_configuration from notprovided to testConfigA03172016-174859.
05-12 17:27:20.356059  1 15 store_configuration: begin
05-12 17:27:20.432178  1 17 store_configuration: Converted json data to fcl; json=<{
"document" : {
"data" : {
"prolog" : {

},
"main" : {
"daq" : {
"max_fragment_size_words" : 2097152,
"fragment_receiver" : {
"mpi_buffer_count" : 16,
"mpi_sync_interval" : 50,
"first_event_builder_rank" : 2,
"event_builder_count" : 2,
"generator" : "ToySimulator",
"fragment_type" : "TOY1",
"fragment_id" : 0,
"board_id" : 0,
"random_seed" : 9542,
"sleep_on_stop_us" : 500000,
"nADCcounts" : 40,
"throttle_usecs" : 100000
},
"metrics" : {
"brFile" : {
"metricPluginType" : "file",
"level" : 3,
"fileName" : "/tmp/boardreader/br_%UID%_metrics.log",
"uniquify" : true
}
}
}
}
},
"metadata" : {
"prolog" : {

},
"main" : {
"daq" : {
"type" : "table",
"comment" : " ",
"children" : {
"max_fragment_size_words" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"fragment_receiver" : {
"type" : "table",
"comment" : " ",
"children" : {
"mpi_buffer_count" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"mpi_sync_interval" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"first_event_builder_rank" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"event_builder_count" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"generator" : {
"type" : "string",
"comment" : " ",
"annotation" : " "
},
"fragment_type" : {
"type" : "string",
"comment" : " ",
"annotation" : " "
},
"fragment_id" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"board_id" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"random_seed" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"sleep_on_stop_us" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"nADCcounts" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"throttle_usecs" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
}
}
},
"metrics" : {
"type" : "table",
"comment" : " ",
"children" : {
"brFile" : {
"type" : "table",
"comment" : " ",
"children" : {
"metricPluginType" : {
"type" : "string",
"comment" : " ",
"annotation" : " "
},
"level" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"fileName" : {
"type" : "string",
"comment" : " ",
"annotation" : " "
},
"uniquify" : {
"type" : "bool",
"comment" : " ",
"annotation" : " "
}
}
}
}
}
}
}
}
}
},
"comments" : [
{
"linenum" : 0,
"value" : "No comments"
}
],
"origin" : {
"source" : "fhicl_to_json",
"timestamp" : "Mon Feb  8 14:00:30 2016"
}
}>
05-12 17:27:20.432210  1 17 store_configuration: Converted json data to fcl; fcl=< 
daq: {
 
max_fragment_size_words: 2097152  
 
fragment_receiver: {
 
mpi_buffer_count: 16  
 
mpi_sync_interval: 50  
 
first_event_builder_rank: 2  
 
event_builder_count: 2  
 
generator: ToySimulator  
 
fragment_type: TOY1  
 
fragment_id: 0  
 
board_id: 0  
 
random_seed: 9542  
 
sleep_on_stop_us: 500000  
 
nADCcounts: 40  
 
throttle_usecs: 100000  

} 
metrics: {
 
brFile: {
 
metricPluginType: file  
 
level: 3  
 
fileName: "/tmp/boardreader/br_%UID%_metrics.log"  
 
uniquify: true  

}
}
}>
05-12 17:27:20.432239  1 15 store_configuration: json_buffer=<{
"document" : {
"data" : {
"prolog" : {

},
"main" : {
"daq" : {
"max_fragment_size_words" : 2097152,
"fragment_receiver" : {
"mpi_buffer_count" : 16,
"mpi_sync_interval" : 50,
"first_event_builder_rank" : 2,
"event_builder_count" : 2,
"generator" : "ToySimulator",
"fragment_type" : "TOY1",
"fragment_id" : 0,
"board_id" : 0,
"random_seed" : 9542,
"sleep_on_stop_us" : 500000,
"nADCcounts" : 40,
"throttle_usecs" : 100000
},
"metrics" : {
"brFile" : {
"metricPluginType" : "file",
"level" : 3,
"fileName" : "/tmp/boardreader/br_%UID%_metrics.log",
"uniquify" : true
}
}
}
}
},
"metadata" : {
"prolog" : {

},
"main" : {
"daq" : {
"type" : "table",
"comment" : " ",
"children" : {
"max_fragment_size_words" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"fragment_receiver" : {
"type" : "table",
"comment" : " ",
"children" : {
"mpi_buffer_count" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"mpi_sync_interval" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"first_event_builder_rank" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"event_builder_count" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"generator" : {
"type" : "string",
"comment" : " ",
"annotation" : " "
},
"fragment_type" : {
"type" : "string",
"comment" : " ",
"annotation" : " "
},
"fragment_id" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"board_id" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"random_seed" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"sleep_on_stop_us" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"nADCcounts" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"throttle_usecs" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
}
}
},
"metrics" : {
"type" : "table",
"comment" : " ",
"children" : {
"brFile" : {
"type" : "table",
"comment" : " ",
"children" : {
"metricPluginType" : {
"type" : "string",
"comment" : " ",
"annotation" : " "
},
"level" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"fileName" : {
"type" : "string",
"comment" : " ",
"annotation" : " "
},
"uniquify" : {
"type" : "bool",
"comment" : " ",
"annotation" : " "
}
}
}
}
}
}
}
}
}
},
"comments" : [
{
"linenum" : 0,
"value" : "No comments"
}
],
"origin" : {
"source" : "fhicl_to_json",
"timestamp" : "Mon Feb  8 14:00:30 2016"
}
}>
05-12 17:27:20.443707  1 15 store_configuration: insert_payload=<{"document":{
    "document" : {
        "data" : {
            "prolog" : {

            }, 
            "main" : {
                "daq" : {
                    "max_fragment_size_words" : 2097152, 
                    "fragment_receiver" : {
                        "mpi_buffer_count" : 16, 
                        "mpi_sync_interval" : 50, 
                        "first_event_builder_rank" : 2, 
                        "event_builder_count" : 2, 
                        "generator" : "ToySimulator", 
                        "fragment_type" : "TOY1", 
                        "fragment_id" : 0, 
                        "board_id" : 0, 
                        "random_seed" : 9542, 
                        "sleep_on_stop_us" : 500000, 
                        "nADCcounts" : 40, 
                        "throttle_usecs" : 100000
                    }, 
                    "metrics" : {
                        "brFile" : {
                            "metricPluginType" : "file", 
                            "level" : 3, 
                            "fileName" : "/tmp/boardreader/br_%UID%_metrics.log", 
                            "uniquify" : true
                        }
                    }
                }
            }
        }, 
        "metadata" : {
            "prolog" : {

            }, 
            "main" : {
                "daq" : {
                    "type" : "table", 
                    "comment" : " ", 
                    "children" : {
                        "max_fragment_size_words" : {
                            "type" : "number", 
                            "comment" : " ", 
                            "annotation" : " "
                        }, 
                        "fragment_receiver" : {
                            "type" : "table", 
                            "comment" : " ", 
                            "children" : {
                                "mpi_buffer_count" : {
                                    "type" : "number", 
                                    "comment" : " ", 
                                    "annotation" : " "
                                }, 
                                "mpi_sync_interval" : {
                                    "type" : "number", 
                                    "comment" : " ", 
                                    "annotation" : " "
                                }, 
                                "first_event_builder_rank" : {
                                    "type" : "number", 
                                    "comment" : " ", 
                                    "annotation" : " "
                                }, 
                                "event_builder_count" : {
                                    "type" : "number", 
                                    "comment" : " ", 
                                    "annotation" : " "
                                }, 
                                "generator" : {
                                    "type" : "string", 
                                    "comment" : " ", 
                                    "annotation" : " "
                                }, 
                                "fragment_type" : {
                                    "type" : "string", 
                                    "comment" : " ", 
                                    "annotation" : " "
                                }, 
                                "fragment_id" : {
                                    "type" : "number", 
                                    "comment" : " ", 
                                    "annotation" : " "
                                }, 
                                "board_id" : {
                                    "type" : "number", 
                                    "comment" : " ", 
                                    "annotation" : " "
                                }, 
                                "random_seed" : {
                                    "type" : "number"
05-12 17:27:20.444072  1  4 StorageProvider::FileSystemDB::store() begin
05-12 17:27:20.444121  1  4 StorageProvider::FileSystemDB::store() args data=<{"document":{
    "document" : {
        "data" : {
            "prolog" : {

            }, 
            "main" : {
                "daq" : {
                    "max_fragment_size_words" : 2097152, 
                    "fragment_receiver" : {
                        "mpi_buffer_count" : 16, 
                        "mpi_sync_interval" : 50, 
                        "first_event_builder_rank" : 2, 
                        "event_builder_count" : 2, 
                        "generator" : "ToySimulator", 
                        "fragment_type" : "TOY1", 
                        "fragment_id" : 0, 
                        "board_id" : 0, 
                        "random_seed" : 9542, 
                        "sleep_on_stop_us" : 500000, 
                        "nADCcounts" : 40, 
                        "throttle_usecs" : 100000
                    }, 
                    "metrics" : {
                        "brFile" : {
                            "metricPluginType" : "file", 
                            "level" : 3, 
                            "fileName" : "/tmp/boardreader/br_%UID%_metrics.log", 
                            "uniquify" : true
                        }
                    }
                }
            }
        }, 
        "metadata" : {
            "prolog" : {

            }, 
            "main" : {
                "daq" : {
                    "type" : "table", 
                    "comment" : " ", 
                    "children" : {
                        "max_fragment_size_words" : {
                            "type" : "number", 
                            "comment" : " ", 
                            "annotation" : " "
                        }, 
                        "fragment_receiver" : {
                            "type" : "table", 
                            "comment" : " ", 
                            "children" : {
                                "mpi_buffer_count" : {
                                    "type" : "number", 
                                    "comment" : " ", 
                                    "annotation" : " "
                                }, 
                                "mpi_sync_interval" : {
                                    "type" : "number", 
                                    "comment" : " ", 
                                    "annotation" : " "
                                }, 
                                "first_event_builder_rank" : {
                                    "type" : "number", 
                                    "comment" : " ", 
                                    "annotation" : " "
                                }, 
                                "event_builder_count" : {
                                    "type" : "number", 
                                    "comment" : " ", 
                                    "annotation" : " "
                                }, 
                                "generator" : {
                                    "type" : "string", 
                                    "comment" : " ", 
                                    "annotation" : " "
                                }, 
                                "fragment_type" : {
                                    "type" : "string", 
                                    "comment" : " ", 
                                    "annotation" : " "
                                }, 
                                "fragment_id" : {
                                    "type" : "number", 
                                    "comment" : " ", 
                                    "annotation" : " "
                                }, 
                                "board_id" : {
                                    "type" : "number", 
                                    "comment" : " ", 
                                    "annotation" : " "
                                }, 
                                "random_seed" : {
                                    "typ
05-12 17:27:20.447847  1 12 StorageProvider::FileSystemDB generate_oid=9c673989ec5948899c1809c0
05-12 17:27:20.450704  1  4 StorageProvider::FileSystemDB::store() using generated oid=<9c673989ec5948899c1809c0>.
05-12 17:27:20.450822  1  4 StorageProvider::FileSystemDB::store() collection_path=<file:///home/lukhanin/databases/filesystemdb/testManageConfigs_boardreader/>.
05-12 17:27:20.450902  1 11 StorageProvider::FileSystemDB mkdir dir=</home/lukhanin/databases/filesystemdb/testManageConfigs_boardreader/>
05-12 17:27:20.450999  1 11 StorageProvider::FileSystemDB Directory exists, checking permissions; path=</home/lukhanin/databases/filesystemdb/testManageConfigs_boardreader/>
05-12 17:27:20.451341  1  4 StorageProvider::FileSystemDB::store() filename=</home/lukhanin/databases/filesystemdb/testManageConfigs_boardreader/9c673989ec5948899c1809c0.json>.
05-12 17:27:20.480195  1  3 StorageProvider::FileSystemDB::index::_open() begin
05-12 17:27:20.480214  1  3 StorageProvider::FileSystemDB::index::_open() args index_path=</home/lukhanin/databases/filesystemdb/testManageConfigs_boardreader/index.json>.
05-12 17:27:20.480307  1  3 StorageProvider::FileSystemDB::index::_open() json=<{
"version" : {
"versionA12250" : [
"6a0a18a695d24354ad9e8c9f",
"e84a624133c94c05940965dd"
],
"versionA14401" : [
"3cb9c351d7094ccb825dc7c5",
"f21ead241bd14358940cf5d7"
]
},
"configurations.name" : {
"testConfigA03172016-174859" : [
"3cb9c351d7094ccb825dc7c5",
"6a0a18a695d24354ad9e8c9f",
"e84a624133c94c05940965dd",
"f21ead241bd14358940cf5d7"
]
},
"configurable_entity.name" : {
"test003" : [
"3cb9c351d7094ccb825dc7c5",
"e84a624133c94c05940965dd"
],
"test004" : [
"6a0a18a695d24354ad9e8c9f",
"f21ead241bd14358940cf5d7"
]
}
}>
05-12 17:27:20.481041  1  5 StorageProvider::FileSystemDB::index::addDocument() begin
05-12 17:27:20.481085  1  5 StorageProvider::FileSystemDB::index::addDocument() args document=<{
        "document" : {
            "data" : {
                "prolog" : {

                }, 
                "main" : {
                    "daq" : {
                        "max_fragment_size_words" : 2097152, 
                        "fragment_receiver" : {
                            "mpi_buffer_count" : 16, 
                            "mpi_sync_interval" : 50, 
                            "first_event_builder_rank" : 2, 
                            "event_builder_count" : 2, 
                            "generator" : "ToySimulator", 
                            "fragment_type" : "TOY1", 
                            "fragment_id" : 0, 
                            "board_id" : 0, 
                            "random_seed" : 9542, 
                            "sleep_on_stop_us" : 500000, 
                            "nADCcounts" : 40, 
                            "throttle_usecs" : 100000
                        }, 
                        "metrics" : {
                            "brFile" : {
                                "metricPluginType" : "file", 
                                "level" : 3, 
                                "fileName" : "/tmp/boardreader/br_%UID%_metrics.log", 
                                "uniquify" : true
                            }
                        }
                    }
                }
            }, 
            "metadata" : {
                "prolog" : {

                }, 
                "main" : {
                    "daq" : {
                        "type" : "table", 
                        "comment" : " ", 
                        "children" : {
                            "max_fragment_size_words" : {
                                "type" : "number", 
                                "comment" : " ", 
                                "annotation" : " "
                            }, 
                            "fragment_receiver" : {
                                "type" : "table", 
                                "comment" : " ", 
                                "children" : {
                                    "mpi_buffer_count" : {
                                        "type" : "number", 
                                        "comment" : " ", 
                                        "annotation" : " "
                                    }, 
                                    "mpi_sync_interval" : {
                                        "type" : "number", 
                                        "comment" : " ", 
                                        "annotation" : " "
                                    }, 
                                    "first_event_builder_rank" : {
                                        "type" : "number", 
                                        "comment" : " ", 
                                        "annotation" : " "
                                    }, 
                                    "event_builder_count" : {
                                        "type" : "number", 
                                        "comment" : " ", 
                                        "annotation" : " "
                                    }, 
                                    "generator" : {
                                        "type" : "string", 
                                        "comment" : " ", 
                                        "annotation" : " "
                                    }, 
                                    "fragment_type" : {
                                        "type" : "string", 
                                        "comment" : " ", 
                                        "annotation" : " "
                                    }, 
                                    "fragment_id" : {
                                        "type" : "number", 
                                        "comment" : " ", 
                                        "annotation" : " "
                                    }
05-12 17:27:20.481123  1  5 StorageProvider::FileSystemDB::index::addDocument() args ouid=<9c673989ec5948899c1809c0>.
05-12 17:27:20.486529  1  5 StorageProvider::FileSystemDB::index::addDocument() found 9 keys.
05-12 17:27:20.486556  1  7 StorageProvider::FileSystemDB::index::_addVersion() begin
05-12 17:27:20.486570  1  7 StorageProvider::FileSystemDB::index::_addVersion() args ouid=<9c673989ec5948899c1809c0>.
05-12 17:27:20.486583  1  7 StorageProvider::FileSystemDB::index::_addVersion() args version=<versionA38114>.
05-12 17:27:20.486763  1  7 StorageProvider::FileSystemDB::index::_addConfiguration() begin
05-12 17:27:20.486775  1  7 StorageProvider::FileSystemDB::index::_addConfiguration() args ouid=<9c673989ec5948899c1809c0>.
05-12 17:27:20.486790  1  7 StorageProvider::FileSystemDB::index::_addConfiguration() args configuration=<testConfigA03172016-174859>.
05-12 17:27:20.486858  1  7 StorageProvider::FileSystemDB::index::_addConfigurableEntity() begin
05-12 17:27:20.486873  1  7 StorageProvider::FileSystemDB::index::_addConfigurableEntity() args ouid=<9c673989ec5948899c1809c0>.
05-12 17:27:20.486885  1  7 StorageProvider::FileSystemDB::index::_addConfigurableEntity() args entity=<test003>.
05-12 17:27:20.487012  1  4 StorageProvider::FileSystemDB::index::_close() begin
05-12 17:27:20.487827  1  4 StorageProvider::FileSystemDB::index::_close() json=<{
"version" : {
"versionA12250" : [
"6a0a18a695d24354ad9e8c9f",
"e84a624133c94c05940965dd"
],
"versionA14401" : [
"3cb9c351d7094ccb825dc7c5",
"f21ead241bd14358940cf5d7"
],
"versionA38114" : [
"9c673989ec5948899c1809c0"
]
},
"configurations.name" : {
"testConfigA03172016-174859" : [
"3cb9c351d7094ccb825dc7c5",
"6a0a18a695d24354ad9e8c9f",
"9c673989ec5948899c1809c0",
"e84a624133c94c05940965dd",
"f21ead241bd14358940cf5d7"
]
},
"configurable_entity.name" : {
"test003" : [
"3cb9c351d7094ccb825dc7c5",
"9c673989ec5948899c1809c0",
"e84a624133c94c05940965dd"
],
"test004" : [
"6a0a18a695d24354ad9e8c9f",
"f21ead241bd14358940cf5d7"
]
}
}>
05-12 17:27:20.487967  1  4 StorageProvider::FileSystemDB::index::_close() Closed SearchIndex.
05-12 17:27:20.488069  1 15 store_configuration: end
Parsed options:
{
"filter" : {
"version" : "versionA38114",
"configurable_entity.name" : "test003",
"configurations.name" : "testConfigA03172016-174859"
},
"dbprovider" : "filesystem",
"operation" : "store",
"collection" : "testManageConfigs_boardreader",
"dataformat" : "fhicl",
"configuration" : "testConfigA03172016-174859"
}
Running test:<store>
returned:
 
daq: {
 
max_fragment_size_words: 2097152  
 
fragment_receiver: {
 
mpi_buffer_count: 16  
 
mpi_sync_interval: 50  
 
first_event_builder_rank: 2  
 
event_builder_count: 2  
 
generator: ToySimulator  
 
fragment_type: TOY1  
 
fragment_id: 0  
 
board_id: 0  
 
random_seed: 9542  
 
sleep_on_stop_us: 500000  
 
nADCcounts: 40  
 
throttle_usecs: 100000  

} 
metrics: {
 
brFile: {
 
metricPluginType: file  
 
level: 3  
 
fileName: "/tmp/boardreader/br_%UID%_metrics.log"  
 
uniquify: true  

}
}
}
<end of output>
Test time =   0.19 sec
----------------------------------------------------------
Test Passed.
"ManageConfigs_seeddata_filesystem_000_003_t" end time: May 12 17:27 CDT
"ManageConfigs_seeddata_filesystem_000_003_t" time elapsed: 00:00:00
----------------------------------------------------------

22/28 Testing: ManageConfigs_seeddata_mongo_000_003_t
22/28 Test: ManageConfigs_seeddata_mongo_000_003_t
Command: "/home/lukhanin/scratch/current/artdaq-demo-base/products/cetbuildtools/v4_18_02/bin/cet_exec_test" "--wd" "/home/lukhanin/scratch/current/artdaq-demo-base/build_artdaq-utilities-database/test/ConfigurationDB/ManageConfigs/test000/ManageConfigs_seeddata_mongo_000_003_t.d" "--required-files" "" "--datafiles" "/home/lukhanin/scratch/current/artdaq-demo-base/build_artdaq-utilities-database/test/ConfigurationDB/ManageConfigs/test000/test003.src.803.fcl;/home/lukhanin/scratch/current/artdaq-demo-base/build_artdaq-utilities-database/test/ConfigurationDB/ManageConfigs/test000/test003.cmp.803.fcl" "--skip-return-code" "247" "LoadStore_t" "-o" "store" "-d" "mongo" "-c" "testManageConfigs_boardreader" "-f" "fhicl" "-v" "versionA38114" "-g" "testConfigA03172016-174859" "-e" "test003" "-s" "test003.src.803.fcl" "-r" "test003.cmp.803.fcl"
Directory: /home/lukhanin/scratch/current/artdaq-demo-base/build_artdaq-utilities-database/test/ConfigurationDB/ManageConfigs/test000/ManageConfigs_seeddata_mongo_000_003_t.d
"ManageConfigs_seeddata_mongo_000_003_t" start time: May 12 17:27 CDT
Output:
----------------------------------------------------------
removed ‘test003.cmp.730.fcl’
removed ‘test003.src.730.fcl’
05-12 17:27:20.543860  1  0 artdaq::database::filesystem trace_enable
05-12 17:27:20.544075  1  0 artdaq::database::filesystem::index trace_enable
05-12 17:27:20.544160  1  0 artdaq::database::mongo trace_enable
05-12 17:27:20.544270  1  0 artdaq::database::configuration::LoadStoreOperation trace_enable
05-12 17:27:20.544329  1  0 artdaq::database::configuration::options::OperationBase trace_enable
05-12 17:27:20.544376  1  0 artdaq::database::configuration::options::OperationLoadStore trace_enable
05-12 17:27:20.544434  1  0 artdaq::database::configuration::LoadStoreOperationDetail trace_enable
05-12 17:27:20.547288  1 12 Options: Updating provider from filesystem to mongo.
05-12 17:27:20.547318  1 10 Options: Updating operation from load to store.
05-12 17:27:20.547331  1 14 Options: dataFormat args format=<fhicl>.
05-12 17:27:20.547356  1 11 Options: Updating collection_name from notprovided to testManageConfigs_boardreader.
05-12 17:27:20.547374  1 10 Options: Updating version from notprovided to versionA38114.
05-12 17:27:20.547396  1 11 Options: Updating entity from notprovided to test003.
05-12 17:27:20.547409  1 12 Options: Updating global_configuration from notprovided to testConfigA03172016-174859.
05-12 17:27:20.557847  1 12 Options: Updating provider from filesystem to mongo.
05-12 17:27:20.557876  1 10 Options: Updating operation from load to store.
05-12 17:27:20.557890  1 14 Options: dataFormat args format=<fhicl>.
05-12 17:27:20.557902  1 11 Options: Updating collection_name from notprovided to testManageConfigs_boardreader.
05-12 17:27:20.558142  1 15 Options: searchFilter args search_filter=<{
"version" : "versionA38114",
"configurable_entity.name" : "test003",
"configurations.name" : "testConfigA03172016-174859"
}>.
05-12 17:27:20.558563  1 15 Options: searchFilter args search_filter=<notprovided>.
05-12 17:27:20.558585  1 10 Options: Updating version from notprovided to versionA38114.
05-12 17:27:20.558600  1 11 Options: Updating entity from notprovided to test003.
05-12 17:27:20.558612  1 12 Options: Updating global_configuration from notprovided to testConfigA03172016-174859.
05-12 17:27:20.558632  1 15 store_configuration: begin
05-12 17:27:20.645537  1 17 store_configuration: Converted json data to fcl; json=<{
"document" : {
"data" : {
"prolog" : {

},
"main" : {
"daq" : {
"max_fragment_size_words" : 2097152,
"fragment_receiver" : {
"mpi_buffer_count" : 16,
"mpi_sync_interval" : 50,
"first_event_builder_rank" : 2,
"event_builder_count" : 2,
"generator" : "ToySimulator",
"fragment_type" : "TOY1",
"fragment_id" : 0,
"board_id" : 0,
"random_seed" : 9542,
"sleep_on_stop_us" : 500000,
"nADCcounts" : 40,
"throttle_usecs" : 100000
},
"metrics" : {
"brFile" : {
"metricPluginType" : "file",
"level" : 3,
"fileName" : "/tmp/boardreader/br_%UID%_metrics.log",
"uniquify" : true
}
}
}
}
},
"metadata" : {
"prolog" : {

},
"main" : {
"daq" : {
"type" : "table",
"comment" : " ",
"children" : {
"max_fragment_size_words" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"fragment_receiver" : {
"type" : "table",
"comment" : " ",
"children" : {
"mpi_buffer_count" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"mpi_sync_interval" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"first_event_builder_rank" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"event_builder_count" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"generator" : {
"type" : "string",
"comment" : " ",
"annotation" : " "
},
"fragment_type" : {
"type" : "string",
"comment" : " ",
"annotation" : " "
},
"fragment_id" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"board_id" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"random_seed" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"sleep_on_stop_us" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"nADCcounts" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"throttle_usecs" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
}
}
},
"metrics" : {
"type" : "table",
"comment" : " ",
"children" : {
"brFile" : {
"type" : "table",
"comment" : " ",
"children" : {
"metricPluginType" : {
"type" : "string",
"comment" : " ",
"annotation" : " "
},
"level" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"fileName" : {
"type" : "string",
"comment" : " ",
"annotation" : " "
},
"uniquify" : {
"type" : "bool",
"comment" : " ",
"annotation" : " "
}
}
}
}
}
}
}
}
}
},
"comments" : [
{
"linenum" : 0,
"value" : "No comments"
}
],
"origin" : {
"source" : "fhicl_to_json",
"timestamp" : "Mon Feb  8 14:00:30 2016"
}
}>
05-12 17:27:20.645569  1 17 store_configuration: Converted json data to fcl; fcl=< 
daq: {
 
max_fragment_size_words: 2097152  
 
fragment_receiver: {
 
mpi_buffer_count: 16  
 
mpi_sync_interval: 50  
 
first_event_builder_rank: 2  
 
event_builder_count: 2  
 
generator: ToySimulator  
 
fragment_type: TOY1  
 
fragment_id: 0  
 
board_id: 0  
 
random_seed: 9542  
 
sleep_on_stop_us: 500000  
 
nADCcounts: 40  
 
throttle_usecs: 100000  

} 
metrics: {
 
brFile: {
 
metricPluginType: file  
 
level: 3  
 
fileName: "/tmp/boardreader/br_%UID%_metrics.log"  
 
uniquify: true  

}
}
}>
05-12 17:27:20.645598  1 15 store_configuration: json_buffer=<{
"document" : {
"data" : {
"prolog" : {

},
"main" : {
"daq" : {
"max_fragment_size_words" : 2097152,
"fragment_receiver" : {
"mpi_buffer_count" : 16,
"mpi_sync_interval" : 50,
"first_event_builder_rank" : 2,
"event_builder_count" : 2,
"generator" : "ToySimulator",
"fragment_type" : "TOY1",
"fragment_id" : 0,
"board_id" : 0,
"random_seed" : 9542,
"sleep_on_stop_us" : 500000,
"nADCcounts" : 40,
"throttle_usecs" : 100000
},
"metrics" : {
"brFile" : {
"metricPluginType" : "file",
"level" : 3,
"fileName" : "/tmp/boardreader/br_%UID%_metrics.log",
"uniquify" : true
}
}
}
}
},
"metadata" : {
"prolog" : {

},
"main" : {
"daq" : {
"type" : "table",
"comment" : " ",
"children" : {
"max_fragment_size_words" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"fragment_receiver" : {
"type" : "table",
"comment" : " ",
"children" : {
"mpi_buffer_count" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"mpi_sync_interval" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"first_event_builder_rank" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"event_builder_count" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"generator" : {
"type" : "string",
"comment" : " ",
"annotation" : " "
},
"fragment_type" : {
"type" : "string",
"comment" : " ",
"annotation" : " "
},
"fragment_id" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"board_id" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"random_seed" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"sleep_on_stop_us" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"nADCcounts" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"throttle_usecs" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
}
}
},
"metrics" : {
"type" : "table",
"comment" : " ",
"children" : {
"brFile" : {
"type" : "table",
"comment" : " ",
"children" : {
"metricPluginType" : {
"type" : "string",
"comment" : " ",
"annotation" : " "
},
"level" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"fileName" : {
"type" : "string",
"comment" : " ",
"annotation" : " "
},
"uniquify" : {
"type" : "bool",
"comment" : " ",
"annotation" : " "
}
}
}
}
}
}
}
}
}
},
"comments" : [
{
"linenum" : 0,
"value" : "No comments"
}
],
"origin" : {
"source" : "fhicl_to_json",
"timestamp" : "Mon Feb  8 14:00:30 2016"
}
}>
05-12 17:27:20.656821  1 15 store_configuration: insert_payload=<{"document":{
    "document" : {
        "data" : {
            "prolog" : {

            }, 
            "main" : {
                "daq" : {
                    "max_fragment_size_words" : 2097152, 
                    "fragment_receiver" : {
                        "mpi_buffer_count" : 16, 
                        "mpi_sync_interval" : 50, 
                        "first_event_builder_rank" : 2, 
                        "event_builder_count" : 2, 
                        "generator" : "ToySimulator", 
                        "fragment_type" : "TOY1", 
                        "fragment_id" : 0, 
                        "board_id" : 0, 
                        "random_seed" : 9542, 
                        "sleep_on_stop_us" : 500000, 
                        "nADCcounts" : 40, 
                        "throttle_usecs" : 100000
                    }, 
                    "metrics" : {
                        "brFile" : {
                            "metricPluginType" : "file", 
                            "level" : 3, 
                            "fileName" : "/tmp/boardreader/br_%UID%_metrics.log", 
                            "uniquify" : true
                        }
                    }
                }
            }
        }, 
        "metadata" : {
            "prolog" : {

            }, 
            "main" : {
                "daq" : {
                    "type" : "table", 
                    "comment" : " ", 
                    "children" : {
                        "max_fragment_size_words" : {
                            "type" : "number", 
                            "comment" : " ", 
                            "annotation" : " "
                        }, 
                        "fragment_receiver" : {
                            "type" : "table", 
                            "comment" : " ", 
                            "children" : {
                                "mpi_buffer_count" : {
                                    "type" : "number", 
                                    "comment" : " ", 
                                    "annotation" : " "
                                }, 
                                "mpi_sync_interval" : {
                                    "type" : "number", 
                                    "comment" : " ", 
                                    "annotation" : " "
                                }, 
                                "first_event_builder_rank" : {
                                    "type" : "number", 
                                    "comment" : " ", 
                                    "annotation" : " "
                                }, 
                                "event_builder_count" : {
                                    "type" : "number", 
                                    "comment" : " ", 
                                    "annotation" : " "
                                }, 
                                "generator" : {
                                    "type" : "string", 
                                    "comment" : " ", 
                                    "annotation" : " "
                                }, 
                                "fragment_type" : {
                                    "type" : "string", 
                                    "comment" : " ", 
                                    "annotation" : " "
                                }, 
                                "fragment_id" : {
                                    "type" : "number", 
                                    "comment" : " ", 
                                    "annotation" : " "
                                }, 
                                "board_id" : {
                                    "type" : "number", 
                                    "comment" : " ", 
                                    "annotation" : " "
                                }, 
                                "random_seed" : {
                                    "type" : "number"
05-12 17:27:20.657802  1  4 StorageProvider::MongoDB::store() begin
05-12 17:27:20.658119  1  4 Search filter is missing, proceeding with insert.
05-12 17:27:20.665894  1  5 inserted_id={
    "$oid" : "573503481a72ba50e3159e01"
}
05-12 17:27:20.666172  1 15 store_configuration: end
Parsed options:
{
"filter" : {
"version" : "versionA38114",
"configurable_entity.name" : "test003",
"configurations.name" : "testConfigA03172016-174859"
},
"dbprovider" : "mongo",
"operation" : "store",
"collection" : "testManageConfigs_boardreader",
"dataformat" : "fhicl",
"configuration" : "testConfigA03172016-174859"
}
Running test:<store>
returned:
 
daq: {
 
max_fragment_size_words: 2097152  
 
fragment_receiver: {
 
mpi_buffer_count: 16  
 
mpi_sync_interval: 50  
 
first_event_builder_rank: 2  
 
event_builder_count: 2  
 
generator: ToySimulator  
 
fragment_type: TOY1  
 
fragment_id: 0  
 
board_id: 0  
 
random_seed: 9542  
 
sleep_on_stop_us: 500000  
 
nADCcounts: 40  
 
throttle_usecs: 100000  

} 
metrics: {
 
brFile: {
 
metricPluginType: file  
 
level: 3  
 
fileName: "/tmp/boardreader/br_%UID%_metrics.log"  
 
uniquify: true  

}
}
}
<end of output>
Test time =   0.18 sec
----------------------------------------------------------
Test Passed.
"ManageConfigs_seeddata_mongo_000_003_t" end time: May 12 17:27 CDT
"ManageConfigs_seeddata_mongo_000_003_t" time elapsed: 00:00:00
----------------------------------------------------------

23/28 Testing: ManageConfigs_seeddata_filesystem_000_004_t
23/28 Test: ManageConfigs_seeddata_filesystem_000_004_t
Command: "/home/lukhanin/scratch/current/artdaq-demo-base/products/cetbuildtools/v4_18_02/bin/cet_exec_test" "--wd" "/home/lukhanin/scratch/current/artdaq-demo-base/build_artdaq-utilities-database/test/ConfigurationDB/ManageConfigs/test000/ManageConfigs_seeddata_filesystem_000_004_t.d" "--required-files" "" "--datafiles" "/home/lukhanin/scratch/current/artdaq-demo-base/build_artdaq-utilities-database/test/ConfigurationDB/ManageConfigs/test000/test004.src.488.fcl;/home/lukhanin/scratch/current/artdaq-demo-base/build_artdaq-utilities-database/test/ConfigurationDB/ManageConfigs/test000/test004.cmp.488.fcl" "--skip-return-code" "247" "LoadStore_t" "-o" "store" "-d" "filesystem" "-c" "testManageConfigs_boardreader" "-f" "fhicl" "-v" "versionA38114" "-g" "testConfigA03172016-174859" "-e" "test004" "-s" "test004.src.488.fcl" "-r" "test004.cmp.488.fcl"
Directory: /home/lukhanin/scratch/current/artdaq-demo-base/build_artdaq-utilities-database/test/ConfigurationDB/ManageConfigs/test000/ManageConfigs_seeddata_filesystem_000_004_t.d
"ManageConfigs_seeddata_filesystem_000_004_t" start time: May 12 17:27 CDT
Output:
----------------------------------------------------------
removed ‘test004.cmp.936.fcl’
removed ‘test004.src.936.fcl’
05-12 17:27:20.711813  1  0 artdaq::database::filesystem trace_enable
05-12 17:27:20.711971  1  0 artdaq::database::filesystem::index trace_enable
05-12 17:27:20.712027  1  0 artdaq::database::mongo trace_enable
05-12 17:27:20.712096  1  0 artdaq::database::configuration::LoadStoreOperation trace_enable
05-12 17:27:20.712139  1  0 artdaq::database::configuration::options::OperationBase trace_enable
05-12 17:27:20.712169  1  0 artdaq::database::configuration::options::OperationLoadStore trace_enable
05-12 17:27:20.712197  1  0 artdaq::database::configuration::LoadStoreOperationDetail trace_enable
05-12 17:27:20.714486  1 12 Options: Updating provider from filesystem to filesystem.
05-12 17:27:20.714515  1 10 Options: Updating operation from load to store.
05-12 17:27:20.714530  1 14 Options: dataFormat args format=<fhicl>.
05-12 17:27:20.714551  1 11 Options: Updating collection_name from notprovided to testManageConfigs_boardreader.
05-12 17:27:20.714571  1 10 Options: Updating version from notprovided to versionA38114.
05-12 17:27:20.714585  1 11 Options: Updating entity from notprovided to test004.
05-12 17:27:20.714597  1 12 Options: Updating global_configuration from notprovided to testConfigA03172016-174859.
05-12 17:27:20.722315  1 12 Options: Updating provider from filesystem to filesystem.
05-12 17:27:20.722341  1 10 Options: Updating operation from load to store.
05-12 17:27:20.722351  1 14 Options: dataFormat args format=<fhicl>.
05-12 17:27:20.722365  1 11 Options: Updating collection_name from notprovided to testManageConfigs_boardreader.
05-12 17:27:20.722551  1 15 Options: searchFilter args search_filter=<{
"version" : "versionA38114",
"configurable_entity.name" : "test004",
"configurations.name" : "testConfigA03172016-174859"
}>.
05-12 17:27:20.722874  1 15 Options: searchFilter args search_filter=<notprovided>.
05-12 17:27:20.722896  1 10 Options: Updating version from notprovided to versionA38114.
05-12 17:27:20.722916  1 11 Options: Updating entity from notprovided to test004.
05-12 17:27:20.722926  1 12 Options: Updating global_configuration from notprovided to testConfigA03172016-174859.
05-12 17:27:20.722941  1 15 store_configuration: begin
05-12 17:27:20.799490  1 17 store_configuration: Converted json data to fcl; json=<{
"document" : {
"data" : {
"prolog" : {

},
"main" : {
"daq" : {
"max_fragment_size_words" : 2097152,
"fragment_receiver" : {
"mpi_buffer_count" : 16,
"mpi_sync_interval" : 50,
"first_event_builder_rank" : 2,
"event_builder_count" : 2,
"generator" : "ToySimulator",
"fragment_type" : "TOY2",
"fragment_id" : 1,
"board_id" : 1,
"random_seed" : 5299,
"sleep_on_stop_us" : 500000,
"nADCcounts" : 40,
"throttle_usecs" : 100000
},
"metrics" : {
"brFile" : {
"metricPluginType" : "file",
"level" : 3,
"fileName" : "/tmp/boardreader/br_%UID%_metrics.log",
"uniquify" : true
}
}
}
}
},
"metadata" : {
"prolog" : {

},
"main" : {
"daq" : {
"type" : "table",
"comment" : " ",
"children" : {
"max_fragment_size_words" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"fragment_receiver" : {
"type" : "table",
"comment" : " ",
"children" : {
"mpi_buffer_count" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"mpi_sync_interval" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"first_event_builder_rank" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"event_builder_count" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"generator" : {
"type" : "string",
"comment" : " ",
"annotation" : " "
},
"fragment_type" : {
"type" : "string",
"comment" : " ",
"annotation" : " "
},
"fragment_id" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"board_id" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"random_seed" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"sleep_on_stop_us" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"nADCcounts" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"throttle_usecs" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
}
}
},
"metrics" : {
"type" : "table",
"comment" : " ",
"children" : {
"brFile" : {
"type" : "table",
"comment" : " ",
"children" : {
"metricPluginType" : {
"type" : "string",
"comment" : " ",
"annotation" : " "
},
"level" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"fileName" : {
"type" : "string",
"comment" : " ",
"annotation" : " "
},
"uniquify" : {
"type" : "bool",
"comment" : " ",
"annotation" : " "
}
}
}
}
}
}
}
}
}
},
"comments" : [
{
"linenum" : 0,
"value" : "No comments"
}
],
"origin" : {
"source" : "fhicl_to_json",
"timestamp" : "Mon Feb  8 14:00:30 2016"
}
}>
05-12 17:27:20.799519  1 17 store_configuration: Converted json data to fcl; fcl=< 
daq: {
 
max_fragment_size_words: 2097152  
 
fragment_receiver: {
 
mpi_buffer_count: 16  
 
mpi_sync_interval: 50  
 
first_event_builder_rank: 2  
 
event_builder_count: 2  
 
generator: ToySimulator  
 
fragment_type: TOY2  
 
fragment_id: 1  
 
board_id: 1  
 
random_seed: 5299  
 
sleep_on_stop_us: 500000  
 
nADCcounts: 40  
 
throttle_usecs: 100000  

} 
metrics: {
 
brFile: {
 
metricPluginType: file  
 
level: 3  
 
fileName: "/tmp/boardreader/br_%UID%_metrics.log"  
 
uniquify: true  

}
}
}>
05-12 17:27:20.799541  1 15 store_configuration: json_buffer=<{
"document" : {
"data" : {
"prolog" : {

},
"main" : {
"daq" : {
"max_fragment_size_words" : 2097152,
"fragment_receiver" : {
"mpi_buffer_count" : 16,
"mpi_sync_interval" : 50,
"first_event_builder_rank" : 2,
"event_builder_count" : 2,
"generator" : "ToySimulator",
"fragment_type" : "TOY2",
"fragment_id" : 1,
"board_id" : 1,
"random_seed" : 5299,
"sleep_on_stop_us" : 500000,
"nADCcounts" : 40,
"throttle_usecs" : 100000
},
"metrics" : {
"brFile" : {
"metricPluginType" : "file",
"level" : 3,
"fileName" : "/tmp/boardreader/br_%UID%_metrics.log",
"uniquify" : true
}
}
}
}
},
"metadata" : {
"prolog" : {

},
"main" : {
"daq" : {
"type" : "table",
"comment" : " ",
"children" : {
"max_fragment_size_words" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"fragment_receiver" : {
"type" : "table",
"comment" : " ",
"children" : {
"mpi_buffer_count" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"mpi_sync_interval" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"first_event_builder_rank" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"event_builder_count" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"generator" : {
"type" : "string",
"comment" : " ",
"annotation" : " "
},
"fragment_type" : {
"type" : "string",
"comment" : " ",
"annotation" : " "
},
"fragment_id" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"board_id" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"random_seed" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"sleep_on_stop_us" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"nADCcounts" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"throttle_usecs" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
}
}
},
"metrics" : {
"type" : "table",
"comment" : " ",
"children" : {
"brFile" : {
"type" : "table",
"comment" : " ",
"children" : {
"metricPluginType" : {
"type" : "string",
"comment" : " ",
"annotation" : " "
},
"level" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"fileName" : {
"type" : "string",
"comment" : " ",
"annotation" : " "
},
"uniquify" : {
"type" : "bool",
"comment" : " ",
"annotation" : " "
}
}
}
}
}
}
}
}
}
},
"comments" : [
{
"linenum" : 0,
"value" : "No comments"
}
],
"origin" : {
"source" : "fhicl_to_json",
"timestamp" : "Mon Feb  8 14:00:30 2016"
}
}>
05-12 17:27:20.810723  1 15 store_configuration: insert_payload=<{"document":{
    "document" : {
        "data" : {
            "prolog" : {

            }, 
            "main" : {
                "daq" : {
                    "max_fragment_size_words" : 2097152, 
                    "fragment_receiver" : {
                        "mpi_buffer_count" : 16, 
                        "mpi_sync_interval" : 50, 
                        "first_event_builder_rank" : 2, 
                        "event_builder_count" : 2, 
                        "generator" : "ToySimulator", 
                        "fragment_type" : "TOY2", 
                        "fragment_id" : 1, 
                        "board_id" : 1, 
                        "random_seed" : 5299, 
                        "sleep_on_stop_us" : 500000, 
                        "nADCcounts" : 40, 
                        "throttle_usecs" : 100000
                    }, 
                    "metrics" : {
                        "brFile" : {
                            "metricPluginType" : "file", 
                            "level" : 3, 
                            "fileName" : "/tmp/boardreader/br_%UID%_metrics.log", 
                            "uniquify" : true
                        }
                    }
                }
            }
        }, 
        "metadata" : {
            "prolog" : {

            }, 
            "main" : {
                "daq" : {
                    "type" : "table", 
                    "comment" : " ", 
                    "children" : {
                        "max_fragment_size_words" : {
                            "type" : "number", 
                            "comment" : " ", 
                            "annotation" : " "
                        }, 
                        "fragment_receiver" : {
                            "type" : "table", 
                            "comment" : " ", 
                            "children" : {
                                "mpi_buffer_count" : {
                                    "type" : "number", 
                                    "comment" : " ", 
                                    "annotation" : " "
                                }, 
                                "mpi_sync_interval" : {
                                    "type" : "number", 
                                    "comment" : " ", 
                                    "annotation" : " "
                                }, 
                                "first_event_builder_rank" : {
                                    "type" : "number", 
                                    "comment" : " ", 
                                    "annotation" : " "
                                }, 
                                "event_builder_count" : {
                                    "type" : "number", 
                                    "comment" : " ", 
                                    "annotation" : " "
                                }, 
                                "generator" : {
                                    "type" : "string", 
                                    "comment" : " ", 
                                    "annotation" : " "
                                }, 
                                "fragment_type" : {
                                    "type" : "string", 
                                    "comment" : " ", 
                                    "annotation" : " "
                                }, 
                                "fragment_id" : {
                                    "type" : "number", 
                                    "comment" : " ", 
                                    "annotation" : " "
                                }, 
                                "board_id" : {
                                    "type" : "number", 
                                    "comment" : " ", 
                                    "annotation" : " "
                                }, 
                                "random_seed" : {
                                    "type" : "number"
05-12 17:27:20.811025  1  4 StorageProvider::FileSystemDB::store() begin
05-12 17:27:20.811066  1  4 StorageProvider::FileSystemDB::store() args data=<{"document":{
    "document" : {
        "data" : {
            "prolog" : {

            }, 
            "main" : {
                "daq" : {
                    "max_fragment_size_words" : 2097152, 
                    "fragment_receiver" : {
                        "mpi_buffer_count" : 16, 
                        "mpi_sync_interval" : 50, 
                        "first_event_builder_rank" : 2, 
                        "event_builder_count" : 2, 
                        "generator" : "ToySimulator", 
                        "fragment_type" : "TOY2", 
                        "fragment_id" : 1, 
                        "board_id" : 1, 
                        "random_seed" : 5299, 
                        "sleep_on_stop_us" : 500000, 
                        "nADCcounts" : 40, 
                        "throttle_usecs" : 100000
                    }, 
                    "metrics" : {
                        "brFile" : {
                            "metricPluginType" : "file", 
                            "level" : 3, 
                            "fileName" : "/tmp/boardreader/br_%UID%_metrics.log", 
                            "uniquify" : true
                        }
                    }
                }
            }
        }, 
        "metadata" : {
            "prolog" : {

            }, 
            "main" : {
                "daq" : {
                    "type" : "table", 
                    "comment" : " ", 
                    "children" : {
                        "max_fragment_size_words" : {
                            "type" : "number", 
                            "comment" : " ", 
                            "annotation" : " "
                        }, 
                        "fragment_receiver" : {
                            "type" : "table", 
                            "comment" : " ", 
                            "children" : {
                                "mpi_buffer_count" : {
                                    "type" : "number", 
                                    "comment" : " ", 
                                    "annotation" : " "
                                }, 
                                "mpi_sync_interval" : {
                                    "type" : "number", 
                                    "comment" : " ", 
                                    "annotation" : " "
                                }, 
                                "first_event_builder_rank" : {
                                    "type" : "number", 
                                    "comment" : " ", 
                                    "annotation" : " "
                                }, 
                                "event_builder_count" : {
                                    "type" : "number", 
                                    "comment" : " ", 
                                    "annotation" : " "
                                }, 
                                "generator" : {
                                    "type" : "string", 
                                    "comment" : " ", 
                                    "annotation" : " "
                                }, 
                                "fragment_type" : {
                                    "type" : "string", 
                                    "comment" : " ", 
                                    "annotation" : " "
                                }, 
                                "fragment_id" : {
                                    "type" : "number", 
                                    "comment" : " ", 
                                    "annotation" : " "
                                }, 
                                "board_id" : {
                                    "type" : "number", 
                                    "comment" : " ", 
                                    "annotation" : " "
                                }, 
                                "random_seed" : {
                                    "typ
05-12 17:27:20.814280  1 12 StorageProvider::FileSystemDB generate_oid=8917eea53dfd47a49c1dda02
05-12 17:27:20.817090  1  4 StorageProvider::FileSystemDB::store() using generated oid=<8917eea53dfd47a49c1dda02>.
05-12 17:27:20.817141  1  4 StorageProvider::FileSystemDB::store() collection_path=<file:///home/lukhanin/databases/filesystemdb/testManageConfigs_boardreader/>.
05-12 17:27:20.817173  1 11 StorageProvider::FileSystemDB mkdir dir=</home/lukhanin/databases/filesystemdb/testManageConfigs_boardreader/>
05-12 17:27:20.817219  1 11 StorageProvider::FileSystemDB Directory exists, checking permissions; path=</home/lukhanin/databases/filesystemdb/testManageConfigs_boardreader/>
05-12 17:27:20.817399  1  4 StorageProvider::FileSystemDB::store() filename=</home/lukhanin/databases/filesystemdb/testManageConfigs_boardreader/8917eea53dfd47a49c1dda02.json>.
05-12 17:27:20.846307  1  3 StorageProvider::FileSystemDB::index::_open() begin
05-12 17:27:20.846326  1  3 StorageProvider::FileSystemDB::index::_open() args index_path=</home/lukhanin/databases/filesystemdb/testManageConfigs_boardreader/index.json>.
05-12 17:27:20.846451  1  3 StorageProvider::FileSystemDB::index::_open() json=<{
"version" : {
"versionA12250" : [
"6a0a18a695d24354ad9e8c9f",
"e84a624133c94c05940965dd"
],
"versionA14401" : [
"3cb9c351d7094ccb825dc7c5",
"f21ead241bd14358940cf5d7"
],
"versionA38114" : [
"9c673989ec5948899c1809c0"
]
},
"configurations.name" : {
"testConfigA03172016-174859" : [
"3cb9c351d7094ccb825dc7c5",
"6a0a18a695d24354ad9e8c9f",
"9c673989ec5948899c1809c0",
"e84a624133c94c05940965dd",
"f21ead241bd14358940cf5d7"
]
},
"configurable_entity.name" : {
"test003" : [
"3cb9c351d7094ccb825dc7c5",
"9c673989ec5948899c1809c0",
"e84a624133c94c05940965dd"
],
"test004" : [
"6a0a18a695d24354ad9e8c9f",
"f21ead241bd14358940cf5d7"
]
}
}>
05-12 17:27:20.847351  1  5 StorageProvider::FileSystemDB::index::addDocument() begin
05-12 17:27:20.847404  1  5 StorageProvider::FileSystemDB::index::addDocument() args document=<{
        "document" : {
            "data" : {
                "prolog" : {

                }, 
                "main" : {
                    "daq" : {
                        "max_fragment_size_words" : 2097152, 
                        "fragment_receiver" : {
                            "mpi_buffer_count" : 16, 
                            "mpi_sync_interval" : 50, 
                            "first_event_builder_rank" : 2, 
                            "event_builder_count" : 2, 
                            "generator" : "ToySimulator", 
                            "fragment_type" : "TOY2", 
                            "fragment_id" : 1, 
                            "board_id" : 1, 
                            "random_seed" : 5299, 
                            "sleep_on_stop_us" : 500000, 
                            "nADCcounts" : 40, 
                            "throttle_usecs" : 100000
                        }, 
                        "metrics" : {
                            "brFile" : {
                                "metricPluginType" : "file", 
                                "level" : 3, 
                                "fileName" : "/tmp/boardreader/br_%UID%_metrics.log", 
                                "uniquify" : true
                            }
                        }
                    }
                }
            }, 
            "metadata" : {
                "prolog" : {

                }, 
                "main" : {
                    "daq" : {
                        "type" : "table", 
                        "comment" : " ", 
                        "children" : {
                            "max_fragment_size_words" : {
                                "type" : "number", 
                                "comment" : " ", 
                                "annotation" : " "
                            }, 
                            "fragment_receiver" : {
                                "type" : "table", 
                                "comment" : " ", 
                                "children" : {
                                    "mpi_buffer_count" : {
                                        "type" : "number", 
                                        "comment" : " ", 
                                        "annotation" : " "
                                    }, 
                                    "mpi_sync_interval" : {
                                        "type" : "number", 
                                        "comment" : " ", 
                                        "annotation" : " "
                                    }, 
                                    "first_event_builder_rank" : {
                                        "type" : "number", 
                                        "comment" : " ", 
                                        "annotation" : " "
                                    }, 
                                    "event_builder_count" : {
                                        "type" : "number", 
                                        "comment" : " ", 
                                        "annotation" : " "
                                    }, 
                                    "generator" : {
                                        "type" : "string", 
                                        "comment" : " ", 
                                        "annotation" : " "
                                    }, 
                                    "fragment_type" : {
                                        "type" : "string", 
                                        "comment" : " ", 
                                        "annotation" : " "
                                    }, 
                                    "fragment_id" : {
                                        "type" : "number", 
                                        "comment" : " ", 
                                        "annotation" : " "
                                    }
05-12 17:27:20.847451  1  5 StorageProvider::FileSystemDB::index::addDocument() args ouid=<8917eea53dfd47a49c1dda02>.
05-12 17:27:20.853003  1  5 StorageProvider::FileSystemDB::index::addDocument() found 9 keys.
05-12 17:27:20.853067  1  7 StorageProvider::FileSystemDB::index::_addVersion() begin
05-12 17:27:20.853077  1  7 StorageProvider::FileSystemDB::index::_addVersion() args ouid=<8917eea53dfd47a49c1dda02>.
05-12 17:27:20.853085  1  7 StorageProvider::FileSystemDB::index::_addVersion() args version=<versionA38114>.
05-12 17:27:20.853416  1  7 StorageProvider::FileSystemDB::index::_addConfiguration() begin
05-12 17:27:20.853427  1  7 StorageProvider::FileSystemDB::index::_addConfiguration() args ouid=<8917eea53dfd47a49c1dda02>.
05-12 17:27:20.853444  1  7 StorageProvider::FileSystemDB::index::_addConfiguration() args configuration=<testConfigA03172016-174859>.
05-12 17:27:20.853505  1  7 StorageProvider::FileSystemDB::index::_addConfigurableEntity() begin
05-12 17:27:20.853515  1  7 StorageProvider::FileSystemDB::index::_addConfigurableEntity() args ouid=<8917eea53dfd47a49c1dda02>.
05-12 17:27:20.853521  1  7 StorageProvider::FileSystemDB::index::_addConfigurableEntity() args entity=<test004>.
05-12 17:27:20.853671  1  4 StorageProvider::FileSystemDB::index::_close() begin
05-12 17:27:20.854607  1  4 StorageProvider::FileSystemDB::index::_close() json=<{
"version" : {
"versionA12250" : [
"6a0a18a695d24354ad9e8c9f",
"e84a624133c94c05940965dd"
],
"versionA14401" : [
"3cb9c351d7094ccb825dc7c5",
"f21ead241bd14358940cf5d7"
],
"versionA38114" : [
"8917eea53dfd47a49c1dda02",
"9c673989ec5948899c1809c0"
]
},
"configurations.name" : {
"testConfigA03172016-174859" : [
"3cb9c351d7094ccb825dc7c5",
"6a0a18a695d24354ad9e8c9f",
"8917eea53dfd47a49c1dda02",
"9c673989ec5948899c1809c0",
"e84a624133c94c05940965dd",
"f21ead241bd14358940cf5d7"
]
},
"configurable_entity.name" : {
"test003" : [
"3cb9c351d7094ccb825dc7c5",
"9c673989ec5948899c1809c0",
"e84a624133c94c05940965dd"
],
"test004" : [
"6a0a18a695d24354ad9e8c9f",
"8917eea53dfd47a49c1dda02",
"f21ead241bd14358940cf5d7"
]
}
}>
05-12 17:27:20.854773  1  4 StorageProvider::FileSystemDB::index::_close() Closed SearchIndex.
05-12 17:27:20.854879  1 15 store_configuration: end
Parsed options:
{
"filter" : {
"version" : "versionA38114",
"configurable_entity.name" : "test004",
"configurations.name" : "testConfigA03172016-174859"
},
"dbprovider" : "filesystem",
"operation" : "store",
"collection" : "testManageConfigs_boardreader",
"dataformat" : "fhicl",
"configuration" : "testConfigA03172016-174859"
}
Running test:<store>
returned:
 
daq: {
 
max_fragment_size_words: 2097152  
 
fragment_receiver: {
 
mpi_buffer_count: 16  
 
mpi_sync_interval: 50  
 
first_event_builder_rank: 2  
 
event_builder_count: 2  
 
generator: ToySimulator  
 
fragment_type: TOY2  
 
fragment_id: 1  
 
board_id: 1  
 
random_seed: 5299  
 
sleep_on_stop_us: 500000  
 
nADCcounts: 40  
 
throttle_usecs: 100000  

} 
metrics: {
 
brFile: {
 
metricPluginType: file  
 
level: 3  
 
fileName: "/tmp/boardreader/br_%UID%_metrics.log"  
 
uniquify: true  

}
}
}
<end of output>
Test time =   0.19 sec
----------------------------------------------------------
Test Passed.
"ManageConfigs_seeddata_filesystem_000_004_t" end time: May 12 17:27 CDT
"ManageConfigs_seeddata_filesystem_000_004_t" time elapsed: 00:00:00
----------------------------------------------------------

24/28 Testing: ManageConfigs_seeddata_mongo_000_004_t
24/28 Test: ManageConfigs_seeddata_mongo_000_004_t
Command: "/home/lukhanin/scratch/current/artdaq-demo-base/products/cetbuildtools/v4_18_02/bin/cet_exec_test" "--wd" "/home/lukhanin/scratch/current/artdaq-demo-base/build_artdaq-utilities-database/test/ConfigurationDB/ManageConfigs/test000/ManageConfigs_seeddata_mongo_000_004_t.d" "--required-files" "" "--datafiles" "/home/lukhanin/scratch/current/artdaq-demo-base/build_artdaq-utilities-database/test/ConfigurationDB/ManageConfigs/test000/test004.src.790.fcl;/home/lukhanin/scratch/current/artdaq-demo-base/build_artdaq-utilities-database/test/ConfigurationDB/ManageConfigs/test000/test004.cmp.790.fcl" "--skip-return-code" "247" "LoadStore_t" "-o" "store" "-d" "mongo" "-c" "testManageConfigs_boardreader" "-f" "fhicl" "-v" "versionA38114" "-g" "testConfigA03172016-174859" "-e" "test004" "-s" "test004.src.790.fcl" "-r" "test004.cmp.790.fcl"
Directory: /home/lukhanin/scratch/current/artdaq-demo-base/build_artdaq-utilities-database/test/ConfigurationDB/ManageConfigs/test000/ManageConfigs_seeddata_mongo_000_004_t.d
"ManageConfigs_seeddata_mongo_000_004_t" start time: May 12 17:27 CDT
Output:
----------------------------------------------------------
removed ‘test004.cmp.350.fcl’
removed ‘test004.src.350.fcl’
05-12 17:27:20.899832  1  0 artdaq::database::filesystem trace_enable
05-12 17:27:20.899990  1  0 artdaq::database::filesystem::index trace_enable
05-12 17:27:20.900044  1  0 artdaq::database::mongo trace_enable
05-12 17:27:20.900106  1  0 artdaq::database::configuration::LoadStoreOperation trace_enable
05-12 17:27:20.900148  1  0 artdaq::database::configuration::options::OperationBase trace_enable
05-12 17:27:20.900174  1  0 artdaq::database::configuration::options::OperationLoadStore trace_enable
05-12 17:27:20.900200  1  0 artdaq::database::configuration::LoadStoreOperationDetail trace_enable
05-12 17:27:20.902432  1 12 Options: Updating provider from filesystem to mongo.
05-12 17:27:20.902454  1 10 Options: Updating operation from load to store.
05-12 17:27:20.902467  1 14 Options: dataFormat args format=<fhicl>.
05-12 17:27:20.902484  1 11 Options: Updating collection_name from notprovided to testManageConfigs_boardreader.
05-12 17:27:20.902497  1 10 Options: Updating version from notprovided to versionA38114.
05-12 17:27:20.902518  1 11 Options: Updating entity from notprovided to test004.
05-12 17:27:20.902528  1 12 Options: Updating global_configuration from notprovided to testConfigA03172016-174859.
05-12 17:27:20.910192  1 12 Options: Updating provider from filesystem to mongo.
05-12 17:27:20.910216  1 10 Options: Updating operation from load to store.
05-12 17:27:20.910229  1 14 Options: dataFormat args format=<fhicl>.
05-12 17:27:20.910237  1 11 Options: Updating collection_name from notprovided to testManageConfigs_boardreader.
05-12 17:27:20.910422  1 15 Options: searchFilter args search_filter=<{
"version" : "versionA38114",
"configurable_entity.name" : "test004",
"configurations.name" : "testConfigA03172016-174859"
}>.
05-12 17:27:20.910746  1 15 Options: searchFilter args search_filter=<notprovided>.
05-12 17:27:20.910762  1 10 Options: Updating version from notprovided to versionA38114.
05-12 17:27:20.910772  1 11 Options: Updating entity from notprovided to test004.
05-12 17:27:20.910782  1 12 Options: Updating global_configuration from notprovided to testConfigA03172016-174859.
05-12 17:27:20.910799  1 15 store_configuration: begin
05-12 17:27:20.986795  1 17 store_configuration: Converted json data to fcl; json=<{
"document" : {
"data" : {
"prolog" : {

},
"main" : {
"daq" : {
"max_fragment_size_words" : 2097152,
"fragment_receiver" : {
"mpi_buffer_count" : 16,
"mpi_sync_interval" : 50,
"first_event_builder_rank" : 2,
"event_builder_count" : 2,
"generator" : "ToySimulator",
"fragment_type" : "TOY2",
"fragment_id" : 1,
"board_id" : 1,
"random_seed" : 5299,
"sleep_on_stop_us" : 500000,
"nADCcounts" : 40,
"throttle_usecs" : 100000
},
"metrics" : {
"brFile" : {
"metricPluginType" : "file",
"level" : 3,
"fileName" : "/tmp/boardreader/br_%UID%_metrics.log",
"uniquify" : true
}
}
}
}
},
"metadata" : {
"prolog" : {

},
"main" : {
"daq" : {
"type" : "table",
"comment" : " ",
"children" : {
"max_fragment_size_words" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"fragment_receiver" : {
"type" : "table",
"comment" : " ",
"children" : {
"mpi_buffer_count" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"mpi_sync_interval" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"first_event_builder_rank" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"event_builder_count" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"generator" : {
"type" : "string",
"comment" : " ",
"annotation" : " "
},
"fragment_type" : {
"type" : "string",
"comment" : " ",
"annotation" : " "
},
"fragment_id" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"board_id" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"random_seed" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"sleep_on_stop_us" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"nADCcounts" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"throttle_usecs" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
}
}
},
"metrics" : {
"type" : "table",
"comment" : " ",
"children" : {
"brFile" : {
"type" : "table",
"comment" : " ",
"children" : {
"metricPluginType" : {
"type" : "string",
"comment" : " ",
"annotation" : " "
},
"level" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"fileName" : {
"type" : "string",
"comment" : " ",
"annotation" : " "
},
"uniquify" : {
"type" : "bool",
"comment" : " ",
"annotation" : " "
}
}
}
}
}
}
}
}
}
},
"comments" : [
{
"linenum" : 0,
"value" : "No comments"
}
],
"origin" : {
"source" : "fhicl_to_json",
"timestamp" : "Mon Feb  8 14:00:30 2016"
}
}>
05-12 17:27:20.986825  1 17 store_configuration: Converted json data to fcl; fcl=< 
daq: {
 
max_fragment_size_words: 2097152  
 
fragment_receiver: {
 
mpi_buffer_count: 16  
 
mpi_sync_interval: 50  
 
first_event_builder_rank: 2  
 
event_builder_count: 2  
 
generator: ToySimulator  
 
fragment_type: TOY2  
 
fragment_id: 1  
 
board_id: 1  
 
random_seed: 5299  
 
sleep_on_stop_us: 500000  
 
nADCcounts: 40  
 
throttle_usecs: 100000  

} 
metrics: {
 
brFile: {
 
metricPluginType: file  
 
level: 3  
 
fileName: "/tmp/boardreader/br_%UID%_metrics.log"  
 
uniquify: true  

}
}
}>
05-12 17:27:20.986845  1 15 store_configuration: json_buffer=<{
"document" : {
"data" : {
"prolog" : {

},
"main" : {
"daq" : {
"max_fragment_size_words" : 2097152,
"fragment_receiver" : {
"mpi_buffer_count" : 16,
"mpi_sync_interval" : 50,
"first_event_builder_rank" : 2,
"event_builder_count" : 2,
"generator" : "ToySimulator",
"fragment_type" : "TOY2",
"fragment_id" : 1,
"board_id" : 1,
"random_seed" : 5299,
"sleep_on_stop_us" : 500000,
"nADCcounts" : 40,
"throttle_usecs" : 100000
},
"metrics" : {
"brFile" : {
"metricPluginType" : "file",
"level" : 3,
"fileName" : "/tmp/boardreader/br_%UID%_metrics.log",
"uniquify" : true
}
}
}
}
},
"metadata" : {
"prolog" : {

},
"main" : {
"daq" : {
"type" : "table",
"comment" : " ",
"children" : {
"max_fragment_size_words" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"fragment_receiver" : {
"type" : "table",
"comment" : " ",
"children" : {
"mpi_buffer_count" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"mpi_sync_interval" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"first_event_builder_rank" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"event_builder_count" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"generator" : {
"type" : "string",
"comment" : " ",
"annotation" : " "
},
"fragment_type" : {
"type" : "string",
"comment" : " ",
"annotation" : " "
},
"fragment_id" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"board_id" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"random_seed" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"sleep_on_stop_us" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"nADCcounts" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"throttle_usecs" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
}
}
},
"metrics" : {
"type" : "table",
"comment" : " ",
"children" : {
"brFile" : {
"type" : "table",
"comment" : " ",
"children" : {
"metricPluginType" : {
"type" : "string",
"comment" : " ",
"annotation" : " "
},
"level" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"fileName" : {
"type" : "string",
"comment" : " ",
"annotation" : " "
},
"uniquify" : {
"type" : "bool",
"comment" : " ",
"annotation" : " "
}
}
}
}
}
}
}
}
}
},
"comments" : [
{
"linenum" : 0,
"value" : "No comments"
}
],
"origin" : {
"source" : "fhicl_to_json",
"timestamp" : "Mon Feb  8 14:00:30 2016"
}
}>
05-12 17:27:20.997871  1 15 store_configuration: insert_payload=<{"document":{
    "document" : {
        "data" : {
            "prolog" : {

            }, 
            "main" : {
                "daq" : {
                    "max_fragment_size_words" : 2097152, 
                    "fragment_receiver" : {
                        "mpi_buffer_count" : 16, 
                        "mpi_sync_interval" : 50, 
                        "first_event_builder_rank" : 2, 
                        "event_builder_count" : 2, 
                        "generator" : "ToySimulator", 
                        "fragment_type" : "TOY2", 
                        "fragment_id" : 1, 
                        "board_id" : 1, 
                        "random_seed" : 5299, 
                        "sleep_on_stop_us" : 500000, 
                        "nADCcounts" : 40, 
                        "throttle_usecs" : 100000
                    }, 
                    "metrics" : {
                        "brFile" : {
                            "metricPluginType" : "file", 
                            "level" : 3, 
                            "fileName" : "/tmp/boardreader/br_%UID%_metrics.log", 
                            "uniquify" : true
                        }
                    }
                }
            }
        }, 
        "metadata" : {
            "prolog" : {

            }, 
            "main" : {
                "daq" : {
                    "type" : "table", 
                    "comment" : " ", 
                    "children" : {
                        "max_fragment_size_words" : {
                            "type" : "number", 
                            "comment" : " ", 
                            "annotation" : " "
                        }, 
                        "fragment_receiver" : {
                            "type" : "table", 
                            "comment" : " ", 
                            "children" : {
                                "mpi_buffer_count" : {
                                    "type" : "number", 
                                    "comment" : " ", 
                                    "annotation" : " "
                                }, 
                                "mpi_sync_interval" : {
                                    "type" : "number", 
                                    "comment" : " ", 
                                    "annotation" : " "
                                }, 
                                "first_event_builder_rank" : {
                                    "type" : "number", 
                                    "comment" : " ", 
                                    "annotation" : " "
                                }, 
                                "event_builder_count" : {
                                    "type" : "number", 
                                    "comment" : " ", 
                                    "annotation" : " "
                                }, 
                                "generator" : {
                                    "type" : "string", 
                                    "comment" : " ", 
                                    "annotation" : " "
                                }, 
                                "fragment_type" : {
                                    "type" : "string", 
                                    "comment" : " ", 
                                    "annotation" : " "
                                }, 
                                "fragment_id" : {
                                    "type" : "number", 
                                    "comment" : " ", 
                                    "annotation" : " "
                                }, 
                                "board_id" : {
                                    "type" : "number", 
                                    "comment" : " ", 
                                    "annotation" : " "
                                }, 
                                "random_seed" : {
                                    "type" : "number"
05-12 17:27:20.998856  1  4 StorageProvider::MongoDB::store() begin
05-12 17:27:20.999178  1  4 Search filter is missing, proceeding with insert.
05-12 17:27:21.007000  1  5 inserted_id={
    "$oid" : "573503481a72ba50fa5f6a61"
}
05-12 17:27:21.007272  1 15 store_configuration: end
Parsed options:
{
"filter" : {
"version" : "versionA38114",
"configurable_entity.name" : "test004",
"configurations.name" : "testConfigA03172016-174859"
},
"dbprovider" : "mongo",
"operation" : "store",
"collection" : "testManageConfigs_boardreader",
"dataformat" : "fhicl",
"configuration" : "testConfigA03172016-174859"
}
Running test:<store>
returned:
 
daq: {
 
max_fragment_size_words: 2097152  
 
fragment_receiver: {
 
mpi_buffer_count: 16  
 
mpi_sync_interval: 50  
 
first_event_builder_rank: 2  
 
event_builder_count: 2  
 
generator: ToySimulator  
 
fragment_type: TOY2  
 
fragment_id: 1  
 
board_id: 1  
 
random_seed: 5299  
 
sleep_on_stop_us: 500000  
 
nADCcounts: 40  
 
throttle_usecs: 100000  

} 
metrics: {
 
brFile: {
 
metricPluginType: file  
 
level: 3  
 
fileName: "/tmp/boardreader/br_%UID%_metrics.log"  
 
uniquify: true  

}
}
}
<end of output>
Test time =   0.15 sec
----------------------------------------------------------
Test Passed.
"ManageConfigs_seeddata_mongo_000_004_t" end time: May 12 17:27 CDT
"ManageConfigs_seeddata_mongo_000_004_t" time elapsed: 00:00:00
----------------------------------------------------------

25/28 Testing: ManageConfigs_seeddata_filesystem_000_005_t
25/28 Test: ManageConfigs_seeddata_filesystem_000_005_t
Command: "/home/lukhanin/scratch/current/artdaq-demo-base/products/cetbuildtools/v4_18_02/bin/cet_exec_test" "--wd" "/home/lukhanin/scratch/current/artdaq-demo-base/build_artdaq-utilities-database/test/ConfigurationDB/ManageConfigs/test000/ManageConfigs_seeddata_filesystem_000_005_t.d" "--required-files" "" "--datafiles" "/home/lukhanin/scratch/current/artdaq-demo-base/build_artdaq-utilities-database/test/ConfigurationDB/ManageConfigs/test000/test005.src.324.fcl;/home/lukhanin/scratch/current/artdaq-demo-base/build_artdaq-utilities-database/test/ConfigurationDB/ManageConfigs/test000/test005.cmp.324.fcl" "--skip-return-code" "247" "LoadStore_t" "-o" "store" "-d" "filesystem" "-c" "testManageConfigs_eventbuilder" "-f" "fhicl" "-v" "versionA38114" "-g" "testConfigA03172016-174859" "-e" "test005" "-s" "test005.src.324.fcl" "-r" "test005.cmp.324.fcl"
Directory: /home/lukhanin/scratch/current/artdaq-demo-base/build_artdaq-utilities-database/test/ConfigurationDB/ManageConfigs/test000/ManageConfigs_seeddata_filesystem_000_005_t.d
"ManageConfigs_seeddata_filesystem_000_005_t" start time: May 12 17:27 CDT
Output:
----------------------------------------------------------
removed ‘test005.cmp.932.fcl’
removed ‘test005.src.932.fcl’
05-12 17:27:21.057136  1  0 artdaq::database::filesystem trace_enable
05-12 17:27:21.057292  1  0 artdaq::database::filesystem::index trace_enable
05-12 17:27:21.057348  1  0 artdaq::database::mongo trace_enable
05-12 17:27:21.057457  1  0 artdaq::database::configuration::LoadStoreOperation trace_enable
05-12 17:27:21.057506  1  0 artdaq::database::configuration::options::OperationBase trace_enable
05-12 17:27:21.057533  1  0 artdaq::database::configuration::options::OperationLoadStore trace_enable
05-12 17:27:21.057560  1  0 artdaq::database::configuration::LoadStoreOperationDetail trace_enable
05-12 17:27:21.059738  1 12 Options: Updating provider from filesystem to filesystem.
05-12 17:27:21.059763  1 10 Options: Updating operation from load to store.
05-12 17:27:21.059774  1 14 Options: dataFormat args format=<fhicl>.
05-12 17:27:21.059791  1 11 Options: Updating collection_name from notprovided to testManageConfigs_eventbuilder.
05-12 17:27:21.059805  1 10 Options: Updating version from notprovided to versionA38114.
05-12 17:27:21.059817  1 11 Options: Updating entity from notprovided to test005.
05-12 17:27:21.059827  1 12 Options: Updating global_configuration from notprovided to testConfigA03172016-174859.
05-12 17:27:21.068384  1 12 Options: Updating provider from filesystem to filesystem.
05-12 17:27:21.068429  1 10 Options: Updating operation from load to store.
05-12 17:27:21.068448  1 14 Options: dataFormat args format=<fhicl>.
05-12 17:27:21.068458  1 11 Options: Updating collection_name from notprovided to testManageConfigs_eventbuilder.
05-12 17:27:21.068636  1 15 Options: searchFilter args search_filter=<{
"version" : "versionA38114",
"configurable_entity.name" : "test005",
"configurations.name" : "testConfigA03172016-174859"
}>.
05-12 17:27:21.068962  1 15 Options: searchFilter args search_filter=<notprovided>.
05-12 17:27:21.068989  1 10 Options: Updating version from notprovided to versionA38114.
05-12 17:27:21.069002  1 11 Options: Updating entity from notprovided to test005.
05-12 17:27:21.069012  1 12 Options: Updating global_configuration from notprovided to testConfigA03172016-174859.
05-12 17:27:21.069027  1 15 store_configuration: begin
05-12 17:27:21.203604  1 17 store_configuration: Converted json data to fcl; json=<{
"document" : {
"data" : {
"prolog" : {

},
"main" : {
"services" : {
"scheduler" : {
"fileMode" : "NOMERGE",
"errorOnFailureToPut" : false
},
"NetMonTransportServiceInterface" : {
"service_provider" : "NetMonTransportService",
"first_data_receiver_rank" : 4,
"mpi_buffer_count" : 8,
"max_fragment_size_words" : 2097152,
"data_receiver_count" : 1
}
},
"daq" : {
"max_fragment_size_words" : 2097152,
"event_builder" : {
"mpi_buffer_count" : 16,
"first_fragment_receiver_rank" : 0,
"fragment_receiver_count" : 2,
"expected_fragments_per_event" : 2,
"use_art" : true,
"print_event_store_stats" : true,
"verbose" : false
},
"metrics" : {
"evbFile" : {
"metricPluginType" : "file",
"level" : 3,
"fileName" : "/tmp/eventbuilder/evb_%UID%_metrics.log",
"uniquify" : true
}
}
},
"outputs" : {
"rootMPIOutput" : {
"module_type" : "RootMPIOutput",
"SelectEvents" : {
"SelectEvents" : [
"pmod2",
"pmod3"
]
}
}
},
"physics" : {
"analyzers" : {

},
"producers" : {

},
"filters" : {
"prescaleMod2" : {
"module_type" : "NthEvent",
"nth" : 2
},
"prescaleMod3" : {
"module_type" : "NthEvent",
"nth" : 3
}
},
"p1" : [

],
"pmod2" : [
"prescaleMod2"
],
"pmod3" : [
"prescaleMod3"
],
"my_output_modules" : [
"rootMPIOutput"
]
},
"source" : {
"module_type" : "RawInput",
"waiting_time" : 2500000,
"resume_after_timeout" : true,
"fragment_type_map" : [
[
1,
"missed"
],
[
3,
"V1720"
],
[
4,
"V1724"
],
[
6,
"TOY1"
],
[
7,
"TOY2"
],
[
8,
"ASCII"
]
]
},
"process_name" : "DAQ"
}
},
"metadata" : {
"prolog" : {

},
"main" : {
"services" : {
"type" : "table",
"comment" : " ",
"children" : {
"scheduler" : {
"type" : "table",
"comment" : " ",
"children" : {
"fileMode" : {
"type" : "string",
"comment" : " ",
"annotation" : " "
},
"errorOnFailureToPut" : {
"type" : "bool",
"comment" : " ",
"annotation" : " "
}
}
},
"NetMonTransportServiceInterface" : {
"type" : "table",
"comment" : " ",
"children" : {
"service_provider" : {
"type" : "string",
"comment" : " ",
"annotation" : " "
},
"first_data_receiver_rank" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"mpi_buffer_count" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"max_fragment_size_words" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"data_receiver_count" : {
"type" : "number",
"comment" : " ",
"annotation" : "# 2"
}
}
}
}
},
"daq" : {
"type" : "table",
"comment" : " ",
"children" : {
"max_fragment_size_words" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"event_builder" : {
"type" : "table",
"comment" : " ",
"children" : {
"mpi_buffer_count" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"first_fragment_receiver_rank" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"fragment_receiver_count" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"expected_fragments_per_event" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"use_art" : {
"type" : "bool",
"comment" : " ",
"annotation" : " "
},
"print_event_store_stats" : {
"type" : "bool",
"comment" : " ",
"annotation" : " "
},
"verbose" : {
"type" : "bool",
"comment" : " ",
"annotation" : " "
}
}
},
"metrics" : {
"type" : "table",
"comment" : " ",
"children" : {
"evbFile" : {
"type" : "table",
"comment" : " ",
"children" : {
"metricPluginType" : {
"type" : "string",
"comment" : " ",
"annotation" : " "
},
"level" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"fileName" : {
"type" : "string",
"comment" : " ",
"annotation" : " "
},
"uniquify" : {
"type" : "bool",
"comment" : " ",
"annotation" : " "
}
}
}
}
}
}
},
"outputs" : {
"type" : "table",
"comment" : " ",
"children" : {
"rootMPIOutput" : {
"type" : "table",
"comment" : " ",
"children" : {
"module_type" : {
"type" : "string",
"comment" : " ",
"annotation" : " "
},
"SelectEvents" : {
"type" : "table",
"comment" : " ",
"children" : {
"SelectEvents" : {
"type" : "sequence",
"comment" : " ",
"annotation" : " "
}
}
}
}
}
}
},
"physics" : {
"type" : "table",
"comment" : " ",
"children" : {
"analyzers" : {
"type" : "
05-12 17:27:21.203749  1 17 store_configuration: Converted json data to fcl; fcl=< 
services: {
 
scheduler: {
 
fileMode: NOMERGE  
 
errorOnFailureToPut: false  

} 
NetMonTransportServiceInterface: {
 
service_provider: NetMonTransportService  
 
first_data_receiver_rank: 4  
 
mpi_buffer_count: 8  
 
max_fragment_size_words: 2097152  
 
data_receiver_count: 1 # 2

}
} 
daq: {
 
max_fragment_size_words: 2097152  
 
event_builder: {
 
mpi_buffer_count: 16  
 
first_fragment_receiver_rank: 0  
 
fragment_receiver_count: 2  
 
expected_fragments_per_event: 2  
 
use_art: true  
 
print_event_store_stats: true  
 
verbose: false  

} 
metrics: {
 
evbFile: {
 
metricPluginType: file  
 
level: 3  
 
fileName: "/tmp/eventbuilder/evb_%UID%_metrics.log"  
 
uniquify: true  

}
}
} 
outputs: {
 
rootMPIOutput: {
 
module_type: RootMPIOutput  
 
SelectEvents: {
 
SelectEvents: [pmod2, pmod3]  

}
}
} 
physics: {
 
analyzers: {

} 
producers: {

} 
filters: {
 
prescaleMod2: {
 
module_type: NthEvent  
 
nth: 2  

} 
prescaleMod3: {
 
module_type: NthEvent  
 
nth: 3  

}
} 
p1: []  
 
pmod2: [prescaleMod2]  
 
pmod3: [prescaleMod3]  
 
my_output_modules: [rootMPIOutput]  

} 
source: {
 
module_type: RawInput  
 
waiting_time: 2500000  
 
resume_after_timeout: true  
 
fragment_type_map: [[1, missed], [3, V1720], [4, V1724], [6, TOY1], [7, TOY2], [8, ASCII]]  

} 
process_name: DAQ  
>
05-12 17:27:21.203787  1 15 store_configuration: json_buffer=<{
"document" : {
"data" : {
"prolog" : {

},
"main" : {
"services" : {
"scheduler" : {
"fileMode" : "NOMERGE",
"errorOnFailureToPut" : false
},
"NetMonTransportServiceInterface" : {
"service_provider" : "NetMonTransportService",
"first_data_receiver_rank" : 4,
"mpi_buffer_count" : 8,
"max_fragment_size_words" : 2097152,
"data_receiver_count" : 1
}
},
"daq" : {
"max_fragment_size_words" : 2097152,
"event_builder" : {
"mpi_buffer_count" : 16,
"first_fragment_receiver_rank" : 0,
"fragment_receiver_count" : 2,
"expected_fragments_per_event" : 2,
"use_art" : true,
"print_event_store_stats" : true,
"verbose" : false
},
"metrics" : {
"evbFile" : {
"metricPluginType" : "file",
"level" : 3,
"fileName" : "/tmp/eventbuilder/evb_%UID%_metrics.log",
"uniquify" : true
}
}
},
"outputs" : {
"rootMPIOutput" : {
"module_type" : "RootMPIOutput",
"SelectEvents" : {
"SelectEvents" : [
"pmod2",
"pmod3"
]
}
}
},
"physics" : {
"analyzers" : {

},
"producers" : {

},
"filters" : {
"prescaleMod2" : {
"module_type" : "NthEvent",
"nth" : 2
},
"prescaleMod3" : {
"module_type" : "NthEvent",
"nth" : 3
}
},
"p1" : [

],
"pmod2" : [
"prescaleMod2"
],
"pmod3" : [
"prescaleMod3"
],
"my_output_modules" : [
"rootMPIOutput"
]
},
"source" : {
"module_type" : "RawInput",
"waiting_time" : 2500000,
"resume_after_timeout" : true,
"fragment_type_map" : [
[
1,
"missed"
],
[
3,
"V1720"
],
[
4,
"V1724"
],
[
6,
"TOY1"
],
[
7,
"TOY2"
],
[
8,
"ASCII"
]
]
},
"process_name" : "DAQ"
}
},
"metadata" : {
"prolog" : {

},
"main" : {
"services" : {
"type" : "table",
"comment" : " ",
"children" : {
"scheduler" : {
"type" : "table",
"comment" : " ",
"children" : {
"fileMode" : {
"type" : "string",
"comment" : " ",
"annotation" : " "
},
"errorOnFailureToPut" : {
"type" : "bool",
"comment" : " ",
"annotation" : " "
}
}
},
"NetMonTransportServiceInterface" : {
"type" : "table",
"comment" : " ",
"children" : {
"service_provider" : {
"type" : "string",
"comment" : " ",
"annotation" : " "
},
"first_data_receiver_rank" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"mpi_buffer_count" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"max_fragment_size_words" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"data_receiver_count" : {
"type" : "number",
"comment" : " ",
"annotation" : "# 2"
}
}
}
}
},
"daq" : {
"type" : "table",
"comment" : " ",
"children" : {
"max_fragment_size_words" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"event_builder" : {
"type" : "table",
"comment" : " ",
"children" : {
"mpi_buffer_count" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"first_fragment_receiver_rank" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"fragment_receiver_count" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"expected_fragments_per_event" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"use_art" : {
"type" : "bool",
"comment" : " ",
"annotation" : " "
},
"print_event_store_stats" : {
"type" : "bool",
"comment" : " ",
"annotation" : " "
},
"verbose" : {
"type" : "bool",
"comment" : " ",
"annotation" : " "
}
}
},
"metrics" : {
"type" : "table",
"comment" : " ",
"children" : {
"evbFile" : {
"type" : "table",
"comment" : " ",
"children" : {
"metricPluginType" : {
"type" : "string",
"comment" : " ",
"annotation" : " "
},
"level" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"fileName" : {
"type" : "string",
"comment" : " ",
"annotation" : " "
},
"uniquify" : {
"type" : "bool",
"comment" : " ",
"annotation" : " "
}
}
}
}
}
}
},
"outputs" : {
"type" : "table",
"comment" : " ",
"children" : {
"rootMPIOutput" : {
"type" : "table",
"comment" : " ",
"children" : {
"module_type" : {
"type" : "string",
"comment" : " ",
"annotation" : " "
},
"SelectEvents" : {
"type" : "table",
"comment" : " ",
"children" : {
"SelectEvents" : {
"type" : "sequence",
"comment" : " ",
"annotation" : " "
}
}
}
}
}
}
},
"physics" : {
"type" : "table",
"comment" : " ",
"children" : {
"analyzers" : {
"type" : "table",
"comment" : "
05-12 17:27:21.219857  1 15 store_configuration: insert_payload=<{"document":{
    "document" : {
        "data" : {
            "prolog" : {

            }, 
            "main" : {
                "services" : {
                    "scheduler" : {
                        "fileMode" : "NOMERGE", 
                        "errorOnFailureToPut" : false
                    }, 
                    "NetMonTransportServiceInterface" : {
                        "service_provider" : "NetMonTransportService", 
                        "first_data_receiver_rank" : 4, 
                        "mpi_buffer_count" : 8, 
                        "max_fragment_size_words" : 2097152, 
                        "data_receiver_count" : 1
                    }
                }, 
                "daq" : {
                    "max_fragment_size_words" : 2097152, 
                    "event_builder" : {
                        "mpi_buffer_count" : 16, 
                        "first_fragment_receiver_rank" : 0, 
                        "fragment_receiver_count" : 2, 
                        "expected_fragments_per_event" : 2, 
                        "use_art" : true, 
                        "print_event_store_stats" : true, 
                        "verbose" : false
                    }, 
                    "metrics" : {
                        "evbFile" : {
                            "metricPluginType" : "file", 
                            "level" : 3, 
                            "fileName" : "/tmp/eventbuilder/evb_%UID%_metrics.log", 
                            "uniquify" : true
                        }
                    }
                }, 
                "outputs" : {
                    "rootMPIOutput" : {
                        "module_type" : "RootMPIOutput", 
                        "SelectEvents" : {
                            "SelectEvents" : [
                                "pmod2", 
                                "pmod3"
                            ]
                        }
                    }
                }, 
                "physics" : {
                    "analyzers" : {

                    }, 
                    "producers" : {

                    }, 
                    "filters" : {
                        "prescaleMod2" : {
                            "module_type" : "NthEvent", 
                            "nth" : 2
                        }, 
                        "prescaleMod3" : {
                            "module_type" : "NthEvent", 
                            "nth" : 3
                        }
                    }, 
                    "p1" : [

                    ], 
                    "pmod2" : [
                        "prescaleMod2"
                    ], 
                    "pmod3" : [
                        "prescaleMod3"
                    ], 
                    "my_output_modules" : [
                        "rootMPIOutput"
                    ]
                }, 
                "source" : {
                    "module_type" : "RawInput", 
                    "waiting_time" : 2500000, 
                    "resume_after_timeout" : true, 
                    "fragment_type_map" : [
                        [
                            1, 
                            "missed"
                        ], 
                        [
                            3, 
                            "V1720"
                        ], 
                        [
                            4, 
                            "V1724"
                        ], 
                        [
                            6, 
                            "TOY1"
                        ], 
                        [
                            7, 
                            "TOY2"
                        ], 
                        [
                            8, 
                            "ASCII"
                        ]
                    ]
                }, 
                "process_name" : "DAQ"
            }
        }, 
        "metadata" : {
            "prolog" : {

            }, 
        
05-12 17:27:21.220314  1  4 StorageProvider::FileSystemDB::store() begin
05-12 17:27:21.220427  1  4 StorageProvider::FileSystemDB::store() args data=<{"document":{
    "document" : {
        "data" : {
            "prolog" : {

            }, 
            "main" : {
                "services" : {
                    "scheduler" : {
                        "fileMode" : "NOMERGE", 
                        "errorOnFailureToPut" : false
                    }, 
                    "NetMonTransportServiceInterface" : {
                        "service_provider" : "NetMonTransportService", 
                        "first_data_receiver_rank" : 4, 
                        "mpi_buffer_count" : 8, 
                        "max_fragment_size_words" : 2097152, 
                        "data_receiver_count" : 1
                    }
                }, 
                "daq" : {
                    "max_fragment_size_words" : 2097152, 
                    "event_builder" : {
                        "mpi_buffer_count" : 16, 
                        "first_fragment_receiver_rank" : 0, 
                        "fragment_receiver_count" : 2, 
                        "expected_fragments_per_event" : 2, 
                        "use_art" : true, 
                        "print_event_store_stats" : true, 
                        "verbose" : false
                    }, 
                    "metrics" : {
                        "evbFile" : {
                            "metricPluginType" : "file", 
                            "level" : 3, 
                            "fileName" : "/tmp/eventbuilder/evb_%UID%_metrics.log", 
                            "uniquify" : true
                        }
                    }
                }, 
                "outputs" : {
                    "rootMPIOutput" : {
                        "module_type" : "RootMPIOutput", 
                        "SelectEvents" : {
                            "SelectEvents" : [
                                "pmod2", 
                                "pmod3"
                            ]
                        }
                    }
                }, 
                "physics" : {
                    "analyzers" : {

                    }, 
                    "producers" : {

                    }, 
                    "filters" : {
                        "prescaleMod2" : {
                            "module_type" : "NthEvent", 
                            "nth" : 2
                        }, 
                        "prescaleMod3" : {
                            "module_type" : "NthEvent", 
                            "nth" : 3
                        }
                    }, 
                    "p1" : [

                    ], 
                    "pmod2" : [
                        "prescaleMod2"
                    ], 
                    "pmod3" : [
                        "prescaleMod3"
                    ], 
                    "my_output_modules" : [
                        "rootMPIOutput"
                    ]
                }, 
                "source" : {
                    "module_type" : "RawInput", 
                    "waiting_time" : 2500000, 
                    "resume_after_timeout" : true, 
                    "fragment_type_map" : [
                        [
                            1, 
                            "missed"
                        ], 
                        [
                            3, 
                            "V1720"
                        ], 
                        [
                            4, 
                            "V1724"
                        ], 
                        [
                            6, 
                            "TOY1"
                        ], 
                        [
                            7, 
                            "TOY2"
                        ], 
                        [
                            8, 
                            "ASCII"
                        ]
                    ]
                }, 
                "process_name" : "DAQ"
            }
        }, 
        "metadata" : {
            "prolog" : {

           
05-12 17:27:21.224149  1 12 StorageProvider::FileSystemDB generate_oid=5146950d2f914e5c81ea77c4
05-12 17:27:21.227212  1  4 StorageProvider::FileSystemDB::store() using generated oid=<5146950d2f914e5c81ea77c4>.
05-12 17:27:21.227275  1  4 StorageProvider::FileSystemDB::store() collection_path=<file:///home/lukhanin/databases/filesystemdb/testManageConfigs_eventbuilder/>.
05-12 17:27:21.227323  1 11 StorageProvider::FileSystemDB mkdir dir=</home/lukhanin/databases/filesystemdb/testManageConfigs_eventbuilder/>
05-12 17:27:21.227403  1 11 StorageProvider::FileSystemDB Directory exists, checking permissions; path=</home/lukhanin/databases/filesystemdb/testManageConfigs_eventbuilder/>
05-12 17:27:21.227600  1  4 StorageProvider::FileSystemDB::store() filename=</home/lukhanin/databases/filesystemdb/testManageConfigs_eventbuilder/5146950d2f914e5c81ea77c4.json>.
05-12 17:27:21.288413  1  3 StorageProvider::FileSystemDB::index::_open() begin
05-12 17:27:21.288431  1  3 StorageProvider::FileSystemDB::index::_open() args index_path=</home/lukhanin/databases/filesystemdb/testManageConfigs_eventbuilder/index.json>.
05-12 17:27:21.288518  1  3 StorageProvider::FileSystemDB::index::_open() json=<{
"version" : {
"versionA12250" : [
"2e9b3fe4f9eb426a98ab8aac",
"fc0b951d4cba4723887cef5a"
],
"versionA14401" : [
"41e8ebf536a64c6aafb9e0ad",
"fa485369b18049dcad5bd0d6"
]
},
"configurations.name" : {
"testConfigA03172016-174859" : [
"2e9b3fe4f9eb426a98ab8aac",
"41e8ebf536a64c6aafb9e0ad",
"fa485369b18049dcad5bd0d6",
"fc0b951d4cba4723887cef5a"
]
},
"configurable_entity.name" : {
"test005" : [
"2e9b3fe4f9eb426a98ab8aac",
"fa485369b18049dcad5bd0d6"
],
"test006" : [
"41e8ebf536a64c6aafb9e0ad",
"fc0b951d4cba4723887cef5a"
]
}
}>
05-12 17:27:21.289242  1  5 StorageProvider::FileSystemDB::index::addDocument() begin
05-12 17:27:21.289320  1  5 StorageProvider::FileSystemDB::index::addDocument() args document=<{
        "document" : {
            "data" : {
                "prolog" : {

                }, 
                "main" : {
                    "services" : {
                        "scheduler" : {
                            "fileMode" : "NOMERGE", 
                            "errorOnFailureToPut" : false
                        }, 
                        "NetMonTransportServiceInterface" : {
                            "service_provider" : "NetMonTransportService", 
                            "first_data_receiver_rank" : 4, 
                            "mpi_buffer_count" : 8, 
                            "max_fragment_size_words" : 2097152, 
                            "data_receiver_count" : 1
                        }
                    }, 
                    "daq" : {
                        "max_fragment_size_words" : 2097152, 
                        "event_builder" : {
                            "mpi_buffer_count" : 16, 
                            "first_fragment_receiver_rank" : 0, 
                            "fragment_receiver_count" : 2, 
                            "expected_fragments_per_event" : 2, 
                            "use_art" : true, 
                            "print_event_store_stats" : true, 
                            "verbose" : false
                        }, 
                        "metrics" : {
                            "evbFile" : {
                                "metricPluginType" : "file", 
                                "level" : 3, 
                                "fileName" : "/tmp/eventbuilder/evb_%UID%_metrics.log", 
                                "uniquify" : true
                            }
                        }
                    }, 
                    "outputs" : {
                        "rootMPIOutput" : {
                            "module_type" : "RootMPIOutput", 
                            "SelectEvents" : {
                                "SelectEvents" : [
                                    "pmod2", 
                                    "pmod3"
                                ]
                            }
                        }
                    }, 
                    "physics" : {
                        "analyzers" : {

                        }, 
                        "producers" : {

                        }, 
                        "filters" : {
                            "prescaleMod2" : {
                                "module_type" : "NthEvent", 
                                "nth" : 2
                            }, 
                            "prescaleMod3" : {
                                "module_type" : "NthEvent", 
                                "nth" : 3
                            }
                        }, 
                        "p1" : [

                        ], 
                        "pmod2" : [
                            "prescaleMod2"
                        ], 
                        "pmod3" : [
                            "prescaleMod3"
                        ], 
                        "my_output_modules" : [
                            "rootMPIOutput"
                        ]
                    }, 
                    "source" : {
                        "module_type" : "RawInput", 
                        "waiting_time" : 2500000, 
                        "resume_after_timeout" : true, 
                        "fragment_type_map" : [
                            [
                                1, 
                                "missed"
                            ], 
                            [
                                3, 
                                "V1720"
                            ], 
                            [
                                4, 
                                "V1724"
                            ], 
                            [
                                6, 
                                "TOY1"
                            ], 
               
05-12 17:27:21.289403  1  5 StorageProvider::FileSystemDB::index::addDocument() args ouid=<5146950d2f914e5c81ea77c4>.
05-12 17:27:21.301244  1  5 StorageProvider::FileSystemDB::index::addDocument() found 9 keys.
05-12 17:27:21.301268  1  7 StorageProvider::FileSystemDB::index::_addVersion() begin
05-12 17:27:21.301282  1  7 StorageProvider::FileSystemDB::index::_addVersion() args ouid=<5146950d2f914e5c81ea77c4>.
05-12 17:27:21.301289  1  7 StorageProvider::FileSystemDB::index::_addVersion() args version=<versionA38114>.
05-12 17:27:21.301457  1  7 StorageProvider::FileSystemDB::index::_addConfiguration() begin
05-12 17:27:21.301466  1  7 StorageProvider::FileSystemDB::index::_addConfiguration() args ouid=<5146950d2f914e5c81ea77c4>.
05-12 17:27:21.301476  1  7 StorageProvider::FileSystemDB::index::_addConfiguration() args configuration=<testConfigA03172016-174859>.
05-12 17:27:21.301524  1  7 StorageProvider::FileSystemDB::index::_addConfigurableEntity() begin
05-12 17:27:21.301533  1  7 StorageProvider::FileSystemDB::index::_addConfigurableEntity() args ouid=<5146950d2f914e5c81ea77c4>.
05-12 17:27:21.301539  1  7 StorageProvider::FileSystemDB::index::_addConfigurableEntity() args entity=<test005>.
05-12 17:27:21.301750  1  4 StorageProvider::FileSystemDB::index::_close() begin
05-12 17:27:21.302556  1  4 StorageProvider::FileSystemDB::index::_close() json=<{
"version" : {
"versionA12250" : [
"2e9b3fe4f9eb426a98ab8aac",
"fc0b951d4cba4723887cef5a"
],
"versionA14401" : [
"41e8ebf536a64c6aafb9e0ad",
"fa485369b18049dcad5bd0d6"
],
"versionA38114" : [
"5146950d2f914e5c81ea77c4"
]
},
"configurations.name" : {
"testConfigA03172016-174859" : [
"2e9b3fe4f9eb426a98ab8aac",
"41e8ebf536a64c6aafb9e0ad",
"5146950d2f914e5c81ea77c4",
"fa485369b18049dcad5bd0d6",
"fc0b951d4cba4723887cef5a"
]
},
"configurable_entity.name" : {
"test005" : [
"2e9b3fe4f9eb426a98ab8aac",
"5146950d2f914e5c81ea77c4",
"fa485369b18049dcad5bd0d6"
],
"test006" : [
"41e8ebf536a64c6aafb9e0ad",
"fc0b951d4cba4723887cef5a"
]
}
}>
05-12 17:27:21.302684  1  4 StorageProvider::FileSystemDB::index::_close() Closed SearchIndex.
05-12 17:27:21.302801  1 15 store_configuration: end
Parsed options:
{
"filter" : {
"version" : "versionA38114",
"configurable_entity.name" : "test005",
"configurations.name" : "testConfigA03172016-174859"
},
"dbprovider" : "filesystem",
"operation" : "store",
"collection" : "testManageConfigs_eventbuilder",
"dataformat" : "fhicl",
"configuration" : "testConfigA03172016-174859"
}
Running test:<store>
returned:
 
services: {
 
scheduler: {
 
fileMode: NOMERGE  
 
errorOnFailureToPut: false  

} 
NetMonTransportServiceInterface: {
 
service_provider: NetMonTransportService  
 
first_data_receiver_rank: 4  
 
mpi_buffer_count: 8  
 
max_fragment_size_words: 2097152  
 
data_receiver_count: 1 # 2

}
} 
daq: {
 
max_fragment_size_words: 2097152  
 
event_builder: {
 
mpi_buffer_count: 16  
 
first_fragment_receiver_rank: 0  
 
fragment_receiver_count: 2  
 
expected_fragments_per_event: 2  
 
use_art: true  
 
print_event_store_stats: true  
 
verbose: false  

} 
metrics: {
 
evbFile: {
 
metricPluginType: file  
 
level: 3  
 
fileName: "/tmp/eventbuilder/evb_%UID%_metrics.log"  
 
uniquify: true  

}
}
} 
outputs: {
 
rootMPIOutput: {
 
module_type: RootMPIOutput  
 
SelectEvents: {
 
SelectEvents: [pmod2, pmod3]  

}
}
} 
physics: {
 
analyzers: {

} 
producers: {

} 
filters: {
 
prescaleMod2: {
 
module_type: NthEvent  
 
nth: 2  

} 
prescaleMod3: {
 
module_type: NthEvent  
 
nth: 3  

}
} 
p1: []  
 
pmod2: [prescaleMod2]  
 
pmod3: [prescaleMod3]  
 
my_output_modules: [rootMPIOutput]  

} 
source: {
 
module_type: RawInput  
 
waiting_time: 2500000  
 
resume_after_timeout: true  
 
fragment_type_map: [[1, missed], [3, V1720], [4, V1724], [6, TOY1], [7, TOY2], [8, ASCII]]  

} 
process_name: DAQ  

<end of output>
Test time =   0.30 sec
----------------------------------------------------------
Test Passed.
"ManageConfigs_seeddata_filesystem_000_005_t" end time: May 12 17:27 CDT
"ManageConfigs_seeddata_filesystem_000_005_t" time elapsed: 00:00:00
----------------------------------------------------------

26/28 Testing: ManageConfigs_seeddata_mongo_000_005_t
26/28 Test: ManageConfigs_seeddata_mongo_000_005_t
Command: "/home/lukhanin/scratch/current/artdaq-demo-base/products/cetbuildtools/v4_18_02/bin/cet_exec_test" "--wd" "/home/lukhanin/scratch/current/artdaq-demo-base/build_artdaq-utilities-database/test/ConfigurationDB/ManageConfigs/test000/ManageConfigs_seeddata_mongo_000_005_t.d" "--required-files" "" "--datafiles" "/home/lukhanin/scratch/current/artdaq-demo-base/build_artdaq-utilities-database/test/ConfigurationDB/ManageConfigs/test000/test005.src.235.fcl;/home/lukhanin/scratch/current/artdaq-demo-base/build_artdaq-utilities-database/test/ConfigurationDB/ManageConfigs/test000/test005.cmp.235.fcl" "--skip-return-code" "247" "LoadStore_t" "-o" "store" "-d" "mongo" "-c" "testManageConfigs_eventbuilder" "-f" "fhicl" "-v" "versionA38114" "-g" "testConfigA03172016-174859" "-e" "test005" "-s" "test005.src.235.fcl" "-r" "test005.cmp.235.fcl"
Directory: /home/lukhanin/scratch/current/artdaq-demo-base/build_artdaq-utilities-database/test/ConfigurationDB/ManageConfigs/test000/ManageConfigs_seeddata_mongo_000_005_t.d
"ManageConfigs_seeddata_mongo_000_005_t" start time: May 12 17:27 CDT
Output:
----------------------------------------------------------
removed ‘test005.cmp.473.fcl’
removed ‘test005.src.473.fcl’
05-12 17:27:21.351130  1  0 artdaq::database::filesystem trace_enable
05-12 17:27:21.351301  1  0 artdaq::database::filesystem::index trace_enable
05-12 17:27:21.351367  1  0 artdaq::database::mongo trace_enable
05-12 17:27:21.351456  1  0 artdaq::database::configuration::LoadStoreOperation trace_enable
05-12 17:27:21.351506  1  0 artdaq::database::configuration::options::OperationBase trace_enable
05-12 17:27:21.351534  1  0 artdaq::database::configuration::options::OperationLoadStore trace_enable
05-12 17:27:21.351564  1  0 artdaq::database::configuration::LoadStoreOperationDetail trace_enable
05-12 17:27:21.353855  1 12 Options: Updating provider from filesystem to mongo.
05-12 17:27:21.353877  1 10 Options: Updating operation from load to store.
05-12 17:27:21.353888  1 14 Options: dataFormat args format=<fhicl>.
05-12 17:27:21.353905  1 11 Options: Updating collection_name from notprovided to testManageConfigs_eventbuilder.
05-12 17:27:21.353918  1 10 Options: Updating version from notprovided to versionA38114.
05-12 17:27:21.353933  1 11 Options: Updating entity from notprovided to test005.
05-12 17:27:21.353943  1 12 Options: Updating global_configuration from notprovided to testConfigA03172016-174859.
05-12 17:27:21.361952  1 12 Options: Updating provider from filesystem to mongo.
05-12 17:27:21.361997  1 10 Options: Updating operation from load to store.
05-12 17:27:21.362008  1 14 Options: dataFormat args format=<fhicl>.
05-12 17:27:21.362017  1 11 Options: Updating collection_name from notprovided to testManageConfigs_eventbuilder.
05-12 17:27:21.362222  1 15 Options: searchFilter args search_filter=<{
"version" : "versionA38114",
"configurable_entity.name" : "test005",
"configurations.name" : "testConfigA03172016-174859"
}>.
05-12 17:27:21.362563  1 15 Options: searchFilter args search_filter=<notprovided>.
05-12 17:27:21.362593  1 10 Options: Updating version from notprovided to versionA38114.
05-12 17:27:21.362605  1 11 Options: Updating entity from notprovided to test005.
05-12 17:27:21.362615  1 12 Options: Updating global_configuration from notprovided to testConfigA03172016-174859.
05-12 17:27:21.362635  1 15 store_configuration: begin
05-12 17:27:21.497523  1 17 store_configuration: Converted json data to fcl; json=<{
"document" : {
"data" : {
"prolog" : {

},
"main" : {
"services" : {
"scheduler" : {
"fileMode" : "NOMERGE",
"errorOnFailureToPut" : false
},
"NetMonTransportServiceInterface" : {
"service_provider" : "NetMonTransportService",
"first_data_receiver_rank" : 4,
"mpi_buffer_count" : 8,
"max_fragment_size_words" : 2097152,
"data_receiver_count" : 1
}
},
"daq" : {
"max_fragment_size_words" : 2097152,
"event_builder" : {
"mpi_buffer_count" : 16,
"first_fragment_receiver_rank" : 0,
"fragment_receiver_count" : 2,
"expected_fragments_per_event" : 2,
"use_art" : true,
"print_event_store_stats" : true,
"verbose" : false
},
"metrics" : {
"evbFile" : {
"metricPluginType" : "file",
"level" : 3,
"fileName" : "/tmp/eventbuilder/evb_%UID%_metrics.log",
"uniquify" : true
}
}
},
"outputs" : {
"rootMPIOutput" : {
"module_type" : "RootMPIOutput",
"SelectEvents" : {
"SelectEvents" : [
"pmod2",
"pmod3"
]
}
}
},
"physics" : {
"analyzers" : {

},
"producers" : {

},
"filters" : {
"prescaleMod2" : {
"module_type" : "NthEvent",
"nth" : 2
},
"prescaleMod3" : {
"module_type" : "NthEvent",
"nth" : 3
}
},
"p1" : [

],
"pmod2" : [
"prescaleMod2"
],
"pmod3" : [
"prescaleMod3"
],
"my_output_modules" : [
"rootMPIOutput"
]
},
"source" : {
"module_type" : "RawInput",
"waiting_time" : 2500000,
"resume_after_timeout" : true,
"fragment_type_map" : [
[
1,
"missed"
],
[
3,
"V1720"
],
[
4,
"V1724"
],
[
6,
"TOY1"
],
[
7,
"TOY2"
],
[
8,
"ASCII"
]
]
},
"process_name" : "DAQ"
}
},
"metadata" : {
"prolog" : {

},
"main" : {
"services" : {
"type" : "table",
"comment" : " ",
"children" : {
"scheduler" : {
"type" : "table",
"comment" : " ",
"children" : {
"fileMode" : {
"type" : "string",
"comment" : " ",
"annotation" : " "
},
"errorOnFailureToPut" : {
"type" : "bool",
"comment" : " ",
"annotation" : " "
}
}
},
"NetMonTransportServiceInterface" : {
"type" : "table",
"comment" : " ",
"children" : {
"service_provider" : {
"type" : "string",
"comment" : " ",
"annotation" : " "
},
"first_data_receiver_rank" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"mpi_buffer_count" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"max_fragment_size_words" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"data_receiver_count" : {
"type" : "number",
"comment" : " ",
"annotation" : "# 2"
}
}
}
}
},
"daq" : {
"type" : "table",
"comment" : " ",
"children" : {
"max_fragment_size_words" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"event_builder" : {
"type" : "table",
"comment" : " ",
"children" : {
"mpi_buffer_count" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"first_fragment_receiver_rank" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"fragment_receiver_count" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"expected_fragments_per_event" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"use_art" : {
"type" : "bool",
"comment" : " ",
"annotation" : " "
},
"print_event_store_stats" : {
"type" : "bool",
"comment" : " ",
"annotation" : " "
},
"verbose" : {
"type" : "bool",
"comment" : " ",
"annotation" : " "
}
}
},
"metrics" : {
"type" : "table",
"comment" : " ",
"children" : {
"evbFile" : {
"type" : "table",
"comment" : " ",
"children" : {
"metricPluginType" : {
"type" : "string",
"comment" : " ",
"annotation" : " "
},
"level" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"fileName" : {
"type" : "string",
"comment" : " ",
"annotation" : " "
},
"uniquify" : {
"type" : "bool",
"comment" : " ",
"annotation" : " "
}
}
}
}
}
}
},
"outputs" : {
"type" : "table",
"comment" : " ",
"children" : {
"rootMPIOutput" : {
"type" : "table",
"comment" : " ",
"children" : {
"module_type" : {
"type" : "string",
"comment" : " ",
"annotation" : " "
},
"SelectEvents" : {
"type" : "table",
"comment" : " ",
"children" : {
"SelectEvents" : {
"type" : "sequence",
"comment" : " ",
"annotation" : " "
}
}
}
}
}
}
},
"physics" : {
"type" : "table",
"comment" : " ",
"children" : {
"analyzers" : {
"type" : "
05-12 17:27:21.497681  1 17 store_configuration: Converted json data to fcl; fcl=< 
services: {
 
scheduler: {
 
fileMode: NOMERGE  
 
errorOnFailureToPut: false  

} 
NetMonTransportServiceInterface: {
 
service_provider: NetMonTransportService  
 
first_data_receiver_rank: 4  
 
mpi_buffer_count: 8  
 
max_fragment_size_words: 2097152  
 
data_receiver_count: 1 # 2

}
} 
daq: {
 
max_fragment_size_words: 2097152  
 
event_builder: {
 
mpi_buffer_count: 16  
 
first_fragment_receiver_rank: 0  
 
fragment_receiver_count: 2  
 
expected_fragments_per_event: 2  
 
use_art: true  
 
print_event_store_stats: true  
 
verbose: false  

} 
metrics: {
 
evbFile: {
 
metricPluginType: file  
 
level: 3  
 
fileName: "/tmp/eventbuilder/evb_%UID%_metrics.log"  
 
uniquify: true  

}
}
} 
outputs: {
 
rootMPIOutput: {
 
module_type: RootMPIOutput  
 
SelectEvents: {
 
SelectEvents: [pmod2, pmod3]  

}
}
} 
physics: {
 
analyzers: {

} 
producers: {

} 
filters: {
 
prescaleMod2: {
 
module_type: NthEvent  
 
nth: 2  

} 
prescaleMod3: {
 
module_type: NthEvent  
 
nth: 3  

}
} 
p1: []  
 
pmod2: [prescaleMod2]  
 
pmod3: [prescaleMod3]  
 
my_output_modules: [rootMPIOutput]  

} 
source: {
 
module_type: RawInput  
 
waiting_time: 2500000  
 
resume_after_timeout: true  
 
fragment_type_map: [[1, missed], [3, V1720], [4, V1724], [6, TOY1], [7, TOY2], [8, ASCII]]  

} 
process_name: DAQ  
>
05-12 17:27:21.497720  1 15 store_configuration: json_buffer=<{
"document" : {
"data" : {
"prolog" : {

},
"main" : {
"services" : {
"scheduler" : {
"fileMode" : "NOMERGE",
"errorOnFailureToPut" : false
},
"NetMonTransportServiceInterface" : {
"service_provider" : "NetMonTransportService",
"first_data_receiver_rank" : 4,
"mpi_buffer_count" : 8,
"max_fragment_size_words" : 2097152,
"data_receiver_count" : 1
}
},
"daq" : {
"max_fragment_size_words" : 2097152,
"event_builder" : {
"mpi_buffer_count" : 16,
"first_fragment_receiver_rank" : 0,
"fragment_receiver_count" : 2,
"expected_fragments_per_event" : 2,
"use_art" : true,
"print_event_store_stats" : true,
"verbose" : false
},
"metrics" : {
"evbFile" : {
"metricPluginType" : "file",
"level" : 3,
"fileName" : "/tmp/eventbuilder/evb_%UID%_metrics.log",
"uniquify" : true
}
}
},
"outputs" : {
"rootMPIOutput" : {
"module_type" : "RootMPIOutput",
"SelectEvents" : {
"SelectEvents" : [
"pmod2",
"pmod3"
]
}
}
},
"physics" : {
"analyzers" : {

},
"producers" : {

},
"filters" : {
"prescaleMod2" : {
"module_type" : "NthEvent",
"nth" : 2
},
"prescaleMod3" : {
"module_type" : "NthEvent",
"nth" : 3
}
},
"p1" : [

],
"pmod2" : [
"prescaleMod2"
],
"pmod3" : [
"prescaleMod3"
],
"my_output_modules" : [
"rootMPIOutput"
]
},
"source" : {
"module_type" : "RawInput",
"waiting_time" : 2500000,
"resume_after_timeout" : true,
"fragment_type_map" : [
[
1,
"missed"
],
[
3,
"V1720"
],
[
4,
"V1724"
],
[
6,
"TOY1"
],
[
7,
"TOY2"
],
[
8,
"ASCII"
]
]
},
"process_name" : "DAQ"
}
},
"metadata" : {
"prolog" : {

},
"main" : {
"services" : {
"type" : "table",
"comment" : " ",
"children" : {
"scheduler" : {
"type" : "table",
"comment" : " ",
"children" : {
"fileMode" : {
"type" : "string",
"comment" : " ",
"annotation" : " "
},
"errorOnFailureToPut" : {
"type" : "bool",
"comment" : " ",
"annotation" : " "
}
}
},
"NetMonTransportServiceInterface" : {
"type" : "table",
"comment" : " ",
"children" : {
"service_provider" : {
"type" : "string",
"comment" : " ",
"annotation" : " "
},
"first_data_receiver_rank" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"mpi_buffer_count" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"max_fragment_size_words" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"data_receiver_count" : {
"type" : "number",
"comment" : " ",
"annotation" : "# 2"
}
}
}
}
},
"daq" : {
"type" : "table",
"comment" : " ",
"children" : {
"max_fragment_size_words" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"event_builder" : {
"type" : "table",
"comment" : " ",
"children" : {
"mpi_buffer_count" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"first_fragment_receiver_rank" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"fragment_receiver_count" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"expected_fragments_per_event" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"use_art" : {
"type" : "bool",
"comment" : " ",
"annotation" : " "
},
"print_event_store_stats" : {
"type" : "bool",
"comment" : " ",
"annotation" : " "
},
"verbose" : {
"type" : "bool",
"comment" : " ",
"annotation" : " "
}
}
},
"metrics" : {
"type" : "table",
"comment" : " ",
"children" : {
"evbFile" : {
"type" : "table",
"comment" : " ",
"children" : {
"metricPluginType" : {
"type" : "string",
"comment" : " ",
"annotation" : " "
},
"level" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"fileName" : {
"type" : "string",
"comment" : " ",
"annotation" : " "
},
"uniquify" : {
"type" : "bool",
"comment" : " ",
"annotation" : " "
}
}
}
}
}
}
},
"outputs" : {
"type" : "table",
"comment" : " ",
"children" : {
"rootMPIOutput" : {
"type" : "table",
"comment" : " ",
"children" : {
"module_type" : {
"type" : "string",
"comment" : " ",
"annotation" : " "
},
"SelectEvents" : {
"type" : "table",
"comment" : " ",
"children" : {
"SelectEvents" : {
"type" : "sequence",
"comment" : " ",
"annotation" : " "
}
}
}
}
}
}
},
"physics" : {
"type" : "table",
"comment" : " ",
"children" : {
"analyzers" : {
"type" : "table",
"comment" : "
05-12 17:27:21.513066  1 15 store_configuration: insert_payload=<{"document":{
    "document" : {
        "data" : {
            "prolog" : {

            }, 
            "main" : {
                "services" : {
                    "scheduler" : {
                        "fileMode" : "NOMERGE", 
                        "errorOnFailureToPut" : false
                    }, 
                    "NetMonTransportServiceInterface" : {
                        "service_provider" : "NetMonTransportService", 
                        "first_data_receiver_rank" : 4, 
                        "mpi_buffer_count" : 8, 
                        "max_fragment_size_words" : 2097152, 
                        "data_receiver_count" : 1
                    }
                }, 
                "daq" : {
                    "max_fragment_size_words" : 2097152, 
                    "event_builder" : {
                        "mpi_buffer_count" : 16, 
                        "first_fragment_receiver_rank" : 0, 
                        "fragment_receiver_count" : 2, 
                        "expected_fragments_per_event" : 2, 
                        "use_art" : true, 
                        "print_event_store_stats" : true, 
                        "verbose" : false
                    }, 
                    "metrics" : {
                        "evbFile" : {
                            "metricPluginType" : "file", 
                            "level" : 3, 
                            "fileName" : "/tmp/eventbuilder/evb_%UID%_metrics.log", 
                            "uniquify" : true
                        }
                    }
                }, 
                "outputs" : {
                    "rootMPIOutput" : {
                        "module_type" : "RootMPIOutput", 
                        "SelectEvents" : {
                            "SelectEvents" : [
                                "pmod2", 
                                "pmod3"
                            ]
                        }
                    }
                }, 
                "physics" : {
                    "analyzers" : {

                    }, 
                    "producers" : {

                    }, 
                    "filters" : {
                        "prescaleMod2" : {
                            "module_type" : "NthEvent", 
                            "nth" : 2
                        }, 
                        "prescaleMod3" : {
                            "module_type" : "NthEvent", 
                            "nth" : 3
                        }
                    }, 
                    "p1" : [

                    ], 
                    "pmod2" : [
                        "prescaleMod2"
                    ], 
                    "pmod3" : [
                        "prescaleMod3"
                    ], 
                    "my_output_modules" : [
                        "rootMPIOutput"
                    ]
                }, 
                "source" : {
                    "module_type" : "RawInput", 
                    "waiting_time" : 2500000, 
                    "resume_after_timeout" : true, 
                    "fragment_type_map" : [
                        [
                            1, 
                            "missed"
                        ], 
                        [
                            3, 
                            "V1720"
                        ], 
                        [
                            4, 
                            "V1724"
                        ], 
                        [
                            6, 
                            "TOY1"
                        ], 
                        [
                            7, 
                            "TOY2"
                        ], 
                        [
                            8, 
                            "ASCII"
                        ]
                    ]
                }, 
                "process_name" : "DAQ"
            }
        }, 
        "metadata" : {
            "prolog" : {

            }, 
        
05-12 17:27:21.513927  1  4 StorageProvider::MongoDB::store() begin
05-12 17:27:21.514350  1  4 Search filter is missing, proceeding with insert.
05-12 17:27:21.527736  1  5 inserted_id={
    "$oid" : "573503491a72ba511170af01"
}
05-12 17:27:21.528046  1 15 store_configuration: end
Parsed options:
{
"filter" : {
"version" : "versionA38114",
"configurable_entity.name" : "test005",
"configurations.name" : "testConfigA03172016-174859"
},
"dbprovider" : "mongo",
"operation" : "store",
"collection" : "testManageConfigs_eventbuilder",
"dataformat" : "fhicl",
"configuration" : "testConfigA03172016-174859"
}
Running test:<store>
returned:
 
services: {
 
scheduler: {
 
fileMode: NOMERGE  
 
errorOnFailureToPut: false  

} 
NetMonTransportServiceInterface: {
 
service_provider: NetMonTransportService  
 
first_data_receiver_rank: 4  
 
mpi_buffer_count: 8  
 
max_fragment_size_words: 2097152  
 
data_receiver_count: 1 # 2

}
} 
daq: {
 
max_fragment_size_words: 2097152  
 
event_builder: {
 
mpi_buffer_count: 16  
 
first_fragment_receiver_rank: 0  
 
fragment_receiver_count: 2  
 
expected_fragments_per_event: 2  
 
use_art: true  
 
print_event_store_stats: true  
 
verbose: false  

} 
metrics: {
 
evbFile: {
 
metricPluginType: file  
 
level: 3  
 
fileName: "/tmp/eventbuilder/evb_%UID%_metrics.log"  
 
uniquify: true  

}
}
} 
outputs: {
 
rootMPIOutput: {
 
module_type: RootMPIOutput  
 
SelectEvents: {
 
SelectEvents: [pmod2, pmod3]  

}
}
} 
physics: {
 
analyzers: {

} 
producers: {

} 
filters: {
 
prescaleMod2: {
 
module_type: NthEvent  
 
nth: 2  

} 
prescaleMod3: {
 
module_type: NthEvent  
 
nth: 3  

}
} 
p1: []  
 
pmod2: [prescaleMod2]  
 
pmod3: [prescaleMod3]  
 
my_output_modules: [rootMPIOutput]  

} 
source: {
 
module_type: RawInput  
 
waiting_time: 2500000  
 
resume_after_timeout: true  
 
fragment_type_map: [[1, missed], [3, V1720], [4, V1724], [6, TOY1], [7, TOY2], [8, ASCII]]  

} 
process_name: DAQ  

<end of output>
Test time =   0.22 sec
----------------------------------------------------------
Test Passed.
"ManageConfigs_seeddata_mongo_000_005_t" end time: May 12 17:27 CDT
"ManageConfigs_seeddata_mongo_000_005_t" time elapsed: 00:00:00
----------------------------------------------------------

27/28 Testing: ManageConfigs_seeddata_filesystem_000_006_t
27/28 Test: ManageConfigs_seeddata_filesystem_000_006_t
Command: "/home/lukhanin/scratch/current/artdaq-demo-base/products/cetbuildtools/v4_18_02/bin/cet_exec_test" "--wd" "/home/lukhanin/scratch/current/artdaq-demo-base/build_artdaq-utilities-database/test/ConfigurationDB/ManageConfigs/test000/ManageConfigs_seeddata_filesystem_000_006_t.d" "--required-files" "" "--datafiles" "/home/lukhanin/scratch/current/artdaq-demo-base/build_artdaq-utilities-database/test/ConfigurationDB/ManageConfigs/test000/test006.src.638.fcl;/home/lukhanin/scratch/current/artdaq-demo-base/build_artdaq-utilities-database/test/ConfigurationDB/ManageConfigs/test000/test006.cmp.638.fcl" "--skip-return-code" "247" "LoadStore_t" "-o" "store" "-d" "filesystem" "-c" "testManageConfigs_eventbuilder" "-f" "fhicl" "-v" "versionA38114" "-g" "testConfigA03172016-174859" "-e" "test006" "-s" "test006.src.638.fcl" "-r" "test006.cmp.638.fcl"
Directory: /home/lukhanin/scratch/current/artdaq-demo-base/build_artdaq-utilities-database/test/ConfigurationDB/ManageConfigs/test000/ManageConfigs_seeddata_filesystem_000_006_t.d
"ManageConfigs_seeddata_filesystem_000_006_t" start time: May 12 17:27 CDT
Output:
----------------------------------------------------------
removed ‘test006.cmp.564.fcl’
removed ‘test006.src.564.fcl’
05-12 17:27:21.600056  1  0 artdaq::database::filesystem trace_enable
05-12 17:27:21.600339  1  0 artdaq::database::filesystem::index trace_enable
05-12 17:27:21.600496  1  0 artdaq::database::mongo trace_enable
05-12 17:27:21.600646  1  0 artdaq::database::configuration::LoadStoreOperation trace_enable
05-12 17:27:21.600744  1  0 artdaq::database::configuration::options::OperationBase trace_enable
05-12 17:27:21.600816  1  0 artdaq::database::configuration::options::OperationLoadStore trace_enable
05-12 17:27:21.600879  1  0 artdaq::database::configuration::LoadStoreOperationDetail trace_enable
05-12 17:27:21.605355  1 12 Options: Updating provider from filesystem to filesystem.
05-12 17:27:21.605411  1 10 Options: Updating operation from load to store.
05-12 17:27:21.605445  1 14 Options: dataFormat args format=<fhicl>.
05-12 17:27:21.605497  1 11 Options: Updating collection_name from notprovided to testManageConfigs_eventbuilder.
05-12 17:27:21.605543  1 10 Options: Updating version from notprovided to versionA38114.
05-12 17:27:21.605585  1 11 Options: Updating entity from notprovided to test006.
05-12 17:27:21.605621  1 12 Options: Updating global_configuration from notprovided to testConfigA03172016-174859.
05-12 17:27:21.617598  1 12 Options: Updating provider from filesystem to filesystem.
05-12 17:27:21.617633  1 10 Options: Updating operation from load to store.
05-12 17:27:21.617647  1 14 Options: dataFormat args format=<fhicl>.
05-12 17:27:21.617659  1 11 Options: Updating collection_name from notprovided to testManageConfigs_eventbuilder.
05-12 17:27:21.617928  1 15 Options: searchFilter args search_filter=<{
"version" : "versionA38114",
"configurable_entity.name" : "test006",
"configurations.name" : "testConfigA03172016-174859"
}>.
05-12 17:27:21.618449  1 15 Options: searchFilter args search_filter=<notprovided>.
05-12 17:27:21.618477  1 10 Options: Updating version from notprovided to versionA38114.
05-12 17:27:21.618496  1 11 Options: Updating entity from notprovided to test006.
05-12 17:27:21.618509  1 12 Options: Updating global_configuration from notprovided to testConfigA03172016-174859.
05-12 17:27:21.618534  1 15 store_configuration: begin
05-12 17:27:21.781371  1 17 store_configuration: Converted json data to fcl; json=<{
"document" : {
"data" : {
"prolog" : {

},
"main" : {
"services" : {
"scheduler" : {
"fileMode" : "NOMERGE",
"errorOnFailureToPut" : false
},
"NetMonTransportServiceInterface" : {
"service_provider" : "NetMonTransportService",
"first_data_receiver_rank" : 4,
"mpi_buffer_count" : 8,
"max_fragment_size_words" : 2097152,
"data_receiver_count" : 1
}
},
"daq" : {
"max_fragment_size_words" : 2097152,
"event_builder" : {
"mpi_buffer_count" : 16,
"first_fragment_receiver_rank" : 0,
"fragment_receiver_count" : 2,
"expected_fragments_per_event" : 2,
"use_art" : true,
"print_event_store_stats" : true,
"verbose" : false
},
"metrics" : {
"evbFile" : {
"metricPluginType" : "file",
"level" : 3,
"fileName" : "/tmp/eventbuilder/evb_%UID%_metrics.log",
"uniquify" : true
}
}
},
"outputs" : {
"rootMPIOutput" : {
"module_type" : "RootMPIOutput",
"SelectEvents" : {
"SelectEvents" : [
"pmod2",
"pmod3"
]
}
}
},
"physics" : {
"analyzers" : {

},
"producers" : {

},
"filters" : {
"prescaleMod2" : {
"module_type" : "NthEvent",
"nth" : 2
},
"prescaleMod3" : {
"module_type" : "NthEvent",
"nth" : 3
}
},
"p1" : [

],
"pmod2" : [
"prescaleMod2"
],
"pmod3" : [
"prescaleMod3"
],
"my_output_modules" : [
"rootMPIOutput"
]
},
"source" : {
"module_type" : "RawInput",
"waiting_time" : 2500000,
"resume_after_timeout" : true,
"fragment_type_map" : [
[
1,
"missed"
],
[
3,
"V1720"
],
[
4,
"V1724"
],
[
6,
"TOY1"
],
[
7,
"TOY2"
],
[
8,
"ASCII"
]
]
},
"process_name" : "DAQ"
}
},
"metadata" : {
"prolog" : {

},
"main" : {
"services" : {
"type" : "table",
"comment" : " ",
"children" : {
"scheduler" : {
"type" : "table",
"comment" : " ",
"children" : {
"fileMode" : {
"type" : "string",
"comment" : " ",
"annotation" : " "
},
"errorOnFailureToPut" : {
"type" : "bool",
"comment" : " ",
"annotation" : " "
}
}
},
"NetMonTransportServiceInterface" : {
"type" : "table",
"comment" : " ",
"children" : {
"service_provider" : {
"type" : "string",
"comment" : " ",
"annotation" : " "
},
"first_data_receiver_rank" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"mpi_buffer_count" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"max_fragment_size_words" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"data_receiver_count" : {
"type" : "number",
"comment" : " ",
"annotation" : "# 2"
}
}
}
}
},
"daq" : {
"type" : "table",
"comment" : " ",
"children" : {
"max_fragment_size_words" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"event_builder" : {
"type" : "table",
"comment" : " ",
"children" : {
"mpi_buffer_count" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"first_fragment_receiver_rank" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"fragment_receiver_count" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"expected_fragments_per_event" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"use_art" : {
"type" : "bool",
"comment" : " ",
"annotation" : " "
},
"print_event_store_stats" : {
"type" : "bool",
"comment" : " ",
"annotation" : " "
},
"verbose" : {
"type" : "bool",
"comment" : " ",
"annotation" : " "
}
}
},
"metrics" : {
"type" : "table",
"comment" : " ",
"children" : {
"evbFile" : {
"type" : "table",
"comment" : " ",
"children" : {
"metricPluginType" : {
"type" : "string",
"comment" : " ",
"annotation" : " "
},
"level" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"fileName" : {
"type" : "string",
"comment" : " ",
"annotation" : " "
},
"uniquify" : {
"type" : "bool",
"comment" : " ",
"annotation" : " "
}
}
}
}
}
}
},
"outputs" : {
"type" : "table",
"comment" : " ",
"children" : {
"rootMPIOutput" : {
"type" : "table",
"comment" : " ",
"children" : {
"module_type" : {
"type" : "string",
"comment" : " ",
"annotation" : " "
},
"SelectEvents" : {
"type" : "table",
"comment" : " ",
"children" : {
"SelectEvents" : {
"type" : "sequence",
"comment" : " ",
"annotation" : " "
}
}
}
}
}
}
},
"physics" : {
"type" : "table",
"comment" : " ",
"children" : {
"analyzers" : {
"type" : "
05-12 17:27:21.781523  1 17 store_configuration: Converted json data to fcl; fcl=< 
services: {
 
scheduler: {
 
fileMode: NOMERGE  
 
errorOnFailureToPut: false  

} 
NetMonTransportServiceInterface: {
 
service_provider: NetMonTransportService  
 
first_data_receiver_rank: 4  
 
mpi_buffer_count: 8  
 
max_fragment_size_words: 2097152  
 
data_receiver_count: 1 # 2

}
} 
daq: {
 
max_fragment_size_words: 2097152  
 
event_builder: {
 
mpi_buffer_count: 16  
 
first_fragment_receiver_rank: 0  
 
fragment_receiver_count: 2  
 
expected_fragments_per_event: 2  
 
use_art: true  
 
print_event_store_stats: true  
 
verbose: false  

} 
metrics: {
 
evbFile: {
 
metricPluginType: file  
 
level: 3  
 
fileName: "/tmp/eventbuilder/evb_%UID%_metrics.log"  
 
uniquify: true  

}
}
} 
outputs: {
 
rootMPIOutput: {
 
module_type: RootMPIOutput  
 
SelectEvents: {
 
SelectEvents: [pmod2, pmod3]  

}
}
} 
physics: {
 
analyzers: {

} 
producers: {

} 
filters: {
 
prescaleMod2: {
 
module_type: NthEvent  
 
nth: 2  

} 
prescaleMod3: {
 
module_type: NthEvent  
 
nth: 3  

}
} 
p1: []  
 
pmod2: [prescaleMod2]  
 
pmod3: [prescaleMod3]  
 
my_output_modules: [rootMPIOutput]  

} 
source: {
 
module_type: RawInput  
 
waiting_time: 2500000  
 
resume_after_timeout: true  
 
fragment_type_map: [[1, missed], [3, V1720], [4, V1724], [6, TOY1], [7, TOY2], [8, ASCII]]  

} 
process_name: DAQ  
>
05-12 17:27:21.781558  1 15 store_configuration: json_buffer=<{
"document" : {
"data" : {
"prolog" : {

},
"main" : {
"services" : {
"scheduler" : {
"fileMode" : "NOMERGE",
"errorOnFailureToPut" : false
},
"NetMonTransportServiceInterface" : {
"service_provider" : "NetMonTransportService",
"first_data_receiver_rank" : 4,
"mpi_buffer_count" : 8,
"max_fragment_size_words" : 2097152,
"data_receiver_count" : 1
}
},
"daq" : {
"max_fragment_size_words" : 2097152,
"event_builder" : {
"mpi_buffer_count" : 16,
"first_fragment_receiver_rank" : 0,
"fragment_receiver_count" : 2,
"expected_fragments_per_event" : 2,
"use_art" : true,
"print_event_store_stats" : true,
"verbose" : false
},
"metrics" : {
"evbFile" : {
"metricPluginType" : "file",
"level" : 3,
"fileName" : "/tmp/eventbuilder/evb_%UID%_metrics.log",
"uniquify" : true
}
}
},
"outputs" : {
"rootMPIOutput" : {
"module_type" : "RootMPIOutput",
"SelectEvents" : {
"SelectEvents" : [
"pmod2",
"pmod3"
]
}
}
},
"physics" : {
"analyzers" : {

},
"producers" : {

},
"filters" : {
"prescaleMod2" : {
"module_type" : "NthEvent",
"nth" : 2
},
"prescaleMod3" : {
"module_type" : "NthEvent",
"nth" : 3
}
},
"p1" : [

],
"pmod2" : [
"prescaleMod2"
],
"pmod3" : [
"prescaleMod3"
],
"my_output_modules" : [
"rootMPIOutput"
]
},
"source" : {
"module_type" : "RawInput",
"waiting_time" : 2500000,
"resume_after_timeout" : true,
"fragment_type_map" : [
[
1,
"missed"
],
[
3,
"V1720"
],
[
4,
"V1724"
],
[
6,
"TOY1"
],
[
7,
"TOY2"
],
[
8,
"ASCII"
]
]
},
"process_name" : "DAQ"
}
},
"metadata" : {
"prolog" : {

},
"main" : {
"services" : {
"type" : "table",
"comment" : " ",
"children" : {
"scheduler" : {
"type" : "table",
"comment" : " ",
"children" : {
"fileMode" : {
"type" : "string",
"comment" : " ",
"annotation" : " "
},
"errorOnFailureToPut" : {
"type" : "bool",
"comment" : " ",
"annotation" : " "
}
}
},
"NetMonTransportServiceInterface" : {
"type" : "table",
"comment" : " ",
"children" : {
"service_provider" : {
"type" : "string",
"comment" : " ",
"annotation" : " "
},
"first_data_receiver_rank" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"mpi_buffer_count" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"max_fragment_size_words" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"data_receiver_count" : {
"type" : "number",
"comment" : " ",
"annotation" : "# 2"
}
}
}
}
},
"daq" : {
"type" : "table",
"comment" : " ",
"children" : {
"max_fragment_size_words" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"event_builder" : {
"type" : "table",
"comment" : " ",
"children" : {
"mpi_buffer_count" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"first_fragment_receiver_rank" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"fragment_receiver_count" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"expected_fragments_per_event" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"use_art" : {
"type" : "bool",
"comment" : " ",
"annotation" : " "
},
"print_event_store_stats" : {
"type" : "bool",
"comment" : " ",
"annotation" : " "
},
"verbose" : {
"type" : "bool",
"comment" : " ",
"annotation" : " "
}
}
},
"metrics" : {
"type" : "table",
"comment" : " ",
"children" : {
"evbFile" : {
"type" : "table",
"comment" : " ",
"children" : {
"metricPluginType" : {
"type" : "string",
"comment" : " ",
"annotation" : " "
},
"level" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"fileName" : {
"type" : "string",
"comment" : " ",
"annotation" : " "
},
"uniquify" : {
"type" : "bool",
"comment" : " ",
"annotation" : " "
}
}
}
}
}
}
},
"outputs" : {
"type" : "table",
"comment" : " ",
"children" : {
"rootMPIOutput" : {
"type" : "table",
"comment" : " ",
"children" : {
"module_type" : {
"type" : "string",
"comment" : " ",
"annotation" : " "
},
"SelectEvents" : {
"type" : "table",
"comment" : " ",
"children" : {
"SelectEvents" : {
"type" : "sequence",
"comment" : " ",
"annotation" : " "
}
}
}
}
}
}
},
"physics" : {
"type" : "table",
"comment" : " ",
"children" : {
"analyzers" : {
"type" : "table",
"comment" : "
05-12 17:27:21.797089  1 15 store_configuration: insert_payload=<{"document":{
    "document" : {
        "data" : {
            "prolog" : {

            }, 
            "main" : {
                "services" : {
                    "scheduler" : {
                        "fileMode" : "NOMERGE", 
                        "errorOnFailureToPut" : false
                    }, 
                    "NetMonTransportServiceInterface" : {
                        "service_provider" : "NetMonTransportService", 
                        "first_data_receiver_rank" : 4, 
                        "mpi_buffer_count" : 8, 
                        "max_fragment_size_words" : 2097152, 
                        "data_receiver_count" : 1
                    }
                }, 
                "daq" : {
                    "max_fragment_size_words" : 2097152, 
                    "event_builder" : {
                        "mpi_buffer_count" : 16, 
                        "first_fragment_receiver_rank" : 0, 
                        "fragment_receiver_count" : 2, 
                        "expected_fragments_per_event" : 2, 
                        "use_art" : true, 
                        "print_event_store_stats" : true, 
                        "verbose" : false
                    }, 
                    "metrics" : {
                        "evbFile" : {
                            "metricPluginType" : "file", 
                            "level" : 3, 
                            "fileName" : "/tmp/eventbuilder/evb_%UID%_metrics.log", 
                            "uniquify" : true
                        }
                    }
                }, 
                "outputs" : {
                    "rootMPIOutput" : {
                        "module_type" : "RootMPIOutput", 
                        "SelectEvents" : {
                            "SelectEvents" : [
                                "pmod2", 
                                "pmod3"
                            ]
                        }
                    }
                }, 
                "physics" : {
                    "analyzers" : {

                    }, 
                    "producers" : {

                    }, 
                    "filters" : {
                        "prescaleMod2" : {
                            "module_type" : "NthEvent", 
                            "nth" : 2
                        }, 
                        "prescaleMod3" : {
                            "module_type" : "NthEvent", 
                            "nth" : 3
                        }
                    }, 
                    "p1" : [

                    ], 
                    "pmod2" : [
                        "prescaleMod2"
                    ], 
                    "pmod3" : [
                        "prescaleMod3"
                    ], 
                    "my_output_modules" : [
                        "rootMPIOutput"
                    ]
                }, 
                "source" : {
                    "module_type" : "RawInput", 
                    "waiting_time" : 2500000, 
                    "resume_after_timeout" : true, 
                    "fragment_type_map" : [
                        [
                            1, 
                            "missed"
                        ], 
                        [
                            3, 
                            "V1720"
                        ], 
                        [
                            4, 
                            "V1724"
                        ], 
                        [
                            6, 
                            "TOY1"
                        ], 
                        [
                            7, 
                            "TOY2"
                        ], 
                        [
                            8, 
                            "ASCII"
                        ]
                    ]
                }, 
                "process_name" : "DAQ"
            }
        }, 
        "metadata" : {
            "prolog" : {

            }, 
        
05-12 17:27:21.797460  1  4 StorageProvider::FileSystemDB::store() begin
05-12 17:27:21.797565  1  4 StorageProvider::FileSystemDB::store() args data=<{"document":{
    "document" : {
        "data" : {
            "prolog" : {

            }, 
            "main" : {
                "services" : {
                    "scheduler" : {
                        "fileMode" : "NOMERGE", 
                        "errorOnFailureToPut" : false
                    }, 
                    "NetMonTransportServiceInterface" : {
                        "service_provider" : "NetMonTransportService", 
                        "first_data_receiver_rank" : 4, 
                        "mpi_buffer_count" : 8, 
                        "max_fragment_size_words" : 2097152, 
                        "data_receiver_count" : 1
                    }
                }, 
                "daq" : {
                    "max_fragment_size_words" : 2097152, 
                    "event_builder" : {
                        "mpi_buffer_count" : 16, 
                        "first_fragment_receiver_rank" : 0, 
                        "fragment_receiver_count" : 2, 
                        "expected_fragments_per_event" : 2, 
                        "use_art" : true, 
                        "print_event_store_stats" : true, 
                        "verbose" : false
                    }, 
                    "metrics" : {
                        "evbFile" : {
                            "metricPluginType" : "file", 
                            "level" : 3, 
                            "fileName" : "/tmp/eventbuilder/evb_%UID%_metrics.log", 
                            "uniquify" : true
                        }
                    }
                }, 
                "outputs" : {
                    "rootMPIOutput" : {
                        "module_type" : "RootMPIOutput", 
                        "SelectEvents" : {
                            "SelectEvents" : [
                                "pmod2", 
                                "pmod3"
                            ]
                        }
                    }
                }, 
                "physics" : {
                    "analyzers" : {

                    }, 
                    "producers" : {

                    }, 
                    "filters" : {
                        "prescaleMod2" : {
                            "module_type" : "NthEvent", 
                            "nth" : 2
                        }, 
                        "prescaleMod3" : {
                            "module_type" : "NthEvent", 
                            "nth" : 3
                        }
                    }, 
                    "p1" : [

                    ], 
                    "pmod2" : [
                        "prescaleMod2"
                    ], 
                    "pmod3" : [
                        "prescaleMod3"
                    ], 
                    "my_output_modules" : [
                        "rootMPIOutput"
                    ]
                }, 
                "source" : {
                    "module_type" : "RawInput", 
                    "waiting_time" : 2500000, 
                    "resume_after_timeout" : true, 
                    "fragment_type_map" : [
                        [
                            1, 
                            "missed"
                        ], 
                        [
                            3, 
                            "V1720"
                        ], 
                        [
                            4, 
                            "V1724"
                        ], 
                        [
                            6, 
                            "TOY1"
                        ], 
                        [
                            7, 
                            "TOY2"
                        ], 
                        [
                            8, 
                            "ASCII"
                        ]
                    ]
                }, 
                "process_name" : "DAQ"
            }
        }, 
        "metadata" : {
            "prolog" : {

           
05-12 17:27:21.801164  1 12 StorageProvider::FileSystemDB generate_oid=e323723b7e4546d7a7d812cc
05-12 17:27:21.804230  1  4 StorageProvider::FileSystemDB::store() using generated oid=<e323723b7e4546d7a7d812cc>.
05-12 17:27:21.804275  1  4 StorageProvider::FileSystemDB::store() collection_path=<file:///home/lukhanin/databases/filesystemdb/testManageConfigs_eventbuilder/>.
05-12 17:27:21.804313  1 11 StorageProvider::FileSystemDB mkdir dir=</home/lukhanin/databases/filesystemdb/testManageConfigs_eventbuilder/>
05-12 17:27:21.804358  1 11 StorageProvider::FileSystemDB Directory exists, checking permissions; path=</home/lukhanin/databases/filesystemdb/testManageConfigs_eventbuilder/>
05-12 17:27:21.804541  1  4 StorageProvider::FileSystemDB::store() filename=</home/lukhanin/databases/filesystemdb/testManageConfigs_eventbuilder/e323723b7e4546d7a7d812cc.json>.
05-12 17:27:21.872032  1  3 StorageProvider::FileSystemDB::index::_open() begin
05-12 17:27:21.872052  1  3 StorageProvider::FileSystemDB::index::_open() args index_path=</home/lukhanin/databases/filesystemdb/testManageConfigs_eventbuilder/index.json>.
05-12 17:27:21.872151  1  3 StorageProvider::FileSystemDB::index::_open() json=<{
"version" : {
"versionA12250" : [
"2e9b3fe4f9eb426a98ab8aac",
"fc0b951d4cba4723887cef5a"
],
"versionA14401" : [
"41e8ebf536a64c6aafb9e0ad",
"fa485369b18049dcad5bd0d6"
],
"versionA38114" : [
"5146950d2f914e5c81ea77c4"
]
},
"configurations.name" : {
"testConfigA03172016-174859" : [
"2e9b3fe4f9eb426a98ab8aac",
"41e8ebf536a64c6aafb9e0ad",
"5146950d2f914e5c81ea77c4",
"fa485369b18049dcad5bd0d6",
"fc0b951d4cba4723887cef5a"
]
},
"configurable_entity.name" : {
"test005" : [
"2e9b3fe4f9eb426a98ab8aac",
"5146950d2f914e5c81ea77c4",
"fa485369b18049dcad5bd0d6"
],
"test006" : [
"41e8ebf536a64c6aafb9e0ad",
"fc0b951d4cba4723887cef5a"
]
}
}>
05-12 17:27:21.873027  1  5 StorageProvider::FileSystemDB::index::addDocument() begin
05-12 17:27:21.873107  1  5 StorageProvider::FileSystemDB::index::addDocument() args document=<{
        "document" : {
            "data" : {
                "prolog" : {

                }, 
                "main" : {
                    "services" : {
                        "scheduler" : {
                            "fileMode" : "NOMERGE", 
                            "errorOnFailureToPut" : false
                        }, 
                        "NetMonTransportServiceInterface" : {
                            "service_provider" : "NetMonTransportService", 
                            "first_data_receiver_rank" : 4, 
                            "mpi_buffer_count" : 8, 
                            "max_fragment_size_words" : 2097152, 
                            "data_receiver_count" : 1
                        }
                    }, 
                    "daq" : {
                        "max_fragment_size_words" : 2097152, 
                        "event_builder" : {
                            "mpi_buffer_count" : 16, 
                            "first_fragment_receiver_rank" : 0, 
                            "fragment_receiver_count" : 2, 
                            "expected_fragments_per_event" : 2, 
                            "use_art" : true, 
                            "print_event_store_stats" : true, 
                            "verbose" : false
                        }, 
                        "metrics" : {
                            "evbFile" : {
                                "metricPluginType" : "file", 
                                "level" : 3, 
                                "fileName" : "/tmp/eventbuilder/evb_%UID%_metrics.log", 
                                "uniquify" : true
                            }
                        }
                    }, 
                    "outputs" : {
                        "rootMPIOutput" : {
                            "module_type" : "RootMPIOutput", 
                            "SelectEvents" : {
                                "SelectEvents" : [
                                    "pmod2", 
                                    "pmod3"
                                ]
                            }
                        }
                    }, 
                    "physics" : {
                        "analyzers" : {

                        }, 
                        "producers" : {

                        }, 
                        "filters" : {
                            "prescaleMod2" : {
                                "module_type" : "NthEvent", 
                                "nth" : 2
                            }, 
                            "prescaleMod3" : {
                                "module_type" : "NthEvent", 
                                "nth" : 3
                            }
                        }, 
                        "p1" : [

                        ], 
                        "pmod2" : [
                            "prescaleMod2"
                        ], 
                        "pmod3" : [
                            "prescaleMod3"
                        ], 
                        "my_output_modules" : [
                            "rootMPIOutput"
                        ]
                    }, 
                    "source" : {
                        "module_type" : "RawInput", 
                        "waiting_time" : 2500000, 
                        "resume_after_timeout" : true, 
                        "fragment_type_map" : [
                            [
                                1, 
                                "missed"
                            ], 
                            [
                                3, 
                                "V1720"
                            ], 
                            [
                                4, 
                                "V1724"
                            ], 
                            [
                                6, 
                                "TOY1"
                            ], 
               
05-12 17:27:21.873187  1  5 StorageProvider::FileSystemDB::index::addDocument() args ouid=<e323723b7e4546d7a7d812cc>.
05-12 17:27:21.884868  1  5 StorageProvider::FileSystemDB::index::addDocument() found 9 keys.
05-12 17:27:21.884890  1  7 StorageProvider::FileSystemDB::index::_addVersion() begin
05-12 17:27:21.884904  1  7 StorageProvider::FileSystemDB::index::_addVersion() args ouid=<e323723b7e4546d7a7d812cc>.
05-12 17:27:21.884913  1  7 StorageProvider::FileSystemDB::index::_addVersion() args version=<versionA38114>.
05-12 17:27:21.885077  1  7 StorageProvider::FileSystemDB::index::_addConfiguration() begin
05-12 17:27:21.885086  1  7 StorageProvider::FileSystemDB::index::_addConfiguration() args ouid=<e323723b7e4546d7a7d812cc>.
05-12 17:27:21.885092  1  7 StorageProvider::FileSystemDB::index::_addConfiguration() args configuration=<testConfigA03172016-174859>.
05-12 17:27:21.885126  1  7 StorageProvider::FileSystemDB::index::_addConfigurableEntity() begin
05-12 17:27:21.885137  1  7 StorageProvider::FileSystemDB::index::_addConfigurableEntity() args ouid=<e323723b7e4546d7a7d812cc>.
05-12 17:27:21.885143  1  7 StorageProvider::FileSystemDB::index::_addConfigurableEntity() args entity=<test006>.
05-12 17:27:21.885353  1  4 StorageProvider::FileSystemDB::index::_close() begin
05-12 17:27:21.886255  1  4 StorageProvider::FileSystemDB::index::_close() json=<{
"version" : {
"versionA12250" : [
"2e9b3fe4f9eb426a98ab8aac",
"fc0b951d4cba4723887cef5a"
],
"versionA14401" : [
"41e8ebf536a64c6aafb9e0ad",
"fa485369b18049dcad5bd0d6"
],
"versionA38114" : [
"5146950d2f914e5c81ea77c4",
"e323723b7e4546d7a7d812cc"
]
},
"configurations.name" : {
"testConfigA03172016-174859" : [
"2e9b3fe4f9eb426a98ab8aac",
"41e8ebf536a64c6aafb9e0ad",
"5146950d2f914e5c81ea77c4",
"e323723b7e4546d7a7d812cc",
"fa485369b18049dcad5bd0d6",
"fc0b951d4cba4723887cef5a"
]
},
"configurable_entity.name" : {
"test005" : [
"2e9b3fe4f9eb426a98ab8aac",
"5146950d2f914e5c81ea77c4",
"fa485369b18049dcad5bd0d6"
],
"test006" : [
"41e8ebf536a64c6aafb9e0ad",
"e323723b7e4546d7a7d812cc",
"fc0b951d4cba4723887cef5a"
]
}
}>
05-12 17:27:21.886380  1  4 StorageProvider::FileSystemDB::index::_close() Closed SearchIndex.
05-12 17:27:21.886519  1 15 store_configuration: end
Parsed options:
{
"filter" : {
"version" : "versionA38114",
"configurable_entity.name" : "test006",
"configurations.name" : "testConfigA03172016-174859"
},
"dbprovider" : "filesystem",
"operation" : "store",
"collection" : "testManageConfigs_eventbuilder",
"dataformat" : "fhicl",
"configuration" : "testConfigA03172016-174859"
}
Running test:<store>
returned:
 
services: {
 
scheduler: {
 
fileMode: NOMERGE  
 
errorOnFailureToPut: false  

} 
NetMonTransportServiceInterface: {
 
service_provider: NetMonTransportService  
 
first_data_receiver_rank: 4  
 
mpi_buffer_count: 8  
 
max_fragment_size_words: 2097152  
 
data_receiver_count: 1 # 2

}
} 
daq: {
 
max_fragment_size_words: 2097152  
 
event_builder: {
 
mpi_buffer_count: 16  
 
first_fragment_receiver_rank: 0  
 
fragment_receiver_count: 2  
 
expected_fragments_per_event: 2  
 
use_art: true  
 
print_event_store_stats: true  
 
verbose: false  

} 
metrics: {
 
evbFile: {
 
metricPluginType: file  
 
level: 3  
 
fileName: "/tmp/eventbuilder/evb_%UID%_metrics.log"  
 
uniquify: true  

}
}
} 
outputs: {
 
rootMPIOutput: {
 
module_type: RootMPIOutput  
 
SelectEvents: {
 
SelectEvents: [pmod2, pmod3]  

}
}
} 
physics: {
 
analyzers: {

} 
producers: {

} 
filters: {
 
prescaleMod2: {
 
module_type: NthEvent  
 
nth: 2  

} 
prescaleMod3: {
 
module_type: NthEvent  
 
nth: 3  

}
} 
p1: []  
 
pmod2: [prescaleMod2]  
 
pmod3: [prescaleMod3]  
 
my_output_modules: [rootMPIOutput]  

} 
source: {
 
module_type: RawInput  
 
waiting_time: 2500000  
 
resume_after_timeout: true  
 
fragment_type_map: [[1, missed], [3, V1720], [4, V1724], [6, TOY1], [7, TOY2], [8, ASCII]]  

} 
process_name: DAQ  

<end of output>
Test time =   0.36 sec
----------------------------------------------------------
Test Passed.
"ManageConfigs_seeddata_filesystem_000_006_t" end time: May 12 17:27 CDT
"ManageConfigs_seeddata_filesystem_000_006_t" time elapsed: 00:00:00
----------------------------------------------------------

28/28 Testing: ManageConfigs_seeddata_mongo_000_006_t
28/28 Test: ManageConfigs_seeddata_mongo_000_006_t
Command: "/home/lukhanin/scratch/current/artdaq-demo-base/products/cetbuildtools/v4_18_02/bin/cet_exec_test" "--wd" "/home/lukhanin/scratch/current/artdaq-demo-base/build_artdaq-utilities-database/test/ConfigurationDB/ManageConfigs/test000/ManageConfigs_seeddata_mongo_000_006_t.d" "--required-files" "" "--datafiles" "/home/lukhanin/scratch/current/artdaq-demo-base/build_artdaq-utilities-database/test/ConfigurationDB/ManageConfigs/test000/test006.src.695.fcl;/home/lukhanin/scratch/current/artdaq-demo-base/build_artdaq-utilities-database/test/ConfigurationDB/ManageConfigs/test000/test006.cmp.695.fcl" "--skip-return-code" "247" "LoadStore_t" "-o" "store" "-d" "mongo" "-c" "testManageConfigs_eventbuilder" "-f" "fhicl" "-v" "versionA38114" "-g" "testConfigA03172016-174859" "-e" "test006" "-s" "test006.src.695.fcl" "-r" "test006.cmp.695.fcl"
Directory: /home/lukhanin/scratch/current/artdaq-demo-base/build_artdaq-utilities-database/test/ConfigurationDB/ManageConfigs/test000/ManageConfigs_seeddata_mongo_000_006_t.d
"ManageConfigs_seeddata_mongo_000_006_t" start time: May 12 17:27 CDT
Output:
----------------------------------------------------------
removed ‘test006.cmp.066.fcl’
removed ‘test006.src.066.fcl’
05-12 17:27:21.935665  1  0 artdaq::database::filesystem trace_enable
05-12 17:27:21.935827  1  0 artdaq::database::filesystem::index trace_enable
05-12 17:27:21.935886  1  0 artdaq::database::mongo trace_enable
05-12 17:27:21.935961  1  0 artdaq::database::configuration::LoadStoreOperation trace_enable
05-12 17:27:21.936004  1  0 artdaq::database::configuration::options::OperationBase trace_enable
05-12 17:27:21.936032  1  0 artdaq::database::configuration::options::OperationLoadStore trace_enable
05-12 17:27:21.936058  1  0 artdaq::database::configuration::LoadStoreOperationDetail trace_enable
05-12 17:27:21.938378  1 12 Options: Updating provider from filesystem to mongo.
05-12 17:27:21.938407  1 10 Options: Updating operation from load to store.
05-12 17:27:21.938419  1 14 Options: dataFormat args format=<fhicl>.
05-12 17:27:21.938440  1 11 Options: Updating collection_name from notprovided to testManageConfigs_eventbuilder.
05-12 17:27:21.938455  1 10 Options: Updating version from notprovided to versionA38114.
05-12 17:27:21.938471  1 11 Options: Updating entity from notprovided to test006.
05-12 17:27:21.938484  1 12 Options: Updating global_configuration from notprovided to testConfigA03172016-174859.
05-12 17:27:21.948319  1 12 Options: Updating provider from filesystem to mongo.
05-12 17:27:21.948355  1 10 Options: Updating operation from load to store.
05-12 17:27:21.948373  1 14 Options: dataFormat args format=<fhicl>.
05-12 17:27:21.948390  1 11 Options: Updating collection_name from notprovided to testManageConfigs_eventbuilder.
05-12 17:27:21.948665  1 15 Options: searchFilter args search_filter=<{
"version" : "versionA38114",
"configurable_entity.name" : "test006",
"configurations.name" : "testConfigA03172016-174859"
}>.
05-12 17:27:21.949022  1 15 Options: searchFilter args search_filter=<notprovided>.
05-12 17:27:21.949043  1 10 Options: Updating version from notprovided to versionA38114.
05-12 17:27:21.949059  1 11 Options: Updating entity from notprovided to test006.
05-12 17:27:21.949070  1 12 Options: Updating global_configuration from notprovided to testConfigA03172016-174859.
05-12 17:27:21.949092  1 15 store_configuration: begin
05-12 17:27:22.085700  1 17 store_configuration: Converted json data to fcl; json=<{
"document" : {
"data" : {
"prolog" : {

},
"main" : {
"services" : {
"scheduler" : {
"fileMode" : "NOMERGE",
"errorOnFailureToPut" : false
},
"NetMonTransportServiceInterface" : {
"service_provider" : "NetMonTransportService",
"first_data_receiver_rank" : 4,
"mpi_buffer_count" : 8,
"max_fragment_size_words" : 2097152,
"data_receiver_count" : 1
}
},
"daq" : {
"max_fragment_size_words" : 2097152,
"event_builder" : {
"mpi_buffer_count" : 16,
"first_fragment_receiver_rank" : 0,
"fragment_receiver_count" : 2,
"expected_fragments_per_event" : 2,
"use_art" : true,
"print_event_store_stats" : true,
"verbose" : false
},
"metrics" : {
"evbFile" : {
"metricPluginType" : "file",
"level" : 3,
"fileName" : "/tmp/eventbuilder/evb_%UID%_metrics.log",
"uniquify" : true
}
}
},
"outputs" : {
"rootMPIOutput" : {
"module_type" : "RootMPIOutput",
"SelectEvents" : {
"SelectEvents" : [
"pmod2",
"pmod3"
]
}
}
},
"physics" : {
"analyzers" : {

},
"producers" : {

},
"filters" : {
"prescaleMod2" : {
"module_type" : "NthEvent",
"nth" : 2
},
"prescaleMod3" : {
"module_type" : "NthEvent",
"nth" : 3
}
},
"p1" : [

],
"pmod2" : [
"prescaleMod2"
],
"pmod3" : [
"prescaleMod3"
],
"my_output_modules" : [
"rootMPIOutput"
]
},
"source" : {
"module_type" : "RawInput",
"waiting_time" : 2500000,
"resume_after_timeout" : true,
"fragment_type_map" : [
[
1,
"missed"
],
[
3,
"V1720"
],
[
4,
"V1724"
],
[
6,
"TOY1"
],
[
7,
"TOY2"
],
[
8,
"ASCII"
]
]
},
"process_name" : "DAQ"
}
},
"metadata" : {
"prolog" : {

},
"main" : {
"services" : {
"type" : "table",
"comment" : " ",
"children" : {
"scheduler" : {
"type" : "table",
"comment" : " ",
"children" : {
"fileMode" : {
"type" : "string",
"comment" : " ",
"annotation" : " "
},
"errorOnFailureToPut" : {
"type" : "bool",
"comment" : " ",
"annotation" : " "
}
}
},
"NetMonTransportServiceInterface" : {
"type" : "table",
"comment" : " ",
"children" : {
"service_provider" : {
"type" : "string",
"comment" : " ",
"annotation" : " "
},
"first_data_receiver_rank" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"mpi_buffer_count" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"max_fragment_size_words" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"data_receiver_count" : {
"type" : "number",
"comment" : " ",
"annotation" : "# 2"
}
}
}
}
},
"daq" : {
"type" : "table",
"comment" : " ",
"children" : {
"max_fragment_size_words" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"event_builder" : {
"type" : "table",
"comment" : " ",
"children" : {
"mpi_buffer_count" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"first_fragment_receiver_rank" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"fragment_receiver_count" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"expected_fragments_per_event" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"use_art" : {
"type" : "bool",
"comment" : " ",
"annotation" : " "
},
"print_event_store_stats" : {
"type" : "bool",
"comment" : " ",
"annotation" : " "
},
"verbose" : {
"type" : "bool",
"comment" : " ",
"annotation" : " "
}
}
},
"metrics" : {
"type" : "table",
"comment" : " ",
"children" : {
"evbFile" : {
"type" : "table",
"comment" : " ",
"children" : {
"metricPluginType" : {
"type" : "string",
"comment" : " ",
"annotation" : " "
},
"level" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"fileName" : {
"type" : "string",
"comment" : " ",
"annotation" : " "
},
"uniquify" : {
"type" : "bool",
"comment" : " ",
"annotation" : " "
}
}
}
}
}
}
},
"outputs" : {
"type" : "table",
"comment" : " ",
"children" : {
"rootMPIOutput" : {
"type" : "table",
"comment" : " ",
"children" : {
"module_type" : {
"type" : "string",
"comment" : " ",
"annotation" : " "
},
"SelectEvents" : {
"type" : "table",
"comment" : " ",
"children" : {
"SelectEvents" : {
"type" : "sequence",
"comment" : " ",
"annotation" : " "
}
}
}
}
}
}
},
"physics" : {
"type" : "table",
"comment" : " ",
"children" : {
"analyzers" : {
"type" : "
05-12 17:27:22.085862  1 17 store_configuration: Converted json data to fcl; fcl=< 
services: {
 
scheduler: {
 
fileMode: NOMERGE  
 
errorOnFailureToPut: false  

} 
NetMonTransportServiceInterface: {
 
service_provider: NetMonTransportService  
 
first_data_receiver_rank: 4  
 
mpi_buffer_count: 8  
 
max_fragment_size_words: 2097152  
 
data_receiver_count: 1 # 2

}
} 
daq: {
 
max_fragment_size_words: 2097152  
 
event_builder: {
 
mpi_buffer_count: 16  
 
first_fragment_receiver_rank: 0  
 
fragment_receiver_count: 2  
 
expected_fragments_per_event: 2  
 
use_art: true  
 
print_event_store_stats: true  
 
verbose: false  

} 
metrics: {
 
evbFile: {
 
metricPluginType: file  
 
level: 3  
 
fileName: "/tmp/eventbuilder/evb_%UID%_metrics.log"  
 
uniquify: true  

}
}
} 
outputs: {
 
rootMPIOutput: {
 
module_type: RootMPIOutput  
 
SelectEvents: {
 
SelectEvents: [pmod2, pmod3]  

}
}
} 
physics: {
 
analyzers: {

} 
producers: {

} 
filters: {
 
prescaleMod2: {
 
module_type: NthEvent  
 
nth: 2  

} 
prescaleMod3: {
 
module_type: NthEvent  
 
nth: 3  

}
} 
p1: []  
 
pmod2: [prescaleMod2]  
 
pmod3: [prescaleMod3]  
 
my_output_modules: [rootMPIOutput]  

} 
source: {
 
module_type: RawInput  
 
waiting_time: 2500000  
 
resume_after_timeout: true  
 
fragment_type_map: [[1, missed], [3, V1720], [4, V1724], [6, TOY1], [7, TOY2], [8, ASCII]]  

} 
process_name: DAQ  
>
05-12 17:27:22.085899  1 15 store_configuration: json_buffer=<{
"document" : {
"data" : {
"prolog" : {

},
"main" : {
"services" : {
"scheduler" : {
"fileMode" : "NOMERGE",
"errorOnFailureToPut" : false
},
"NetMonTransportServiceInterface" : {
"service_provider" : "NetMonTransportService",
"first_data_receiver_rank" : 4,
"mpi_buffer_count" : 8,
"max_fragment_size_words" : 2097152,
"data_receiver_count" : 1
}
},
"daq" : {
"max_fragment_size_words" : 2097152,
"event_builder" : {
"mpi_buffer_count" : 16,
"first_fragment_receiver_rank" : 0,
"fragment_receiver_count" : 2,
"expected_fragments_per_event" : 2,
"use_art" : true,
"print_event_store_stats" : true,
"verbose" : false
},
"metrics" : {
"evbFile" : {
"metricPluginType" : "file",
"level" : 3,
"fileName" : "/tmp/eventbuilder/evb_%UID%_metrics.log",
"uniquify" : true
}
}
},
"outputs" : {
"rootMPIOutput" : {
"module_type" : "RootMPIOutput",
"SelectEvents" : {
"SelectEvents" : [
"pmod2",
"pmod3"
]
}
}
},
"physics" : {
"analyzers" : {

},
"producers" : {

},
"filters" : {
"prescaleMod2" : {
"module_type" : "NthEvent",
"nth" : 2
},
"prescaleMod3" : {
"module_type" : "NthEvent",
"nth" : 3
}
},
"p1" : [

],
"pmod2" : [
"prescaleMod2"
],
"pmod3" : [
"prescaleMod3"
],
"my_output_modules" : [
"rootMPIOutput"
]
},
"source" : {
"module_type" : "RawInput",
"waiting_time" : 2500000,
"resume_after_timeout" : true,
"fragment_type_map" : [
[
1,
"missed"
],
[
3,
"V1720"
],
[
4,
"V1724"
],
[
6,
"TOY1"
],
[
7,
"TOY2"
],
[
8,
"ASCII"
]
]
},
"process_name" : "DAQ"
}
},
"metadata" : {
"prolog" : {

},
"main" : {
"services" : {
"type" : "table",
"comment" : " ",
"children" : {
"scheduler" : {
"type" : "table",
"comment" : " ",
"children" : {
"fileMode" : {
"type" : "string",
"comment" : " ",
"annotation" : " "
},
"errorOnFailureToPut" : {
"type" : "bool",
"comment" : " ",
"annotation" : " "
}
}
},
"NetMonTransportServiceInterface" : {
"type" : "table",
"comment" : " ",
"children" : {
"service_provider" : {
"type" : "string",
"comment" : " ",
"annotation" : " "
},
"first_data_receiver_rank" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"mpi_buffer_count" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"max_fragment_size_words" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"data_receiver_count" : {
"type" : "number",
"comment" : " ",
"annotation" : "# 2"
}
}
}
}
},
"daq" : {
"type" : "table",
"comment" : " ",
"children" : {
"max_fragment_size_words" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"event_builder" : {
"type" : "table",
"comment" : " ",
"children" : {
"mpi_buffer_count" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"first_fragment_receiver_rank" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"fragment_receiver_count" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"expected_fragments_per_event" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"use_art" : {
"type" : "bool",
"comment" : " ",
"annotation" : " "
},
"print_event_store_stats" : {
"type" : "bool",
"comment" : " ",
"annotation" : " "
},
"verbose" : {
"type" : "bool",
"comment" : " ",
"annotation" : " "
}
}
},
"metrics" : {
"type" : "table",
"comment" : " ",
"children" : {
"evbFile" : {
"type" : "table",
"comment" : " ",
"children" : {
"metricPluginType" : {
"type" : "string",
"comment" : " ",
"annotation" : " "
},
"level" : {
"type" : "number",
"comment" : " ",
"annotation" : " "
},
"fileName" : {
"type" : "string",
"comment" : " ",
"annotation" : " "
},
"uniquify" : {
"type" : "bool",
"comment" : " ",
"annotation" : " "
}
}
}
}
}
}
},
"outputs" : {
"type" : "table",
"comment" : " ",
"children" : {
"rootMPIOutput" : {
"type" : "table",
"comment" : " ",
"children" : {
"module_type" : {
"type" : "string",
"comment" : " ",
"annotation" : " "
},
"SelectEvents" : {
"type" : "table",
"comment" : " ",
"children" : {
"SelectEvents" : {
"type" : "sequence",
"comment" : " ",
"annotation" : " "
}
}
}
}
}
}
},
"physics" : {
"type" : "table",
"comment" : " ",
"children" : {
"analyzers" : {
"type" : "table",
"comment" : "
05-12 17:27:22.101407  1 15 store_configuration: insert_payload=<{"document":{
    "document" : {
        "data" : {
            "prolog" : {

            }, 
            "main" : {
                "services" : {
                    "scheduler" : {
                        "fileMode" : "NOMERGE", 
                        "errorOnFailureToPut" : false
                    }, 
                    "NetMonTransportServiceInterface" : {
                        "service_provider" : "NetMonTransportService", 
                        "first_data_receiver_rank" : 4, 
                        "mpi_buffer_count" : 8, 
                        "max_fragment_size_words" : 2097152, 
                        "data_receiver_count" : 1
                    }
                }, 
                "daq" : {
                    "max_fragment_size_words" : 2097152, 
                    "event_builder" : {
                        "mpi_buffer_count" : 16, 
                        "first_fragment_receiver_rank" : 0, 
                        "fragment_receiver_count" : 2, 
                        "expected_fragments_per_event" : 2, 
                        "use_art" : true, 
                        "print_event_store_stats" : true, 
                        "verbose" : false
                    }, 
                    "metrics" : {
                        "evbFile" : {
                            "metricPluginType" : "file", 
                            "level" : 3, 
                            "fileName" : "/tmp/eventbuilder/evb_%UID%_metrics.log", 
                            "uniquify" : true
                        }
                    }
                }, 
                "outputs" : {
                    "rootMPIOutput" : {
                        "module_type" : "RootMPIOutput", 
                        "SelectEvents" : {
                            "SelectEvents" : [
                                "pmod2", 
                                "pmod3"
                            ]
                        }
                    }
                }, 
                "physics" : {
                    "analyzers" : {

                    }, 
                    "producers" : {

                    }, 
                    "filters" : {
                        "prescaleMod2" : {
                            "module_type" : "NthEvent", 
                            "nth" : 2
                        }, 
                        "prescaleMod3" : {
                            "module_type" : "NthEvent", 
                            "nth" : 3
                        }
                    }, 
                    "p1" : [

                    ], 
                    "pmod2" : [
                        "prescaleMod2"
                    ], 
                    "pmod3" : [
                        "prescaleMod3"
                    ], 
                    "my_output_modules" : [
                        "rootMPIOutput"
                    ]
                }, 
                "source" : {
                    "module_type" : "RawInput", 
                    "waiting_time" : 2500000, 
                    "resume_after_timeout" : true, 
                    "fragment_type_map" : [
                        [
                            1, 
                            "missed"
                        ], 
                        [
                            3, 
                            "V1720"
                        ], 
                        [
                            4, 
                            "V1724"
                        ], 
                        [
                            6, 
                            "TOY1"
                        ], 
                        [
                            7, 
                            "TOY2"
                        ], 
                        [
                            8, 
                            "ASCII"
                        ]
                    ]
                }, 
                "process_name" : "DAQ"
            }
        }, 
        "metadata" : {
            "prolog" : {

            }, 
        
05-12 17:27:22.102275  1  4 StorageProvider::MongoDB::store() begin
05-12 17:27:22.102708  1  4 Search filter is missing, proceeding with insert.
05-12 17:27:22.116969  1  5 inserted_id={
    "$oid" : "5735034a1a72ba51292d6881"
}
05-12 17:27:22.117273  1 15 store_configuration: end
Parsed options:
{
"filter" : {
"version" : "versionA38114",
"configurable_entity.name" : "test006",
"configurations.name" : "testConfigA03172016-174859"
},
"dbprovider" : "mongo",
"operation" : "store",
"collection" : "testManageConfigs_eventbuilder",
"dataformat" : "fhicl",
"configuration" : "testConfigA03172016-174859"
}
Running test:<store>
returned:
 
services: {
 
scheduler: {
 
fileMode: NOMERGE  
 
errorOnFailureToPut: false  

} 
NetMonTransportServiceInterface: {
 
service_provider: NetMonTransportService  
 
first_data_receiver_rank: 4  
 
mpi_buffer_count: 8  
 
max_fragment_size_words: 2097152  
 
data_receiver_count: 1 # 2

}
} 
daq: {
 
max_fragment_size_words: 2097152  
 
event_builder: {
 
mpi_buffer_count: 16  
 
first_fragment_receiver_rank: 0  
 
fragment_receiver_count: 2  
 
expected_fragments_per_event: 2  
 
use_art: true  
 
print_event_store_stats: true  
 
verbose: false  

} 
metrics: {
 
evbFile: {
 
metricPluginType: file  
 
level: 3  
 
fileName: "/tmp/eventbuilder/evb_%UID%_metrics.log"  
 
uniquify: true  

}
}
} 
outputs: {
 
rootMPIOutput: {
 
module_type: RootMPIOutput  
 
SelectEvents: {
 
SelectEvents: [pmod2, pmod3]  

}
}
} 
physics: {
 
analyzers: {

} 
producers: {

} 
filters: {
 
prescaleMod2: {
 
module_type: NthEvent  
 
nth: 2  

} 
prescaleMod3: {
 
module_type: NthEvent  
 
nth: 3  

}
} 
p1: []  
 
pmod2: [prescaleMod2]  
 
pmod3: [prescaleMod3]  
 
my_output_modules: [rootMPIOutput]  

} 
source: {
 
module_type: RawInput  
 
waiting_time: 2500000  
 
resume_after_timeout: true  
 
fragment_type_map: [[1, missed], [3, V1720], [4, V1724], [6, TOY1], [7, TOY2], [8, ASCII]]  

} 
process_name: DAQ  

<end of output>
Test time =   0.23 sec
----------------------------------------------------------
Test Passed.
"ManageConfigs_seeddata_mongo_000_006_t" end time: May 12 17:27 CDT
"ManageConfigs_seeddata_mongo_000_006_t" time elapsed: 00:00:00
----------------------------------------------------------

End testing: May 12 17:27 CDT
